/*[system-bundles-config]*/
System.bundles = {"bundles/lib/lib.css!":["public/css/fancybox/jquery.fancybox-1.3.4.css!steal-css","jquery/jqueryui/jqueryui.css!steal-css","public/css/bootstrap/css/bootstrap.css!steal-css","lib/vendor/frogfont/style.css!steal-css","lib/vendor/frogfont/app-icons/style.css!steal-css","lib/vendor/frogfont/sprite-icon-svg/style.css!steal-css","lib/vendor/font-awesome/css/font-awesome.min.css!steal-css","os/public/css/os.css!steal-css","os/public/css/os-bootstrap.css!steal-css","os/public/css/os-ckeditor.css!steal-css","os/public/css/os-jqueryui.css!steal-css","os/public/css/genericdialog.css!steal-css","os/public/css/gritter.css!steal-css","os/public/css/frogfooter.css!steal-css","os/public/css/components.css!steal-css","os/public/css/icons.css!steal-css","os/public/css/small-tablet.css!steal-css","os/public/css/frog-animations.css!steal-css","os/public/css/appLoader.css!steal-css","os/public/css/frog-font.css!steal-css","os/public/css/iframe.css!steal-css","os/public/css/print.css!steal-css","os/public/css/touch.css!steal-css","os/public/css/dashboard.css!steal-css","os/public/css/responsive.css!steal-css","public/css/bootstrap-datetimepicker/datetimepicker.css!steal-css","public/css/selectmenu/jquery.ui.selectmenu.css!steal-css","public/css/gritter/jquery.gritter.css!steal-css","public/css/selectmenu/selectmenu.overrides.css!steal-css","public/css/tablesorter/tablesorter.css!steal-css","os/public/css/os-breadcrumb.css!steal-css","os/public/css/search.css!steal-css","os/public/css/apptray.css!steal-css","os/public/css/window_management.css!steal-css","os/public/css/frog-labels.css!steal-css","os/public/css/contextmenu.css!steal-css","os/public/css/navbar.css!steal-css","os/public/css/notices.css!steal-css","os/public/css/assignments.css!steal-css","os/public/css/profile.css!steal-css","os/public/css/quicklaunch.css!steal-css","os/public/css/skins.css!steal-css","os/public/css/desktopnav.css!steal-css","os/public/css/uk_primary/uk_primary.css!steal-css","os/public/css/training.css!steal-css","os/public/css/myfrog_embedded.css!steal-css","os/public/css/inbox.css!steal-css","os/public/css/modal.css!steal-css"]};
/*jquery/jquery*/
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=fe.type(e);return"function"!==n&&!fe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(fe.isFunction(t))return fe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return fe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(we.test(t))return fe.filter(t,e,n);t=fe.filter(t,e)}return fe.grep(e,function(e){return fe.inArray(e,t)>-1!==n})}function i(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){var t={};return fe.each(e.match(ke)||[],function(e,n){t[n]=!0}),t}function a(){ne.addEventListener?(ne.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s)):(ne.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(ne.addEventListener||"load"===e.event.type||"complete"===ne.readyState)&&(a(),fe.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Le,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:je.test(n)?fe.parseJSON(n):n)}catch(e){}fe.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!fe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(De(e)){var i,o,a=fe.expando,s=e.nodeType,u=s?fe.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=te.pop()||fe.guid++:a),u[l]||(u[l]=s?{}:{toJSON:fe.noop}),"object"!=typeof t&&"function"!=typeof t||(r?u[l]=fe.extend(u[l],t):u[l].data=fe.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[fe.camelCase(t)]=n),"string"==typeof t?null==(i=o[t])&&(i=o[fe.camelCase(t)]):i=o,i}}function f(e,t,n){if(De(e)){var r,i,o=e.nodeType,a=o?fe.cache:e,s=o?e[fe.expando]:fe.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){i=(t=fe.isArray(t)?t.concat(fe.map(t,fe.camelCase)):t in r?[t]:(t=fe.camelCase(t))in r?[t]:t.split(" ")).length;for(;i--;)delete r[t[i]];if(n?!l(r):!fe.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?fe.cleanData([e],!0):ce.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}function d(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return fe.css(e,t,"")},u=s(),l=n&&n[3]||(fe.cssNumber[t]?"":"px"),c=(fe.cssNumber[t]||"px"!==l&&+u)&&qe.exec(fe.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do{c/=o=o||".5",fe.style(e,t,c+l)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function p(e){var t=We.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){var n,r,i=0,o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||fe.nodeName(r,t)?o.push(r):fe.merge(o,h(r,t));return void 0===t||t&&fe.nodeName(e,t)?fe.merge([e],o):o}function g(e,t){for(var n,r=0;null!=(n=e[r]);r++)fe._data(n,"globalEval",!t||fe._data(t[r],"globalEval"))}function m(e){Oe.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t,n,r,i){for(var o,a,s,u,l,c,f,d=e.length,v=p(t),y=[],x=0;x<d;x++)if((a=e[x])||0===a)if("object"===fe.type(a))fe.merge(y,a.nodeType?[a]:a);else if($e.test(a)){for(u=u||v.appendChild(t.createElement("div")),l=(Re.exec(a)||["",""])[1].toLowerCase(),f=Ie[l]||Ie._default,u.innerHTML=f[1]+fe.htmlPrefilter(a)+f[2],o=f[0];o--;)u=u.lastChild;if(!ce.leadingWhitespace&&Be.test(a)&&y.push(t.createTextNode(Be.exec(a)[0])),!ce.tbody)for(o=(a="table"!==l||ze.test(a)?"<table>"!==f[1]||ze.test(a)?0:u:u.firstChild)&&a.childNodes.length;o--;)fe.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(fe.merge(y,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=v.lastChild}else y.push(t.createTextNode(a));for(u&&v.removeChild(u),ce.appendChecked||fe.grep(h(y,"input"),m),x=0;a=y[x++];)if(r&&fe.inArray(a,r)>-1)i&&i.push(a);else if(s=fe.contains(a.ownerDocument,a),u=h(v.appendChild(a),"script"),s&&g(u),n)for(o=0;a=u[o++];)Pe.test(a.type||"")&&n.push(a);return u=null,v}function y(){return!0}function x(){return!1}function b(){try{return ne.activeElement}catch(e){}}function w(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)w(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=x;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return fe().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=fe.guid++)),e.each(function(){fe.event.add(this,t,i,r,n)})}function T(e,t){return fe.nodeName(e,"table")&&fe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function C(e){return e.type=(null!==fe.find.attr(e,"type"))+"/"+e.type,e}function E(e){var t=tt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function N(e,t){if(1===t.nodeType&&fe.hasData(e)){var n,r,i,o=fe._data(e),a=fe._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;r<i;r++)fe.event.add(t,n,s[n][r])}a.data&&(a.data=fe.extend({},a.data))}}function k(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ce.noCloneEvent&&t[fe.expando]){i=fe._data(t);for(r in i.events)fe.removeEvent(t,r,i.handle);t.removeAttribute(fe.expando)}"script"===n&&t.text!==e.text?(C(t).text=e.text,E(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ce.html5Clone&&e.innerHTML&&!fe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Oe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function S(e,t,n,r){t=ie.apply([],t);var i,o,a,s,u,l,c=0,f=e.length,d=f-1,p=t[0],g=fe.isFunction(p);if(g||f>1&&"string"==typeof p&&!ce.checkClone&&et.test(p))return e.each(function(i){var o=e.eq(i);g&&(t[0]=p.call(this,i,o.html())),S(o,t,n,r)});if(f&&(l=v(t,e[0].ownerDocument,!1,e,r),i=l.firstChild,1===l.childNodes.length&&(l=i),i||r)){for(a=(s=fe.map(h(l,"script"),C)).length;c<f;c++)o=l,c!==d&&(o=fe.clone(o,!0,!0),a&&fe.merge(s,h(o,"script"))),n.call(e[c],o,c);if(a)for(u=s[s.length-1].ownerDocument,fe.map(s,E),c=0;c<a;c++)o=s[c],Pe.test(o.type||"")&&!fe._data(o,"globalEval")&&fe.contains(u,o)&&(o.src?fe._evalUrl&&fe._evalUrl(o.src):fe.globalEval((o.text||o.textContent||o.innerHTML||"").replace(nt,"")));l=i=null}return e}function A(e,t,n){for(var r,i=t?fe.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||fe.cleanData(h(r)),r.parentNode&&(n&&fe.contains(r.ownerDocument,r)&&g(h(r,"script")),r.parentNode.removeChild(r));return e}function D(e,t){var n=fe(t.createElement(e)).appendTo(t.body),r=fe.css(n[0],"display");return n.detach(),r}function j(e){var t=ne,n=ot[e];return n||("none"!==(n=D(e,t))&&n||((t=((it=(it||fe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||it[0].contentDocument).document).write(),t.close(),n=D(e,t),it.detach()),ot[e]=n),n}function L(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function H(e){if(e in bt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=xt.length;n--;)if((e=xt[n]+t)in bt)return e}function q(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=fe._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Fe(r)&&(o[a]=fe._data(r,"olddisplay",j(r.nodeName)))):(i=Fe(r),(n&&"none"!==n||!i)&&fe._data(r,"olddisplay",i?n:fe.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function _(e,t,n){var r=mt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function F(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=fe.css(e,n+_e[o],!0,i)),r?("content"===n&&(a-=fe.css(e,"padding"+_e[o],!0,i)),"margin"!==n&&(a-=fe.css(e,"border"+_e[o]+"Width",!0,i))):(a+=fe.css(e,"padding"+_e[o],!0,i),"padding"!==n&&(a+=fe.css(e,"border"+_e[o]+"Width",!0,i)));return a}function M(t,n,r){var i=!0,o="width"===n?t.offsetWidth:t.offsetHeight,a=ct(t),s=ce.boxSizing&&"border-box"===fe.css(t,"boxSizing",!1,a);if(ne.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(o=Math.round(100*t.getBoundingClientRect()[n])),o<=0||null==o){if(((o=ft(t,n,a))<0||null==o)&&(o=t.style[n]),st.test(o))return o;i=s&&(ce.boxSizingReliable()||o===t.style[n]),o=parseFloat(o)||0}return o+F(t,n,r||(s?"border":"content"),i,a)+"px"}function O(e,t,n,r,i){return new O.prototype.init(e,t,n,r,i)}function R(){return e.setTimeout(function(){wt=void 0}),wt=fe.now()}function P(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=_e[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function B(e,t,n){for(var r,i=(I.tweeners[t]||[]).concat(I.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function W(e,t){var n,r,i,o,a;for(n in e)if(r=fe.camelCase(n),i=t[r],o=e[n],fe.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=fe.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function I(e,t,n){var r,i,o=0,a=I.prefilters.length,s=fe.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=wt||R(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:fe.extend({},t),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default},n),originalProperties:t,originalOptions:n,startTime:wt||R(),duration:n.duration,tweens:[],createTween:function(t,n){var r=fe.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(W(c,l.opts.specialEasing);o<a;o++)if(r=I.prefilters[o].call(l,e,c,l.opts))return fe.isFunction(r.stop)&&(fe._queueHooks(l.elem,l.opts.queue).stop=fe.proxy(r.stop,r)),r;return fe.map(c,B,l),fe.isFunction(l.opts.start)&&l.opts.start.call(e,l),fe.fx.timer(fe.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function $(e){return fe.attr(e,"class")||""}function z(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(ke)||[];if(fe.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function X(e,t,n,r){function i(s){var u;return o[s]=!0,fe.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Yt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function U(e,t){var n,r,i=fe.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&fe.extend(!0,e,n),e}function V(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Y(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function J(e){return e.style&&e.style.display||fe.css(e,"display")}function G(e){for(;e&&1===e.nodeType;){if("none"===J(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function Q(e,t,n,r){var i;if(fe.isArray(t))fe.each(t,function(t,i){n||Zt.test(e)?r(e,i):Q(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==fe.type(t))r(e,t);else for(i in t)Q(e+"["+i+"]",t[i],n,r)}function K(){try{return new e.XMLHttpRequest}catch(e){}}function Z(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function ee(e){return fe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var te=[],ne=e.document,re=te.slice,ie=te.concat,oe=te.push,ae=te.indexOf,se={},ue=se.toString,le=se.hasOwnProperty,ce={},fe=function(e,t){return new fe.fn.init(e,t)},de=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pe=/^-ms-/,he=/-([\da-z])/gi,ge=function(e,t){return t.toUpperCase()};fe.fn=fe.prototype={jquery:"1.12.2",constructor:fe,selector:"",length:0,toArray:function(){return re.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:re.call(this)},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return fe.each(this,e)},map:function(e){return this.pushStack(fe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:te.sort,splice:te.splice},fe.extend=fe.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||fe.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],a!==(n=i[r])&&(l&&n&&(fe.isPlainObject(n)||(t=fe.isArray(n)))?(t?(t=!1,o=e&&fe.isArray(e)?e:[]):o=e&&fe.isPlainObject(e)?e:{},a[r]=fe.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},fe.extend({expando:"jQuery"+("1.12.2"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===fe.type(e)},isArray:Array.isArray||function(e){return"array"===fe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!fe.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==fe.type(e)||e.nodeType||fe.isWindow(e))return!1;try{if(e.constructor&&!le.call(e,"constructor")&&!le.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!ce.ownFirst)for(t in e)return le.call(e,t);for(t in e);return void 0===t||le.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?se[ue.call(e)]||"object":typeof e},globalEval:function(t){t&&fe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(pe,"ms-").replace(he,ge)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,i=0;if(n(e))for(r=e.length;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(de,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?fe.merge(r,"string"==typeof e?[e]:e):oe.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(ae)return ae.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,r){var i,o,a=0,s=[];if(n(e))for(i=e.length;a<i;a++)null!=(o=t(e[a],a,r))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,r))&&s.push(o);return ie.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(i=e[t],t=e,e=i),fe.isFunction(e))return n=re.call(arguments,2),r=function(){return e.apply(t||this,n.concat(re.call(arguments)))},r.guid=e.guid=e.guid||fe.guid++,r},now:function(){return+new Date},support:ce}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=te[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){se["[object "+t+"]"]=t.toLowerCase()});var me=function(e){function t(e,t,n,r){var i,o,a,s,l,f,d,p,h=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!r&&((t?t.ownerDocument||t:R)!==j&&D(t),t=t||j,H)){if(11!==g&&(f=ge.exec(e)))if(i=f[1]){if(9===g){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(h&&(a=h.getElementById(i))&&M(t,a)&&a.id===i)return n.push(a),n}else{if(f[2])return G.apply(n,t.getElementsByTagName(e)),n;if((i=f[3])&&x.getElementsByClassName&&t.getElementsByClassName)return G.apply(n,t.getElementsByClassName(i)),n}if(x.qsa&&!$[e+" "]&&(!q||!q.test(e))){if(1!==g)h=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ve,"\\$&"):t.setAttribute("id",s=O),o=(d=C(e)).length,l=ce.test(s)?"#"+s:"[id='"+s+"']";o--;)d[o]=l+" "+c(d[o]);p=d.join(","),h=me.test(e)&&u(t.parentNode)||t}if(p)try{return G.apply(n,h.querySelectorAll(p)),n}catch(e){}finally{s===O&&t.removeAttribute("id")}}}return N(e.replace(oe,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>b.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[O]=!0,e}function i(e){var t=j.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function l(){}function c(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l,c=[P,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[O]||(t[O]={}),u=l[t.uniqueID]||(l[t.uniqueID]={}),(s=u[r])&&s[0]===P&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function d(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function p(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function h(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function g(e,t,n,i,o,a){return i&&!i[O]&&(i=g(i)),o&&!o[O]&&(o=g(o,a)),r(function(r,a,s,u){var l,c,f,d=[],g=[],m=a.length,v=r||p(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:h(v,d,e,s,u),x=n?o||(r?e:m||i)?[]:a:y;if(n&&n(y,x,s,u),i)for(l=h(x,g),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(x[g[c]]=!(y[g[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?K(r,f):d[c])>-1&&(r[l]=!(a[l]=f))}}else x=h(x===a?x.splice(m,x.length):x),o?o(null,a,x,u):G.apply(a,x)})}function m(e){for(var t,n,r,i=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=f(function(e){return e===t},a,!0),l=f(function(e){return K(t,e)>-1},a,!0),p=[function(e,n,r){var i=!o&&(r||n!==k)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=b.relative[e[s].type])p=[f(d(p),n)];else{if((n=b.filter[e[s].type].apply(null,e[s].matches))[O]){for(r=++s;r<i&&!b.relative[e[r].type];r++);return g(s>1&&d(p),s>1&&c(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),n,s<r&&m(e.slice(s,r)),r<i&&m(e=e.slice(r)),r<i&&c(e))}p.push(n)}return d(p)}function v(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,f,d,p=0,g="0",m=r&&[],v=[],y=k,x=r||o&&b.find.TAG("*",l),w=P+=null==y?1:Math.random()||.1,T=x.length;for(l&&(k=a===j||a||l);g!==T&&null!=(c=x[g]);g++){if(o&&c){for(f=0,a||c.ownerDocument===j||(D(c),s=!H);d=e[f++];)if(d(c,a||j,s)){u.push(c);break}l&&(P=w)}i&&((c=!d&&c)&&p--,r&&m.push(c))}if(p+=g,i&&g!==p){for(f=0;d=n[f++];)d(m,v,a,s);if(r){if(p>0)for(;g--;)m[g]||v[g]||(v[g]=Y.call(u));v=h(v)}G.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(P=w,k=y),m};return i?r(a):a}var y,x,b,w,T,C,E,N,k,S,A,D,j,L,H,q,_,F,M,O="sizzle"+1*new Date,R=e.document,P=0,B=0,W=n(),I=n(),$=n(),z=function(e,t){return e===t&&(A=!0),0},X=1<<31,U={}.hasOwnProperty,V=[],Y=V.pop,J=V.push,G=V.push,Q=V.slice,K=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ue=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),le=new RegExp(re),ce=new RegExp("^"+te+"$"),fe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,ve=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),xe=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},be=function(){D()};try{G.apply(V=Q.call(R.childNodes),R.childNodes),V[R.childNodes.length].nodeType}catch(e){G={apply:V.length?function(e,t){J.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}x=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},D=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==j&&9===r.nodeType&&r.documentElement?(j=r,L=j.documentElement,H=!T(j),(n=j.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",be,!1):n.attachEvent&&n.attachEvent("onunload",be)),x.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=i(function(e){return e.appendChild(j.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=he.test(j.getElementsByClassName),x.getById=i(function(e){return L.appendChild(e).id=O,!j.getElementsByName||!j.getElementsByName(O).length}),x.getById?(b.find.ID=function(e,t){if(void 0!==t.getElementById&&H){var n=t.getElementById(e);return n?[n]:[]}},b.filter.ID=function(e){var t=e.replace(ye,xe);return function(e){return e.getAttribute("id")===t}}):(delete b.find.ID,b.filter.ID=function(e){var t=e.replace(ye,xe);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),b.find.TAG=x.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=x.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&H)return t.getElementsByClassName(e)},_=[],q=[],(x.qsa=he.test(j.querySelectorAll))&&(i(function(e){L.appendChild(e).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||q.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+O+"-]").length||q.push("~="),e.querySelectorAll(":checked").length||q.push(":checked"),e.querySelectorAll("a#"+O+"+*").length||q.push(".#.+[+~]")}),i(function(e){var t=j.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&q.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),q.push(",.*:")})),(x.matchesSelector=he.test(F=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(e){x.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),_.push("!=",re)}),q=q.length&&new RegExp(q.join("|")),_=_.length&&new RegExp(_.join("|")),t=he.test(L.compareDocumentPosition),M=t||he.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===j||e.ownerDocument===R&&M(R,e)?-1:t===j||t.ownerDocument===R&&M(R,t)?1:S?K(S,e)-K(S,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===j?-1:t===j?1:i?-1:o?1:S?K(S,e)-K(S,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===R?-1:u[r]===R?1:0},j):j},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==j&&D(e),n=n.replace(ue,"='$1']"),x.matchesSelector&&H&&!$[n+" "]&&(!_||!_.test(n))&&(!q||!q.test(n)))try{var r=F.call(e,n);if(r||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,j,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==j&&D(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==j&&D(e);var n=b.attrHandle[t.toLowerCase()],r=n&&U.call(b.attrHandle,t.toLowerCase())?n(e,t,!H):void 0;return void 0!==r?r:x.attributes||!H?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!x.detectDuplicates,S=!x.sortStable&&e.slice(0),e.sort(z),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return S=null,e},w=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=w(t);return n},(b=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,d,p,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,x=!1;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&y){for(x=(p=(l=(c=(f=(d=m)[O]||(d[O]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===P&&l[1])&&l[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(x=p=0)||h.pop();)if(1===d.nodeType&&++x&&d===t){c[e]=[P,p,x];break}}else if(y&&(x=p=(l=(c=(f=(d=t)[O]||(d[O]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===P&&l[1]),!1===x)for(;(d=++p&&d&&d[g]||(x=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++x||(y&&((c=(f=d[O]||(d[O]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[P,x]),d!==t)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,n){var i,o=b.pseudos[e]||b.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[O]?o(n):o.length>1?(i=[e,e,"",n],b.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)e[r=K(e,i[a])]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(oe,"$1"));return i[O]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ye,xe),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:r(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,xe).toLowerCase(),function(t){var n;do{if(n=H?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})b.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return l.prototype=b.filters=b.pseudos,b.setFilters=new l,C=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=b.preFilter;s;){r&&!(i=ae.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=se.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(oe," ")}),s=s.slice(r.length));for(a in b.filter)!(i=fe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,u).slice(0)},E=t.compile=function(e,t){var n,r=[],i=[],o=$[e+" "];if(!o){for(t||(t=C(e)),n=t.length;n--;)(o=m(t[n]))[O]?r.push(o):i.push(o);(o=$(e,v(i,r))).selector=e}return o},N=t.select=function(e,t,n,r){var i,o,a,s,l,f="function"==typeof e&&e,d=!r&&C(e=f.selector||e);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&x.getById&&9===t.nodeType&&H&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(ye,xe),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!b.relative[s=a.type]);)if((l=b.find[s])&&(r=l(a.matches[0].replace(ye,xe),me.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&c(o)))return G.apply(n,r),n;break}}return(f||E(e,d))(r,t,!H,n,!t||me.test(e)&&u(t.parentNode)||t),n},x.sortStable=O.split("").sort(z).join("")===O,x.detectDuplicates=!!A,D(),x.sortDetached=i(function(e){return 1&e.compareDocumentPosition(j.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(Z,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);fe.find=me,fe.expr=me.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=me.uniqueSort,fe.text=me.getText,fe.isXMLDoc=me.isXML,fe.contains=me.contains;var ve=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&fe(e).is(n))break;r.push(e)}return r},ye=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},xe=fe.expr.match.needsContext,be=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,we=/^.[^:#\[\.,]*$/;fe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?fe.find.matchesSelector(r,e)?[r]:[]:fe.find.matches(e,fe.grep(t,function(e){return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;t<i;t++)if(fe.contains(r[t],this))return!0}));for(t=0;t<i;t++)fe.find(e,r[t],n);return n=this.pushStack(i>1?fe.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&xe.test(e)?fe(e):e||[],!1).length}});var Te,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(fe.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Te,"string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Ce.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),be.test(r[1])&&fe.isPlainObject(t))for(r in t)fe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if((i=ne.getElementById(r[2]))&&i.parentNode){if(i.id!==r[2])return Te.find(e);this.length=1,this[0]=i}return this.context=ne,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):fe.isFunction(e)?void 0!==n.ready?n.ready(e):e(fe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),fe.makeArray(e,this))}).prototype=fe.fn,Te=fe(ne);var Ee=/^(?:parents|prev(?:Until|All))/,Ne={children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t,n=fe(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(fe.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=xe.test(e)||"string"!=typeof e?fe(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&fe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?fe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?fe.inArray(this[0],fe(e)):fe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ve(e,"parentNode")},parentsUntil:function(e,t,n){return ve(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ve(e,"nextSibling")},prevAll:function(e){return ve(e,"previousSibling")},nextUntil:function(e,t,n){return ve(e,"nextSibling",n)},prevUntil:function(e,t,n){return ve(e,"previousSibling",n)},siblings:function(e){return ye((e.parentNode||{}).firstChild,e)},children:function(e){return ye(e.firstChild)},contents:function(e){return fe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:fe.merge([],e.childNodes)}},function(e,t){fe.fn[e]=function(n,r){var i=fe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=fe.filter(r,i)),this.length>1&&(Ne[e]||(i=fe.uniqueSort(i)),Ee.test(e)&&(i=i.reverse())),this.pushStack(i)}});var ke=/\S+/g;fe.Callbacks=function(e){e="string"==typeof e?o(e):fe.extend({},e);var t,n,r,i,a=[],s=[],u=-1,l=function(){for(i=e.once,r=t=!0;s.length;u=-1)for(n=s.shift();++u<a.length;)!1===a[u].apply(n[0],n[1])&&e.stopOnFalse&&(u=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(u=a.length-1,s.push(n)),function t(n){fe.each(n,function(n,r){fe.isFunction(r)?e.unique&&c.has(r)||a.push(r):r&&r.length&&"string"!==fe.type(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return fe.each(arguments,function(e,t){for(var n;(n=fe.inArray(t,a,n))>-1;)a.splice(n,1),n<=u&&u--}),this},has:function(e){return e?fe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=!0,n||c.disable(),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},fe.extend({Deferred:function(e){var t=[["resolve","done",fe.Callbacks("once memory"),"resolved"],["reject","fail",fe.Callbacks("once memory"),"rejected"],["notify","progress",fe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return fe.Deferred(function(n){fe.each(t,function(t,o){var a=fe.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&fe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?fe.extend(e,r):r}},i={};return r.pipe=r.then,fe.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=re.call(arguments),a=o.length,s=1!==a||e&&fe.isFunction(e.promise)?a:0,u=1===s?e:fe.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?re.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&fe.isFunction(o[i].promise)?o[i].promise().progress(l(i,n,t)).done(l(i,r,o)).fail(u.reject):--s;return s||u.resolveWith(r,o),u.promise()}});var Se;fe.fn.ready=function(e){return fe.ready.promise().done(e),this},fe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?fe.readyWait++:fe.ready(!0)},ready:function(e){(!0===e?--fe.readyWait:fe.isReady)||(fe.isReady=!0,!0!==e&&--fe.readyWait>0||(Se.resolveWith(ne,[fe]),fe.fn.triggerHandler&&(fe(ne).triggerHandler("ready"),fe(ne).off("ready"))))}}),fe.ready.promise=function(t){if(!Se)if(Se=fe.Deferred(),"complete"===ne.readyState||"loading"!==ne.readyState&&!ne.documentElement.doScroll)e.setTimeout(fe.ready);else if(ne.addEventListener)ne.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s);else{ne.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&ne.documentElement}catch(e){}n&&n.doScroll&&function t(){if(!fe.isReady){try{n.doScroll("left")}catch(n){return e.setTimeout(t,50)}a(),fe.ready()}}()}return Se.promise(t)},fe.ready.promise();var Ae;for(Ae in fe(ce))break;ce.ownFirst="0"===Ae,ce.inlineBlockNeedsLayout=!1,fe(function(){var e,t,n,r;(n=ne.getElementsByTagName("body")[0])&&n.style&&(t=ne.createElement("div"),(r=ne.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ce.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=ne.createElement("div");ce.deleteExpando=!0;try{delete e.test}catch(e){ce.deleteExpando=!1}e=null}();var De=function(e){var t=fe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},je=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Le=/([A-Z])/g;fe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?fe.cache[e[fe.expando]]:e[fe.expando])&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return f(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return f(e,t,!0)}}),fe.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=fe.data(o),1===o.nodeType&&!fe._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&u(o,r=fe.camelCase(r.slice(5)),i[r]);fe._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){fe.data(this,e)}):arguments.length>1?this.each(function(){fe.data(this,e,t)}):o?u(o,e,fe.data(o,e)):void 0},removeData:function(e){return this.each(function(){fe.removeData(this,e)})}}),fe.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=fe._data(e,t),n&&(!r||fe.isArray(n)?r=fe._data(e,t,fe.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=fe.queue(e,t),r=n.length,i=n.shift(),o=fe._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){fe.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return fe._data(e,n)||fe._data(e,n,{empty:fe.Callbacks("once memory").add(function(){fe._removeData(e,t+"queue"),fe._removeData(e,n)})})}}),fe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?fe.queue(this[0],e):void 0===t?this:this.each(function(){var n=fe.queue(this,e,t);fe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&fe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=fe.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=fe._data(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}}),function(){var e;ce.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return(n=ne.getElementsByTagName("body")[0])&&n.style?(t=ne.createElement("div"),r=ne.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ne.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var He=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qe=new RegExp("^(?:([+-])=|)("+He+")([a-z%]*)$","i"),_e=["Top","Right","Bottom","Left"],Fe=function(e,t){return e=t||e,"none"===fe.css(e,"display")||!fe.contains(e.ownerDocument,e)},Me=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===fe.type(n)){i=!0;for(s in n)Me(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,fe.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(fe(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},Oe=/^(?:checkbox|radio)$/i,Re=/<([\w:-]+)/,Pe=/^$|\/(?:java|ecma)script/i,Be=/^\s+/,We="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=ne.createElement("div"),t=ne.createDocumentFragment(),n=ne.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ce.leadingWhitespace=3===e.firstChild.nodeType,ce.tbody=!e.getElementsByTagName("tbody").length,ce.htmlSerialize=!!e.getElementsByTagName("link").length,ce.html5Clone="<:nav></:nav>"!==ne.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),ce.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",ce.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),(n=ne.createElement("input")).setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ce.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.noCloneEvent=!!e.addEventListener,e[fe.expando]=1,ce.attributes=!e.getAttribute(fe.expando)}();var Ie={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ce.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ie.optgroup=Ie.option,Ie.tbody=Ie.tfoot=Ie.colgroup=Ie.caption=Ie.thead,Ie.th=Ie.td;var $e=/<|&#?\w+;/,ze=/<tbody/i;!function(){var t,n,r=ne.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ce[t]=n in e)||(r.setAttribute(n,"t"),ce[t]=!1===r.attributes[n].expando);r=null}();var Xe=/^(?:input|select|textarea)$/i,Ue=/^key/,Ve=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ye=/^(?:focusinfocus|focusoutblur)$/,Je=/^([^.]*)(?:\.(.+)|)/;fe.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,d,p,h,g,m=fe._data(e);if(m){for(n.handler&&(n=(u=n).handler,i=u.selector),n.guid||(n.guid=fe.guid++),(a=m.events)||(a=m.events={}),(c=m.handle)||((c=m.handle=function(e){return void 0===fe||e&&fe.event.triggered===e.type?void 0:fe.event.dispatch.apply(c.elem,arguments)}).elem=e),s=(t=(t||"").match(ke)||[""]).length;s--;)p=g=(o=Je.exec(t[s])||[])[1],h=(o[2]||"").split(".").sort(),p&&(l=fe.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=fe.event.special[p]||{},f=fe.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&fe.expr.match.needsContext.test(i),namespace:h.join(".")},u),(d=a[p])||((d=a[p]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,r,h,c)||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,f):d.push(f),fe.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,d,p,h,g,m=fe.hasData(e)&&fe._data(e);if(m&&(c=m.events)){for(l=(t=(t||"").match(ke)||[""]).length;l--;)if(s=Je.exec(t[l])||[],p=g=s[1],h=(s[2]||"").split(".").sort(),p){for(f=fe.event.special[p]||{},d=c[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=d.length;o--;)a=d[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,f.remove&&f.remove.call(e,a));u&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,m.handle)||fe.removeEvent(e,p,m.handle),delete c[p])}else for(p in c)fe.event.remove(e,p+t[l],n,r,!0);fe.isEmptyObject(c)&&(delete m.handle,fe._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,f,d=[r||ne],p=le.call(t,"type")?t.type:t,h=le.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||ne,3!==r.nodeType&&8!==r.nodeType&&!Ye.test(p+fe.event.triggered)&&(p.indexOf(".")>-1&&(p=(h=p.split(".")).shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[fe.expando]?t:new fe.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:fe.makeArray(n,[t]),l=fe.event.special[p]||{},i||!l.trigger||!1!==l.trigger.apply(r,n))){if(!i&&!l.noBubble&&!fe.isWindow(r)){for(u=l.delegateType||p,Ye.test(u+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),c=s;c===(r.ownerDocument||ne)&&d.push(c.defaultView||c.parentWindow||e)}for(f=0;(s=d[f++])&&!t.isPropagationStopped();)t.type=f>1?u:l.bindType||p,(o=(fe._data(s,"events")||{})[t.type]&&fe._data(s,"handle"))&&o.apply(s,n),(o=a&&s[a])&&o.apply&&De(s)&&(t.result=o.apply(s,n),!1===t.result&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(d.pop(),n))&&De(r)&&a&&r[p]&&!fe.isWindow(r)){(c=r[a])&&(r[a]=null),fe.event.triggered=p;try{r[p]()}catch(e){}fe.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=fe.event.fix(e);var t,n,r,i,o,a=[],s=re.call(arguments),u=(fe._data(this,"events")||{})[e.type]||[],l=fe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(a=fe.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(r=((fe.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?fe(i,this).index(u)>-1:fe.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[fe.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ve.test(i)?this.mouseHooks:Ue.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new fe.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||ne),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(r=e.target.ownerDocument||ne).documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==b()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===b()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(fe.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return fe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=fe.extend(new fe.Event,n,{type:e,isSimulated:!0});fe.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},fe.removeEvent=ne.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&(void 0===e[r]&&(e[r]=null),e.detachEvent(r,n))},fe.Event=function(e,t){if(!(this instanceof fe.Event))return new fe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?y:x):this.type=e,t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||fe.now(),this[fe.expando]=!0},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=y,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=y,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=y,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){fe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||fe.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ce.submit||(fe.event.special.submit={setup:function(){if(fe.nodeName(this,"form"))return!1;fe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=fe.nodeName(t,"input")||fe.nodeName(t,"button")?fe.prop(t,"form"):void 0;n&&!fe._data(n,"submit")&&(fe.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),fe._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&fe.event.simulate("submit",this.parentNode,e))},teardown:function(){if(fe.nodeName(this,"form"))return!1;fe.event.remove(this,"._submit")}}),ce.change||(fe.event.special.change={setup:function(){if(Xe.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(fe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),fe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),fe.event.simulate("change",this,e)})),!1;fe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Xe.test(t.nodeName)&&!fe._data(t,"change")&&(fe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||fe.event.simulate("change",this.parentNode,e)}),fe._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return fe.event.remove(this,"._change"),!Xe.test(this.nodeName)}}),ce.focusin||fe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){fe.event.simulate(t,e.target,fe.event.fix(e))};fe.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=fe._data(r,t);i||r.addEventListener(e,n,!0),fe._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=fe._data(r,t)-1;i?fe._data(r,t,i):(r.removeEventListener(e,n,!0),fe._removeData(r,t))}}}),fe.fn.extend({on:function(e,t,n,r){return w(this,e,t,n,r)},one:function(e,t,n,r){return w(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,fe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=x),this.each(function(){fe.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return fe.event.trigger(e,t,n,!0)}});var Ge=/ jQuery\d+="(?:null|\d+)"/g,Qe=new RegExp("<(?:"+We+")[\\s/>]","i"),Ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ze=/<script|<style|<link/i,et=/checked\s*(?:[^=]|=\s*.checked.)/i,tt=/^true\/(.*)/,nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rt=p(ne).appendChild(ne.createElement("div"));fe.extend({htmlPrefilter:function(e){return e.replace(Ke,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u=fe.contains(e.ownerDocument,e);if(ce.html5Clone||fe.isXMLDoc(e)||!Qe.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(rt.innerHTML=e.outerHTML,rt.removeChild(o=rt.firstChild)),!(ce.noCloneEvent&&ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(r=h(o),s=h(e),a=0;null!=(i=s[a]);++a)r[a]&&k(i,r[a]);if(t)if(n)for(s=s||h(e),r=r||h(o),a=0;null!=(i=s[a]);a++)N(i,r[a]);else N(e,o);return(r=h(o,"script")).length>0&&g(r,!u&&h(e,"script")),r=s=i=null,o},cleanData:function(e,t){for(var n,r,i,o,a=0,s=fe.expando,u=fe.cache,l=ce.attributes,c=fe.event.special;null!=(n=e[a]);a++)if((t||De(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?fe.event.remove(n,r):fe.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l||void 0===n.removeAttribute?n[s]=void 0:n.removeAttribute(s),te.push(i))}}}),fe.fn.extend({domManip:S,detach:function(e){return A(this,e,!0)},remove:function(e){return A(this,e)},text:function(e){return Me(this,function(e){return void 0===e?fe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ne).createTextNode(e))},null,e,arguments.length)},append:function(){return S(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||T(this,e).appendChild(e)})},prepend:function(){return S(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&fe.cleanData(h(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&fe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t)})},html:function(e){return Me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ge,""):void 0;if("string"==typeof e&&!Ze.test(e)&&(ce.htmlSerialize||!Qe.test(e))&&(ce.leadingWhitespace||!Be.test(e))&&!Ie[(Re.exec(e)||["",""])[1].toLowerCase()]){e=fe.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(fe.cleanData(h(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return S(this,arguments,function(t){var n=this.parentNode;fe.inArray(this,e)<0&&(fe.cleanData(h(this)),n&&n.replaceChild(t,this))},e)}}),fe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){fe.fn[e]=function(e){for(var n,r=0,i=[],o=fe(e),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),fe(o[r])[t](n),oe.apply(i,n.get());return this.pushStack(i)}});var it,ot={HTML:"block",BODY:"block"},at=/^margin/,st=new RegExp("^("+He+")(?!px)[a-z%]+$","i"),ut=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},lt=ne.documentElement;!function(){function t(){var t,c,f=ne.documentElement;f.appendChild(u),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=i=s=!1,r=a=!0,e.getComputedStyle&&(c=e.getComputedStyle(l),n="1%"!==(c||{}).top,s="2px"===(c||{}).marginLeft,i="4px"===(c||{width:"4px"}).width,l.style.marginRight="50%",r="4px"===(c||{marginRight:"4px"}).marginRight,(t=l.appendChild(ne.createElement("div"))).style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",l.style.width="1px",a=!parseFloat((e.getComputedStyle(t)||{}).marginRight),l.removeChild(t)),l.style.display="none",(o=0===l.getClientRects().length)&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(t=l.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),f.removeChild(u)}var n,r,i,o,a,s,u=ne.createElement("div"),l=ne.createElement("div");l.style&&(l.style.cssText="float:left;opacity:.5",ce.opacity="0.5"===l.style.opacity,ce.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",ce.clearCloneStyle="content-box"===l.style.backgroundClip,(u=ne.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",u.appendChild(l),ce.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,fe.extend(ce,{reliableHiddenOffsets:function(){return null==n&&t(),o},boxSizingReliable:function(){return null==n&&t(),i},pixelMarginRight:function(){return null==n&&t(),r},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),a},reliableMarginLeft:function(){return null==n&&t(),s}}))}();var ct,ft,dt=/^(top|right|bottom|left)$/;e.getComputedStyle?(ct=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ft=function(e,t,n){var r,i,o,a,s=e.style;return n=n||ct(e),""!==(a=n?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==a||fe.contains(e.ownerDocument,e)||(a=fe.style(e,t)),n&&!ce.pixelMarginRight()&&st.test(a)&&at.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0===a?a:a+""}):lt.currentStyle&&(ct=function(e){return e.currentStyle},ft=function(e,t,n){var r,i,o,a,s=e.style;return n=n||ct(e),null==(a=n?n[t]:void 0)&&s&&s[t]&&(a=s[t]),st.test(a)&&!dt.test(t)&&(r=s.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"});var pt=/alpha\([^)]*\)/i,ht=/opacity\s*=\s*([^)]*)/i,gt=/^(none|table(?!-c[ea]).+)/,mt=new RegExp("^("+He+")(.*)$","i"),vt={position:"absolute",visibility:"hidden",display:"block"},yt={letterSpacing:"0",fontWeight:"400"},xt=["Webkit","O","Moz","ms"],bt=ne.createElement("div").style;fe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ft(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ce.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=fe.camelCase(t),u=e.style;if(t=fe.cssProps[s]||(fe.cssProps[s]=H(s)||s),a=fe.cssHooks[t]||fe.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if("string"==(o=typeof n)&&(i=qe.exec(n))&&i[1]&&(n=d(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(fe.cssNumber[s]?"":"px")),ce.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,a,s=fe.camelCase(t);return t=fe.cssProps[s]||(fe.cssProps[s]=H(s)||s),(a=fe.cssHooks[t]||fe.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=ft(e,t,r)),"normal"===o&&t in yt&&(o=yt[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),fe.each(["height","width"],function(e,t){fe.cssHooks[t]={get:function(e,n,r){if(n)return gt.test(fe.css(e,"display"))&&0===e.offsetWidth?ut(e,vt,function(){return M(e,t,r)}):M(e,t,r)},set:function(e,n,r){var i=r&&ct(e);return _(0,n,r?F(e,t,r,ce.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,i),i):0)}}}),ce.opacity||(fe.cssHooks.opacity={get:function(e,t){return ht.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=fe.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===fe.trim(o.replace(pt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=pt.test(o)?o.replace(pt,i):o+" "+i)}}),fe.cssHooks.marginRight=L(ce.reliableMarginRight,function(e,t){if(t)return ut(e,{display:"inline-block"},ft,[e,"marginRight"])}),fe.cssHooks.marginLeft=L(ce.reliableMarginLeft,function(e,t){if(t)return(parseFloat(ft(e,"marginLeft"))||(fe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ut(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),fe.each({margin:"",padding:"",border:"Width"},function(e,t){fe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+_e[r]+t]=o[r]||o[r-2]||o[0];return i}},at.test(e)||(fe.cssHooks[e+t].set=_)}),fe.fn.extend({css:function(e,t){return Me(this,function(e,t,n){var r,i,o={},a=0;if(fe.isArray(t)){for(r=ct(e),i=t.length;a<i;a++)o[t[a]]=fe.css(e,t[a],!1,r);return o}return void 0!==n?fe.style(e,t,n):fe.css(e,t)},e,t,arguments.length>1)},show:function(){return q(this,!0)},hide:function(){return q(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Fe(this)?fe(this).show():fe(this).hide()})}}),fe.Tween=O,O.prototype={constructor:O,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||fe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(fe.cssNumber[n]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,n=O.propHooks[this.prop];return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[fe.cssProps[e.prop]]&&!fe.cssHooks[e.prop]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit)}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},fe.fx=O.prototype.init,fe.fx.step={};var wt,Tt,Ct=/^(?:toggle|show|hide)$/,Et=/queueHooks$/;fe.Animation=fe.extend(I,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return d(n.elem,e,qe.exec(t),n),n}]},tweener:function(e,t){fe.isFunction(e)?(t=e,e=["*"]):e=e.match(ke);for(var n,r=0,i=e.length;r<i;r++)n=e[r],I.tweeners[n]=I.tweeners[n]||[],I.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c=this,f={},d=e.style,p=e.nodeType&&Fe(e),h=fe._data(e,"fxshow");n.queue||(null==(s=fe._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,fe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(l=fe.css(e,"display"))?fe._data(e,"olddisplay")||j(e.nodeName):l)&&"none"===fe.css(e,"float")&&(ce.inlineBlockNeedsLayout&&"inline"!==j(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ce.shrinkWrapBlocks()||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Ct.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!h||void 0===h[r])continue;p=!0}f[r]=h&&h[r]||fe.style(e,r)}else l=void 0;if(fe.isEmptyObject(f))"inline"===("none"===l?j(e.nodeName):l)&&(d.display=l);else{h?"hidden"in h&&(p=h.hidden):h=fe._data(e,"fxshow",{}),o&&(h.hidden=!p),p?fe(e).show():c.done(function(){fe(e).hide()}),c.done(function(){var t;fe._removeData(e,"fxshow");for(t in f)fe.style(e,t,f[t])});for(r in f)a=B(p?h[r]:0,r,c),r in h||(h[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}],prefilter:function(e,t){t?I.prefilters.unshift(e):I.prefilters.push(e)}}),fe.speed=function(e,t,n){var r=e&&"object"==typeof e?fe.extend({},e):{complete:n||!n&&t||fe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!fe.isFunction(t)&&t};return r.duration=fe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in fe.fx.speeds?fe.fx.speeds[r.duration]:fe.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){fe.isFunction(r.old)&&r.old.call(this),r.queue&&fe.dequeue(this,r.queue)},r},fe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Fe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=fe.isEmptyObject(e),o=fe.speed(t,n,r),a=function(){var t=I(this,fe.extend({},e),o);(i||fe._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=fe.timers,a=fe._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Et.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||fe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=fe._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=fe.timers,a=r?r.length:0;for(n.finish=!0,fe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),fe.each(["toggle","show","hide"],function(e,t){var n=fe.fn[t];fe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(P(t,!0),e,r,i)}}),fe.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){fe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),fe.timers=[],fe.fx.tick=function(){var e,t=fe.timers,n=0;for(wt=fe.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||fe.fx.stop(),wt=void 0},fe.fx.timer=function(e){fe.timers.push(e),e()?fe.fx.start():fe.timers.pop()},fe.fx.interval=13,fe.fx.start=function(){Tt||(Tt=e.setInterval(fe.fx.tick,fe.fx.interval))},fe.fx.stop=function(){e.clearInterval(Tt),Tt=null},fe.fx.speeds={slow:600,fast:200,_default:400},fe.fn.delay=function(t,n){return t=fe.fx?fe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e,t=ne.createElement("input"),n=ne.createElement("div"),r=ne.createElement("select"),i=r.appendChild(ne.createElement("option"));(n=ne.createElement("div")).setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),(e=n.getElementsByTagName("a")[0]).style.cssText="top:1px",ce.getSetAttribute="t"!==n.className,ce.style=/top/.test(e.getAttribute("style")),ce.hrefNormalized="/a"===e.getAttribute("href"),ce.checkOn=!!t.value,ce.optSelected=i.selected,ce.enctype=!!ne.createElement("form").enctype,r.disabled=!0,ce.optDisabled=!i.disabled,(t=ne.createElement("input")).setAttribute("value",""),ce.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ce.radioValue="t"===t.value}();var Nt=/\r/g,kt=/[\x20\t\r\n\f]+/g;fe.fn.extend({val:function(e){var t,n,r,i=this[0];if(arguments.length)return r=fe.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,fe(this).val()):e)?i="":"number"==typeof i?i+="":fe.isArray(i)&&(i=fe.map(i,function(e){return null==e?"":e+""})),(t=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=fe.valHooks[i.type]||fe.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Nt,""):null==n?"":n}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:fe.trim(fe.text(e)).replace(kt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(ce.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!fe.nodeName(n.parentNode,"optgroup"))){if(t=fe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=fe.makeArray(t),a=i.length;a--;)if(r=i[a],fe.inArray(fe.valHooks.option.get(r),o)>-1)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),fe.each(["radio","checkbox"],function(){fe.valHooks[this]={set:function(e,t){if(fe.isArray(t))return e.checked=fe.inArray(fe(e).val(),t)>-1}},ce.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var St,At,Dt=fe.expr.attrHandle,jt=/^(?:checked|selected)$/i,Lt=ce.getSetAttribute,Ht=ce.input;fe.fn.extend({attr:function(e,t){return Me(this,fe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?fe.prop(e,t,n):(1===o&&fe.isXMLDoc(e)||(t=t.toLowerCase(),i=fe.attrHooks[t]||(fe.expr.match.bool.test(t)?At:St)),void 0!==n?null===n?void fe.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=fe.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!ce.radioValue&&"radio"===t&&fe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(ke);if(o&&1===e.nodeType)for(;n=o[i++];)r=fe.propFix[n]||n,fe.expr.match.bool.test(n)?Ht&&Lt||!jt.test(n)?e[r]=!1:e[fe.camelCase("default-"+n)]=e[r]=!1:fe.attr(e,n,""),e.removeAttribute(Lt?n:r)}}),At={set:function(e,t,n){return!1===t?fe.removeAttr(e,n):Ht&&Lt||!jt.test(n)?e.setAttribute(!Lt&&fe.propFix[n]||n,n):e[fe.camelCase("default-"+n)]=e[n]=!0,n}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Dt[t]||fe.find.attr;Ht&&Lt||!jt.test(t)?Dt[t]=function(e,t,r){var i,o;return r||(o=Dt[t],Dt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Dt[t]=o),i}:Dt[t]=function(e,t,n){if(!n)return e[fe.camelCase("default-"+t)]?t.toLowerCase():null}}),Ht&&Lt||(fe.attrHooks.value={set:function(e,t,n){if(!fe.nodeName(e,"input"))return St&&St.set(e,t,n);e.defaultValue=t}}),Lt||(St={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},Dt.id=Dt.name=Dt.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},fe.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:St.set},fe.attrHooks.contenteditable={set:function(e,t,n){St.set(e,""!==t&&t,n)}},fe.each(["width","height"],function(e,t){fe.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),ce.style||(fe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var qt=/^(?:input|select|textarea|button|object)$/i,_t=/^(?:a|area)$/i;fe.fn.extend({prop:function(e,t){return Me(this,fe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=fe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),fe.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,i=fe.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):qt.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ce.hrefNormalized||fe.each(["href","src"],function(e,t){fe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ce.optSelected||(fe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fe.propFix[this.toLowerCase()]=this}),ce.enctype||(fe.propFix.enctype="encoding");var Ft=/[\t\r\n\f]/g;fe.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(fe.isFunction(e))return this.each(function(t){fe(this).addClass(e.call(this,t,$(this)))});if("string"==typeof e&&e)for(t=e.match(ke)||[];n=this[u++];)if(i=$(n),r=1===n.nodeType&&(" "+i+" ").replace(Ft," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=fe.trim(r))&&fe.attr(n,"class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(fe.isFunction(e))return this.each(function(t){fe(this).removeClass(e.call(this,t,$(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(ke)||[];n=this[u++];)if(i=$(n),r=1===n.nodeType&&(" "+i+" ").replace(Ft," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=fe.trim(r))&&fe.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):fe.isFunction(e)?this.each(function(n){fe(this).toggleClass(e.call(this,n,$(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=fe(this),o=e.match(ke)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=$(this))&&fe._data(this,"__className__",t),fe.attr(this,"class",t||!1===e?"":fe._data(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+$(n)+" ").replace(Ft," ").indexOf(t)>-1)return!0;return!1}}),fe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){fe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Mt=e.location,Ot=fe.now(),Rt=/\?/,Pt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;fe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=fe.trim(t+"");return i&&!fe.trim(i.replace(Pt,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():fe.error("Invalid JSON: "+t)},fe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?n=(new e.DOMParser).parseFromString(t,"text/xml"):((n=new e.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+t),n};var Bt=/#.*$/,Wt=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,zt=/^(?:GET|HEAD)$/,Xt=/^\/\//,Ut=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Vt={},Yt={},Jt="*/".concat("*"),Gt=Mt.href,Qt=Ut.exec(Gt.toLowerCase())||[];fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Gt,type:"GET",isLocal:$t.test(Qt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fe.parseJSON,"text xml":fe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?U(U(e,fe.ajaxSettings),t):U(fe.ajaxSettings,e)},ajaxPrefilter:z(Vt),ajaxTransport:z(Yt),ajax:function(t,n){function r(t,n,r,i){var o,f,y,x,w,C=n;2!==b&&(b=2,u&&e.clearTimeout(u),c=void 0,s=i||"",T.readyState=t>0?4:0,o=t>=200&&t<300||304===t,r&&(x=V(d,T,r)),x=Y(d,x,T,o),o?(d.ifModified&&((w=T.getResponseHeader("Last-Modified"))&&(fe.lastModified[a]=w),(w=T.getResponseHeader("etag"))&&(fe.etag[a]=w)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=x.state,f=x.data,o=!(y=x.error))):(y=C,!t&&C||(C="error",t<0&&(t=0))),T.status=t,T.statusText=(n||C)+"",o?g.resolveWith(p,[f,C,T]):g.rejectWith(p,[T,C,y]),T.statusCode(v),v=void 0,l&&h.trigger(o?"ajaxSuccess":"ajaxError",[T,d,o?f:y]),m.fireWith(p,[T,C]),l&&(h.trigger("ajaxComplete",[T,d]),--fe.active||fe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,d=fe.ajaxSetup({},n),p=d.context||d,h=d.context&&(p.nodeType||p.jquery)?fe(p):fe.event,g=fe.Deferred(),m=fe.Callbacks("once memory"),v=d.statusCode||{},y={},x={},b=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!f)for(f={};t=It.exec(s);)f[t[1].toLowerCase()]=t[2];t=f[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=x[n]=x[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)v[t]=[v[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),r(0,t),this}};if(g.promise(T).complete=m.add,T.success=T.done,T.error=T.fail,d.url=((t||d.url||Gt)+"").replace(Bt,"").replace(Xt,Qt[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=fe.trim(d.dataType||"*").toLowerCase().match(ke)||[""],null==d.crossDomain&&(i=Ut.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===Qt[1]&&i[2]===Qt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Qt[3]||("http:"===Qt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=fe.param(d.data,d.traditional)),X(Vt,d,n,T),2===b)return T;(l=fe.event&&d.global)&&0==fe.active++&&fe.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!zt.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(Rt.test(a)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Wt.test(a)?a.replace(Wt,"$1_="+Ot++):a+(Rt.test(a)?"&":"?")+"_="+Ot++)),d.ifModified&&(fe.lastModified[a]&&T.setRequestHeader("If-Modified-Since",fe.lastModified[a]),fe.etag[a]&&T.setRequestHeader("If-None-Match",fe.etag[a])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&T.setRequestHeader("Content-Type",d.contentType),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Jt+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)T.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(!1===d.beforeSend.call(p,T,d)||2===b))return T.abort();w="abort";for(o in{success:1,error:1,complete:1})T[o](d[o]);if(c=X(Yt,d,n,T)){if(T.readyState=1,l&&h.trigger("ajaxSend",[T,d]),2===b)return T;d.async&&d.timeout>0&&(u=e.setTimeout(function(){T.abort("timeout")},d.timeout));try{b=1,c.send(y,r)}catch(e){if(!(b<2))throw e;r(-1,e)}}else r(-1,"No Transport");return T},getJSON:function(e,t,n){return fe.get(e,t,n,"json")},getScript:function(e,t){return fe.get(e,void 0,t,"script")}}),fe.each(["get","post"],function(e,t){fe[t]=function(e,n,r,i){return fe.isFunction(n)&&(i=i||r,r=n,n=void 0),fe.ajax(fe.extend({url:e,type:t,dataType:i,data:n,success:r},fe.isPlainObject(e)&&e))}}),fe._evalUrl=function(e){return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},fe.fn.extend({wrapAll:function(e){if(fe.isFunction(e))return this.each(function(t){fe(this).wrapAll(e.call(this,t))});if(this[0]){var t=fe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return fe.isFunction(e)?this.each(function(t){fe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=fe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=fe.isFunction(e);return this.each(function(n){fe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){fe.nodeName(this,"body")||fe(this).replaceWith(this.childNodes)}).end()}}),fe.expr.filters.hidden=function(e){return ce.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:G(e)},fe.expr.filters.visible=function(e){return!fe.expr.filters.hidden(e)};var Kt=/%20/g,Zt=/\[\]$/,en=/\r?\n/g,tn=/^(?:submit|button|image|reset|file)$/i,nn=/^(?:input|select|textarea|keygen)/i;fe.param=function(e,t){var n,r=[],i=function(e,t){t=fe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=fe.ajaxSettings&&fe.ajaxSettings.traditional),fe.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){i(this.name,this.value)});else for(n in e)Q(n,e[n],t,i);return r.join("&").replace(Kt,"+")},fe.fn.extend({serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&nn.test(this.nodeName)&&!tn.test(e)&&(this.checked||!Oe.test(e))}).map(function(e,t){var n=fe(this).val();return null==n?null:fe.isArray(n)?fe.map(n,function(e){return{name:t.name,value:e.replace(en,"\r\n")}}):{name:t.name,value:n.replace(en,"\r\n")}}).get()}}),fe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?Z():ne.documentMode>8?K():/^(get|post|head|put|delete|options)$/i.test(this.type)&&K()||Z()}:K;var rn=0,on={},an=fe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in on)on[e](void 0,!0)}),ce.cors=!!an&&"withCredentials"in an,(an=ce.ajax=!!an)&&fe.ajaxTransport(function(t){if(!t.crossDomain||ce.cors){var n;return{send:function(r,i){var o,a=t.xhr(),s=++rn;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)void 0!==r[o]&&a.setRequestHeader(o,r[o]+"");a.send(t.hasContent&&t.data||null),n=function(e,r){var o,u,l;if(n&&(r||4===a.readyState))if(delete on[s],n=void 0,a.onreadystatechange=fe.noop,r)4!==a.readyState&&a.abort();else{l={},o=a.status,"string"==typeof a.responseText&&(l.text=a.responseText);try{u=a.statusText}catch(e){u=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=l.text?200:404}l&&i(o,u,l,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(n):a.onreadystatechange=on[s]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),fe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),fe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ne.head||fe("head")[0]||ne.documentElement;return{send:function(r,i){(t=ne.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var sn=[],un=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=sn.pop()||fe.expando+"_"+Ot++;return this[e]=!0,e}}),fe.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(un.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&un.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=fe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(un,"$1"+i):!1!==t.jsonp&&(t.url+=(Rt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||fe.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?fe(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,sn.push(i)),a&&fe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),fe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ne;var r=be.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=v([e],t,i),i&&i.length&&fe(i).remove(),fe.merge([],r.childNodes))};var ln=fe.fn.load;fe.fn.load=function(e,t,n){if("string"!=typeof e&&ln)return ln.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=fe.trim(e.slice(s,e.length)),e=e.slice(0,s)),fe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&fe.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?fe("<div>").append(fe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(a,o||[e.responseText,t,e])})}),this},fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){fe.fn[t]=function(e){return this.on(t,e)}}),fe.expr.filters.animated=function(e){return fe.grep(fe.timers,function(t){return e===t.elem}).length},fe.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=fe.css(e,"position"),c=fe(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=fe.css(e,"top"),u=fe.css(e,"left"),("absolute"===l||"fixed"===l)&&fe.inArray("auto",[o,u])>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),fe.isFunction(t)&&(t=t.call(e,n,fe.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},fe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){fe.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,fe.contains(t,i)?(void 0!==i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=ee(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===fe.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),fe.nodeName(e[0],"html")||(n=e.offset()),n.top+=fe.css(e[0],"borderTopWidth",!0),n.left+=fe.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-fe.css(r,"marginTop",!0),left:t.left-n.left-fe.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!fe.nodeName(e,"html")&&"static"===fe.css(e,"position");)e=e.offsetParent;return e||lt})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);fe.fn[e]=function(r){return Me(this,function(e,r,i){var o=ee(e);if(void 0===i)return o?t in o?o[t]:o.document.documentElement[r]:e[r];o?o.scrollTo(n?fe(o).scrollLeft():i,n?i:fe(o).scrollTop()):e[r]=i},e,r,arguments.length,null)}}),fe.each(["top","left"],function(e,t){fe.cssHooks[t]=L(ce.pixelPosition,function(e,n){if(n)return n=ft(e,t),st.test(n)?fe(e).position()[t]+"px":n})}),fe.each({Height:"height",Width:"width"},function(e,t){fe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){fe.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return Me(this,function(t,n,r){var i;return fe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?fe.css(t,n,a):fe.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),fe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),fe.fn.size=function(){return this.length},fe.fn.andSelf=fe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery/jquery",[],function(){return fe});var cn=e.jQuery,fn=e.$;return fe.noConflict=function(t){return e.$===fe&&(e.$=fn),t&&e.jQuery===fe&&(e.jQuery=cn),fe},t||(e.jQuery=e.$=fe),fe});
/*jquery-migrate/jquery-migrate*/
define("jquery-migrate/jquery-migrate",["module","@loader","require"],function(e,t,r){t.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var n=t.global.define,r=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'!function(e,t,r){function n(r){var n=t.console;a[r]||(a[r]=!0,e.migrateWarnings.push(r),n&&n.warn&&!e.migrateMute&&(n.warn("JQMIGRATE: "+r),e.migrateTrace&&n.trace&&n.trace()))}function o(t,r,o,a){if(Object.defineProperty)try{return void Object.defineProperty(t,r,{configurable:!0,enumerable:!0,get:function(){return n(a),o},set:function(e){n(a),o=e}})}catch(e){}e._definePropertyBroken=!0,t[r]=o}e.migrateVersion="1.4.1";var a={};e.migrateWarnings=[],t.console&&t.console.log&&t.console.log("JQMIGRATE: Migrate is installed"+(e.migrateMute?"":" with logging active")+", version "+e.migrateVersion),void 0===e.migrateTrace&&(e.migrateTrace=!0),e.migrateReset=function(){a={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&n("jQuery is not compatible with Quirks Mode");var i=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,c=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},u=e.attrHooks.value&&e.attrHooks.value.set||function(){},d=/^(?:input|button)$/i,l=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;o(e,"attrFn",i||{},"jQuery.attrFn is deprecated"),e.attr=function(t,r,o,a){var c=r.toLowerCase(),u=t&&t.nodeType;return a&&(s.length<4&&n("jQuery.fn.attr( props, pass ) is deprecated"),t&&!l.test(u)&&(i?r in i:e.isFunction(e.fn[r])))?e(t)[r](o):("type"===r&&void 0!==o&&d.test(t.nodeName)&&t.parentNode&&n("Can\'t change the \'type\' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var n,o=e.prop(t,r);return!0===o||"boolean"!=typeof o&&(n=t.getAttributeNode(r))&&!1!==n.nodeValue?r.toLowerCase():void 0},set:function(t,r,n){var o;return!1===r?e.removeAttr(t,n):((o=e.propFix[n]||n)in t&&(t[o]=!0),t.setAttribute(n,n.toLowerCase())),n}},f.test(c)&&n("jQuery.fn.attr(\'"+c+"\') might use property instead of attribute")),s.call(e,t,r,o))},e.attrHooks.value={get:function(e,t){var r=(e.nodeName||"").toLowerCase();return"button"===r?c.apply(this,arguments):("input"!==r&&"option"!==r&&n("jQuery.fn.attr(\'value\') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var r=(e.nodeName||"").toLowerCase();if("button"===r)return u.apply(this,arguments);"input"!==r&&"option"!==r&&n("jQuery.fn.attr(\'value\', val) no longer sets properties"),e.value=t}};var h,v,g=e.fn.init,y=e.find,m=e.parseJSON,b=/^\\s*</,w=/\\[(\\s*[-\\w]+\\s*)([~|^$*]?=)\\s*([-\\w#]*?#[-\\w#]*)\\s*\\]/,j=/\\[(\\s*[-\\w]+\\s*)([~|^$*]?=)\\s*([-\\w#]*?#[-\\w#]*)\\s*\\]/g,x=/^([^<]*)(<[\\w\\W]+>)([^>]*)$/;e.fn.init=function(t,r,o){var a,i;return t&&"string"==typeof t&&!e.isPlainObject(r)&&(a=x.exec(e.trim(t)))&&a[0]&&(b.test(t)||n("$(html) HTML strings must start with \'<\' character"),a[3]&&n("$(html) HTML text after last tag is ignored"),"#"===a[0].charAt(0)&&(n("HTML string cannot start with a \'#\' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),r&&r.context&&r.context.nodeType&&(r=r.context),e.parseHTML)?g.call(this,e.parseHTML(a[2],r&&r.ownerDocument||r||document,!0),r,o):(i=g.apply(this,arguments),t&&void 0!==t.selector?(i.selector=t.selector,i.context=t.context):(i.selector="string"==typeof t?t:"",t&&(i.context=t.nodeType?t:r||document)),i)},e.fn.init.prototype=e.fn,e.find=function(e){var t=Array.prototype.slice.call(arguments);if("string"==typeof e&&w.test(e))try{document.querySelector(e)}catch(r){e=e.replace(j,function(e,t,r,n){return"["+t+r+\'"\'+n+\'"]\'});try{document.querySelector(e),n("Attribute selector with \'#\' must be quoted: "+t[0]),t[0]=e}catch(e){n("Attribute selector with \'#\' was not fixed: "+t[0])}}return y.apply(this,t)};var k;for(k in y)Object.prototype.hasOwnProperty.call(y,k)&&(e.find[k]=y[k]);e.parseJSON=function(e){return e?m.apply(this,arguments):(n("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \\/]([\\w.]+)/.exec(e)||/(webkit)[ \\/]([\\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(e)||/(msie) ([\\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(v={},(h=e.uaMatch(navigator.userAgent)).browser&&(v[h.browser]=!0,v.version=h.version),v.chrome?v.webkit=!0:v.webkit&&(v.safari=!0),e.browser=v),o(e,"browser",e.browser,"jQuery.browser is deprecated"),e.boxModel=e.support.boxModel="CSS1Compat"===document.compatMode,o(e,"boxModel",e.boxModel,"jQuery.boxModel is deprecated"),o(e.support,"boxModel",e.support.boxModel,"jQuery.support.boxModel is deprecated"),e.sub=function(){function t(e,r){return new t.fn.init(e,r)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(n,o){var a=e.fn.init.call(this,n,o,r);return a instanceof t?a:t(a)},t.fn.init.prototype=t.fn;var r=t(document);return n("jQuery.sub() is deprecated"),t},e.fn.size=function(){return n("jQuery.fn.size() is deprecated; use the .length property"),this.length};var Q=!1;e.swap&&e.each(["height","width","reliableMarginRight"],function(t,r){var n=e.cssHooks[r]&&e.cssHooks[r].get;n&&(e.cssHooks[r].get=function(){var e;return Q=!0,e=n.apply(this,arguments),Q=!1,e})}),e.swap=function(e,t,r,o){var a,i,s={};Q||n("jQuery.swap() is undocumented and deprecated");for(i in t)s[i]=e.style[i],e.style[i]=t[i];a=r.apply(e,o||[]);for(i in t)e.style[i]=s[i];return a},e.ajaxSetup({converters:{"text json":e.parseJSON}});var M=e.fn.data;e.fn.data=function(t){var r,o,a=this[0];return!a||"events"!==t||1!==arguments.length||(r=e.data(a,t),o=e._data(a,t),void 0!==r&&r!==o||void 0===o)?M.apply(this,arguments):(n("Use of jQuery.fn.data(\'events\') is deprecated"),o)};var C=/\\/(java|ecma)script/i;e.clean||(e.clean=function(t,r,o,a){r=(r=!(r=r||document).nodeType&&r[0]||r).ownerDocument||r,n("jQuery.clean() is deprecated");var i,s,c,u,d=[];if(e.merge(d,e.buildFragment(t,r).childNodes),o)for(c=function(e){if(!e.type||C.test(e.type))return a?a.push(e.parentNode?e.parentNode.removeChild(e):e):o.appendChild(e)},i=0;null!=(s=d[i]);i++)e.nodeName(s,"script")&&c(s)||(o.appendChild(s),void 0!==s.getElementsByTagName&&(u=e.grep(e.merge([],s.getElementsByTagName("script")),c),d.splice.apply(d,[i+1,0].concat(u)),i+=u.length));return d});var S=e.event.add,T=e.event.remove,N=e.event.trigger,H=e.fn.toggle,A=e.fn.live,L=e.fn.die,O=e.fn.load,$="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",F=new RegExp("\\\\b(?:"+$+")\\\\b"),R=/(?:^|\\s)hover(\\.\\S+|)\\b/,E=function(t){return"string"!=typeof t||e.event.special.hover?t:(R.test(t)&&n("\'hover\' pseudo-event is deprecated, use \'mouseenter mouseleave\'"),t&&t.replace(R,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&o(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,r,o,a){e!==document&&F.test(t)&&n("AJAX events should be attached to document: "+t),S.call(this,e,E(t||""),r,o,a)},e.event.remove=function(e,t,r,n,o){T.call(this,e,E(t)||"",r,n,o)},e.each(["load","unload","error"],function(t,r){e.fn[r]=function(){var e=Array.prototype.slice.call(arguments,0);return"load"===r&&"string"==typeof e[0]?O.apply(this,e):(n("jQuery.fn."+r+"() is deprecated"),e.splice(0,0,r),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this))}}),e.fn.toggle=function(t,r){if(!e.isFunction(t)||!e.isFunction(r))return H.apply(this,arguments);n("jQuery.fn.toggle(handler, handler...) is deprecated");var o=arguments,a=t.guid||e.guid++,i=0,s=function(r){var n=(e._data(this,"lastToggle"+t.guid)||0)%i;return e._data(this,"lastToggle"+t.guid,n+1),r.preventDefault(),o[n].apply(this,arguments)||!1};for(s.guid=a;i<o.length;)o[i++].guid=a;return this.click(s)},e.fn.live=function(t,r,o){return n("jQuery.fn.live() is deprecated"),A?A.apply(this,arguments):(e(this.context).on(t,this.selector,r,o),this)},e.fn.die=function(t,r){return n("jQuery.fn.die() is deprecated"),L?L.apply(this,arguments):(e(this.context).off(t,this.selector||"**",r),this)},e.event.trigger=function(e,t,r,o){return r||F.test(e)||n("Global events are undocumented and deprecated"),N.call(this,e,t,r||document,o)},e.each($.split("|"),function(t,r){e.event.special[r]={setup:function(){var t=this;return t!==document&&(e.event.add(document,r+"."+e.guid,function(){e.event.trigger(r,Array.prototype.slice.call(arguments,1),t,!0)}),e._data(this,r,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,r+"."+e._data(this,r)),!1}}}),e.event.special.ready={setup:function(){this===document&&n("\'ready\' event is deprecated")}};var J=e.fn.andSelf||e.fn.addBack,B=e.fn.find;if(e.fn.andSelf=function(){return n("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),J.apply(this,arguments)},e.fn.find=function(e){var t=B.apply(this,arguments);return t.context=this.context,t.selector=this.selector?this.selector+" "+e:e,t},e.Callbacks){var D=e.Deferred,_=[["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory"),e.Callbacks("memory")]];e.Deferred=function(t){var r=D(),o=r.promise();return r.pipe=o.pipe=function(){var t=arguments;return n("deferred.pipe() is deprecated"),e.Deferred(function(n){e.each(_,function(a,i){var s=e.isFunction(t[a])&&t[a];r[i[1]](function(){var t=s&&s.apply(this,arguments);t&&e.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[i[0]+"With"](this===o?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},r.isResolved=function(){return n("deferred.isResolved is deprecated"),"resolved"===r.state()},r.isRejected=function(){return n("deferred.isRejected is deprecated"),"rejected"===r.state()},t&&t.call(r,r),r}}}(jQuery,window);',address:e.uri}),t.global.require=r,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/jquery-migrate-setup*/
define("lib/jquery-migrate-setup",["module","@loader","require"],function(e,r,o){r.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var l=r.global.define,o=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'var KNOWN_SAFE="1.12.2";$.migrateTrace=!1;var versionIsUnsafe=function(e){if(e!==KNOWN_SAFE&&parseInt(e,10)<3)return console.error("USING UNEXPECTED JQUERY VERSION! - Expected "+KNOWN_SAFE+" but found "+e),!0};if(document.location.host.indexOf(".frogosdev.co.uk")){var intervalId;intervalId=setInterval(function(){(versionIsUnsafe(jQuery.fn.jquery)||versionIsUnsafe($.fn.jquery))&&(alert("Unexpected jQuery version found"),clearInterval(intervalId))},1e4)}',address:e.uri}),r.global.require=o,r.global.define=l,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*jquery/lang/string/string*/
define("jquery/lang/string/string",[],function(){var e,r={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},n=function(e,r,n){return void 0!==e[r]?e[r]:n&&(e[r]={})},t=function(e){var r=typeof e;return e&&("function"==r||"object"==r)},o=$.String=$.extend($.String||{},{getObject:e=function(e,o,a){var i,c,u,s=e?e.split(r.dot):[],l=s.length,f=0;if(o=$.isArray(o)?o:[o||window],0==l)return o[0];for(;i=o[f++];){for(u=0;u<l-1&&t(i);u++)i=n(i,s[u],a);if(t(i)&&void 0!==(c=n(i,s[u],a)))return!1===a&&delete i[s[u]],c}},capitalize:function(e,r){return e.charAt(0).toUpperCase()+e.substr(1)},camelize:function(e){return(e=o.classize(e)).charAt(0).toLowerCase()+e.substr(1)},classize:function(e,n){for(var t=e.split(r.undHash),a=0;a<t.length;a++)t[a]=o.capitalize(t[a]);return t.join(n||"")},niceName:function(e){return o.classize(e," ")},underscore:function(e){return e.replace(r.colons,"/").replace(r.words,"$1_$2").replace(r.lowUp,"$1_$2").replace(r.dash,"_").toLowerCase()},sub:function(n,o,a){var i=[],a="boolean"==typeof a?!a:a;return i.push(n.replace(r.replacer,function(r,n){var c=e(n,o,a);return t(c)?(i.push(c),""):""+c})),i.length<=1?i[0]:i},_regs:r})});
/*jquery/class/class*/
define("jquery/class/class",["jquery/jquery","jquery/lang/string/string"],function(){var t=!1,n=$.makeArray,s=$.isFunction,e=$.isArray,r=$.extend,i=$.String.getObject,a=function(t,s){return t.concat(n(s))},l=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,c=function(t,n,e){e=e||t;for(var r in t)e[r]=s(t[r])&&s(n[r])&&l.test(t[r])?function(t,s){return function(){var e,r=this._super;return this._super=n[t],e=s.apply(this,arguments),this._super=r,e}}(r,t[r]):t[r]};clss=$.Class=function(){if(arguments.length)return clss.extend.apply(clss,arguments)},r(clss,{proxy:function(t){var s,r=n(arguments);return t=r.shift(),e(t)||(t=[t]),s=this,function(){for(var n,i,l=a(r,arguments),c=t.length,p=0;p<c;p++)(i=t[p])&&((n="string"==typeof i)&&s._set_called&&(s.called=i),l=(n?s[i]:i).apply(s,l||[]),p<c-1&&(l=!e(l)||l._use_call?[l]:l));return l}},newInstance:function(){var t,n=this.rawInstance();return n.setup&&(t=n.setup.apply(n,arguments)),n.init&&n.init.apply(n,e(t)?t:arguments),n},setup:function(t,n){return this.defaults=r(!0,{},t.defaults,this.defaults),arguments},rawInstance:function(){t=!0;var n=new this;return t=!1,n},extend:function(n,s,e){function l(){if(!t)return this.constructor!==l&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)}"string"!=typeof n&&(e=s,s=n,n=null),e||(e=s,s=null),e=e||{};var p,u,o=this,y=this.prototype;t=!0,u=new this,t=!1,c(e,y,u);for(p in this)this.hasOwnProperty(p)&&(l[p]=this[p]);if(c(s,this,l),n){var f=n.split(/\./),h=f.pop(),d=i(f.join("."),window,!0),g=d;d[h]=l}r(l,{prototype:u,namespace:g,shortName:h,constructor:l,fullName:n}),l.prototype.Class=l.prototype.constructor=l;var v=l.setup.apply(l,a([o],arguments));return l.init&&l.init.apply(l,v||a([o],arguments)),l}}),clss.callback=clss.prototype.callback=clss.prototype.proxy=clss.proxy});
/*jquery/event/event*/
define("jquery/event/event",["jquery/jquery"]);
/*jquery/event/destroyed/destroyed*/
define("jquery/event/destroyed/destroyed",["jquery/event/event"],function(){var e=jQuery.cleanData;$.cleanData=function(r){for(var n,t=0;void 0!==(n=r[t]);t++)$(n).triggerHandler("destroyed");e(r)}});
/*jquery/controller/controller*/
define("jquery/controller/controller",["jquery/class/class","jquery/lang/string/string","jquery/event/destroyed/destroyed"],function(){var t=function(t,e,n){var r,s=t.bind&&t.unbind?t:$(i(t)?[t]:t);return 0===e.indexOf(">")&&(e=e.substr(1),r=function(e){e.target===t&&n.apply(this,arguments)}),s.bind(e,r||n),function(){s.unbind(e,r||n),t=e=n=r=null}},e=$.makeArray,n=$.isArray,i=$.isFunction,r=$.extend,s=$.String,o=$.each,u=Array.prototype.slice,l=function(t,e,n,r){var s=t.delegate&&t.undelegate?t:$(i(t)?[t]:t);return s.delegate(e,n,r),function(){s.undelegate(e,n,r),s=t=n=r=e=null}},a=function(e,n,i,r){return r?l(e,r,n,i):t(e,n,i)},c=function(t,e){var n="string"==typeof e?t[e]:e;return function(){return t.called=e,n.apply(t,[this.nodeName?$(this):this].concat(u.call(arguments,0)))}},h=/\./g,d=/_?controllers?/gi,f=function(t){return s.underscore(t.replace("jQuery.","").replace(h,"_").replace(d,""))},p=/[^\w]/,y=/\{([^\}]+)\}/g,m=/^(?:(.*?)\s)?([\w\.\:>]+)$/,g=function(t,e){return $.data(t,"controllers",e)};$.Class("jQuery.Controller",{setup:function(){if(this._super.apply(this,arguments),this.shortName&&"jQuery.Controller"!=this.fullName){this._fullName=f(this.fullName),this._shortName=f(this.shortName);var t,n=this,r=this.pluginName||this._fullName;$.fn[r]||($.fn[r]=function(t){var s=e(arguments),o="string"==typeof t&&i(n.prototype[t]),u=s[0];return this.each(function(){var t=g(this),e=t&&t[r];e?o?e[u].apply(e,s.slice(1)):e.update.apply(e,s):n.newInstance.apply(n,[this].concat(s))})}),this.actions={};for(t in this.prototype)"constructor"!=t&&i(this.prototype[t])&&this._isAction(t)&&(this.actions[t]=this._action(t))}},hookup:function(t){return new this(t)},_isAction:function(t){return!!p.test(t)||($.inArray(t,this.listensTo)>-1||$.event.special[t]||_[t])},_action:function(t,e){if(y.lastIndex=0,!e&&y.test(t))return null;var i=e?s.sub(t,[e,window]):t,r=n(i),o=(r?i[1]:i).match(m),u=o[2];return{processor:_[u]||b,parts:o,delegate:r?i[0]:void 0}},processors:{},listensTo:[],defaults:{}},{setup:function(t,n){var i=this.constructor;t=("string"==typeof t?$(t):t.jquery?t:[t])[0];var s=i.pluginName||i._fullName;return this.element=$(t).addClass(s),(g(t)||g(t,{}))[s]=this,this.options=r(r(!0,{},i.defaults),n),this.called="init",this.bind(),[this.element,this.options].concat(e(arguments).slice(2))},bind:function(t,e,n){if(void 0===t){this._bindings=[];var i=this.constructor,r=this._bindings,s=i.actions,o=this.element;for(funcName in s)s.hasOwnProperty(funcName)&&(ready=s[funcName]||i._action(funcName,this.options),r.push(ready.processor(ready.delegate||o,ready.parts[2],ready.parts[1],funcName,this)));var u=c(this,"destroy");return o.bind("destroyed",u),r.push(function(t){$(t).unbind("destroyed",u)}),r.length}return"string"==typeof t&&(n=e,e=t,t=this.element),this._binder(t,e,n)},_binder:function(t,e,n,i){return"string"==typeof n&&(n=c(this,n)),this._bindings.push(a(t,e,n,i)),this._bindings.length},_unbind:function(){var t=this.element[0];o(this._bindings,function(e,n){n(t)}),this._bindings=[]},delegate:function(t,e,n,i){return"string"==typeof t&&(i=n,n=e,e=t,t=this.element),this._binder(t,n,i,e)},update:function(t){r(this.options,t),this._unbind(),this.bind()},destroy:function(){if(this._destroyed)throw this.constructor.shortName+" controller already deleted";var t=this.constructor.pluginName||this.constructor._fullName;this._destroyed=!0,this.element.removeClass(t),this._unbind(),delete this._actions,delete this.element.data("controllers")[t],$(this).triggerHandler("destroyed"),this.element=null},find:function(t){return this.element.find(t)},_set_called:!0});var _=$.Controller.processors,b=function(t,e,n,i,r){return a(t,e,c(r,i),n)};o("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave".split(" "),function(t,e){_[e]=b});var v,N=function(t,e){for(v=0;v<e.length;v++)if("string"==typeof e[v]?t.constructor._shortName==e[v]:t instanceof e[v])return!0;return!1};$.fn.extend({controllers:function(){var t,n,i,r=e(arguments),s=[];return this.each(function(){t=$.data(this,"controllers");for(i in t)t.hasOwnProperty(i)&&(n=t[i],r.length&&!N(n,r)||s.push(n))}),s},controller:function(t){return this.controllers.apply(this,arguments)[0]}})});
/*jquery/model/model*/
define("jquery/model/model",["jquery/class/class","jquery/lang/string/string"],function(){var t=$.String,e=t.getObject,r=t.underscore,i=t.classize,n=$.isArray,s=$.makeArray,o=$.extend,u=$.each,a=function(t,e,r){$.event.trigger(e,r,t,!0)},c=function(e,r,i,s,u,a,c){if("string"==typeof e){var h=e.indexOf(" ");e=h>-1?{url:e.substr(h+1),type:e.substr(0,h)}:{url:e}}return e.data="object"!=typeof r||n(r)?r:o(e.data||{},r),e.url=t.sub(e.url,e.data,!0),$.ajax(o({type:a||"post",dataType:c||"json",fixture:u,success:i,error:s},e))},h=function(t,e,i){var n=r(t.shortName),s="-"+n+(e||"");return $.fixture&&$.fixture[s]?s:i||"//"+r(t.fullName).replace(/\.models\..*/,"").replace(/\./g,"/")+"/fixtures/"+n+(e||"")+".json"},l=function(e,r,i){r=r||{};var n=e.id;return r[n]&&r[n]!==i&&(r["new"+t.capitalize(i)]=r[n],delete r[n]),r[n]=i,r},f=function(t){return new(t||$.Model.List||Array)},d=function(t){return t[t.constructor.id]},p=function(t){var e=[];return u(t,function(t,r){r["__u Nique"]||(e.push(r),r["__u Nique"]=1)}),u(e,function(t,e){delete e["__u Nique"]})},y=function(t,e,r,i,n){var s,o=$.Deferred(),u=[t.serialize(),function(r){t[n||e+"d"](r),o.resolveWith(t,[t,r,e])},function(e){o.rejectWith(t,[e])}],a=t.constructor,c=o.promise();return"destroy"==e&&u.shift(),"create"!==e&&u.unshift(d(t)),o.then(r),o.fail(i),(s=a[e].apply(a,u))&&s.abort&&(c.abort=function(){s.abort()}),c},v=function(t){return"object"==typeof t&&null!==t&&t},m=function(t,e){return $([this]).on.apply($([this]),arguments)},_=function(t,e){return $([this]).off.apply($([this]),arguments)};ajaxMethods={create:function(t){return function(e,r,i){return c(t||this._shortName,e,r,i,h(this,"Create","-restCreate"))}},update:function(t){return function(e,r,i,n){return c(t||this._shortName+"/{"+this.id+"}",l(this,r,e),i,n,h(this,"Update","-restUpdate"),"put")}},destroy:function(t){return function(e,r,i){var n={};return n[this.id]=e,c(t||this._shortName+"/{"+this.id+"}",n,r,i,h(this,"Destroy","-restDestroy"),"delete")}},findAll:function(t){return function(e,r,i){return c(t||this._shortName,e,r,i,h(this,"s"),"get","json "+this._shortName+".models")}},findOne:function(t){return function(e,r,i){return c(t||this._shortName+"/{"+this.id+"}",e,r,i,h(this),"get","json "+this._shortName+".model")}}},jQuery.Class("jQuery.Model",{setup:function(t,e,i){var n=this,s=this.fullName;if(u(["attributes","validations"],function(e,r){n[r]&&t[r]!==n[r]||(n[r]={})}),u(["convert","serialize"],function(e,r){t[r]!=n[r]&&(n[r]=o({},t[r],n[r]))}),this._fullName=r(s.replace(/\./g,"_")),this._shortName=r(this.shortName),0!=s.indexOf("jQuery")){this.listType&&(this.list=new this.listType([])),u(ajaxMethods,function(t,e){var r=n[t];"function"!=typeof r&&(n[t]=e(r))});var a={},c="* "+this._shortName+".model";a[c+"s"]=this.proxy("models"),a[c]=this.proxy("model"),$.ajaxSetup({converters:a})}},attributes:{},model:function(t){return t?(t instanceof this&&(t=t.serialize()),new this(v(t[this._shortName])||v(t.data)||v(t.attributes)||t)):null},models:function(t){if(!t)return null;for(var e=f(this.List),r=n(t),i=$.Model.List,s=i&&t instanceof i,o=r?t:s?t.serialize():t.data,a=o?o.length:null,c=0;c<a;c++)e.push(this.model(o[c]));return r||u(t,function(t,r){"data"!==t&&(e[t]=r)}),e},id:"id",addAttr:function(t,e){var r=this.attributes;return r[t]||(r[t]=e),e},convert:{date:function(t){var e=typeof t;return"string"===e?isNaN(Date.parse(t))?null:Date.parse(t):"number"===e?new Date(t):t},number:function(t){return parseFloat(t)},boolean:function(t){return Boolean("false"===t?0:t)},default:function(t,r,i){var n,s=e(i),o=window;return i.indexOf(".")>=0&&(n=i.substring(0,i.lastIndexOf(".")),o=e(n)),"function"==typeof s?s.call(o,t):t}},serialize:{default:function(t,e){return v(t)&&t.serialize?t.serialize():t},date:function(t){return t&&t.getTime()}},bind:m,unbind:_,_ajax:c},{setup:function(t){this._init=!0,this.attrs(o({},this.constructor.defaults,t)),delete this._init},update:function(t,e,r){return this.attrs(t),this.save(e,r)},errors:function(t){t&&(t=n(t)?t:s(arguments));var e={},r=this,i=function(t,i){u(i,function(i,n){var s=n.call(r);s&&(e[t]||(e[t]=[]),e[t].push(s))})},o=this.constructor.validations;return u(t||o||{},function(t,e){"number"==typeof t&&(e=o[t=e]),i(t,e||[])}),$.isEmptyObject(e)?null:e},attr:function(t,e,r,n){var s=i(t),o="get"+s;if(void 0!==e){var u="set"+s,c=this[t],h=this,l=function(e){n&&n.call(h,e),a(h,"error."+t,e)};if(this[u]&&void 0===(e=this[u](e,this.proxy("_updateProperty",t,e,c,r,l),l)))return;return this._updateProperty(t,e,c,r,l),this}return this[o]?this[o]():this[t]},bind:m,unbind:_,_updateProperty:function(t,e,r,i,n){var s,o,u,c=this.constructor,h=c.attributes[t]||c.addAttr(t,"string"),l=c.convert[h]||c.convert.default,f=null,d="",p="updated.",y=i,v=c.list;s=this[t]=null===e?null:l.call(c,e,function(){},h),this._init||(f=this.errors(t)),o=[s],u=[t,s,r],f&&(d=p="error.",y=n,u.splice(1,0,f),o.unshift(f)),r===s||this._init||(!f&&a(this,d+t,o),a(this,p+"attr",u)),y&&y.apply(this,o),t===c.id&&null!==s&&v&&(r?r!=s&&(v.remove(r),v.push(this)):v.push(this))},removeAttr:function(t){var e=this[t],r=!1,i=this.constructor.attributes;this[t]&&delete this[t],i[t]&&(delete i[t],r=!0),!this._init&&r&&e&&a(this,"updated.attr",[t,null,e])},attrs:function(t){var e,r=this.constructor,i=r.attributes;if(t){var n=r.id;for(e in t)e!=n&&this.attr(e,t[e]);n in t&&this.attr(n,t[n])}else{t={};for(e in i)i.hasOwnProperty(e)&&(t[e]=this.attr(e))}return t},serialize:function(){var t,e,r,i=this.constructor,n=i.attributes,s={};attributes={};for(r in n)n.hasOwnProperty(r)&&(t=n[r],e=i.serialize[t]||i.serialize.default,s[r]=e.call(i,this[r],t));return s},isNew:function(){var t=d(this);return void 0===t||null===t||""===t},save:function(t,e){return y(this,this.isNew()?"create":"update",t,e)},destroy:function(t,e){return y(this,"destroy",t,e,"destroyed")},identity:function(){var t=d(this),e=this.constructor;return(e._fullName+"_"+(e.escapeIdentity?encodeURIComponent(t):t)).replace(/ /g,"_")},elements:function(t){var e=this.identity();return this.constructor.escapeIdentity&&(e=e.replace(/([ #;&,.+*~\'%:"!^$[\]()=>|\/])/g,"\\$1")),$("."+e,t)},hookup:function(t){var e=this.constructor._shortName,r=$.data(t,"models")||$.data(t,"models",{});$(t).addClass(e+" "+this.identity()),r[e]=this}}),u(["created","updated","destroyed"],function(t,e){$.Model.prototype[e]=function(t){var r=this.constructor;return"destroyed"===e&&r.list&&r.list.remove(d(this)),t&&"object"==typeof t&&this.attrs(t.attrs?t.attrs():t),a(this,e),a(r,e,this),[this].concat(s(arguments))}}),$.fn.models=function(t){var e,r,i=[];return this.each(function(){u($.data(this,"models")||{},function(t,r){e=void 0===e?r.constructor.List||null:r.constructor.List===e?e:null,i.push(r)})}),(r=f(e)).push.apply(r,p(i)),r},$.fn.model=function(t){return t&&t instanceof $.Model?(t.hookup(this[0]),this):this.models.apply(this,arguments)[0]}});
/*jquery/model/list/list*/
define("jquery/model/list/list",["jquery/model/model"],function(){var t=function(t){return t[0]&&$.isArray(t[0])?t[0]:t[0]instanceof $.Model.List?$.makeArray(t[0]):$.makeArray(t)},n=0,i=function(t){return t[t.constructor.id]},e=jQuery.expando,s=$.each,r=$.Model._ajax,h={update:function(t){return function(n,i,e,s){return r(t,{ids:n,attrs:i},e,s,"-updateAll","put")}},destroy:function(t){return function(n,i,e){return r(t,n,i,e,"-destroyAll","post")}}};$.Class("jQuery.Model.List",{setup:function(){for(var t in h)"function"!=typeof this[t]&&(this[t]=h[t](this[t]))}},{init:function(t,i){this.length=0,this._data={},this._namespace=".list"+ ++n,this.push.apply(this,$.makeArray(t||[]))},slice:function(){return new this.Class(Array.prototype.slice.apply(this,arguments))},match:function(t,n){return this.grep(function(i){return i[t]==n})},grep:function(t,n){return new this.Class($.grep(this,t,n))},_makeData:function(){var t=this._data={};this.each(function(n,i){t[i[i.constructor.id]]=i})},get:function(){if(!this.length)return new this.Class([]);this._changed&&this._makeData();for(var n,i,e=[],s=this[0].constructor,r=s._fullName,h=s.id,o=new RegExp(r+"_([^ ]+)"),u=t(arguments),a=0;a<u.length;a++)(i=u[a].nodeName&&(n=u[a].className.match(o))?this._data[n[1]]:this._data["string"==typeof u[a]||"number"==typeof u[a]?u[a]:u[a][h]])&&e.push(i);return new this.Class(e)},remove:function(n){if(!this.length)return[];var i,e=[],s=this[0].constructor,r=s._fullName,h=s.id,o=new RegExp(r+"_([^ ]+)");n=t(arguments);for(var u=0;u<this.length;){for(var a=this[u],c=!1,f=0;f<n.length;f++){var d=n[f].nodeName&&(i=n[f].className.match(o))&&i[1]||("string"==typeof n[f]||"number"==typeof n[f]?n[f]:n[f][h]);if(a[h]==d){e.push.apply(e,this.splice(u,1)),n.splice(f,1),c=!0;break}}c||u++}var p=new this.Class(e);return p.length&&$([this]).trigger("remove",[p]),p},elements:function(t){return $(this.map(function(t){return"."+t.identity()}).join(","),t)},model:function(){return this.constructor.namespace},findAll:function(t,n,i){var e=this;this.model().findAll(t,function(t){e.push(t),n&&n(e)},i)},destroy:function(t,n){var e=this.map(i),r=this.slice(0,this.length);return e.length?this.constructor.destroy(e,function(){s(r,function(){this.destroyed()}),t&&t(r)},n):t&&t(this),this},update:function(t,n,e){var r=this.map(i),h=this.slice(0,this.length);return r.length?this.constructor.update(r,t,function(i){var e=$.extend(t,i||{});s(h,function(){this.updated(e)}),n&&n(h)},e):n&&n(this),this},bind:function(){return void 0===this[e]&&this.bindings(this),$.fn.bind.apply($([this]),arguments),this},unbind:function(){return $.fn.unbind.apply($([this]),arguments),void 0===this[e]&&$(this).unbind(this._namespace),this},bindings:function(t){var n=this;$(t).bind("destroyed"+this._namespace,function(){n.remove(this)}).bind("updated"+this._namespace,function(){$([n]).trigger("updated",this)})},push:function(){var n=t(arguments);void 0!==this[e]&&this.bindings(n),this._changed=!0;var i=o.apply(this,n);return this[e]&&n.length&&$([this]).trigger("add",[n]),i},serialize:function(){return this.map(function(t){return t.serialize()})}});var o=[].push;s({pop:[].pop,shift:[].shift,unshift:[].unshift,splice:[].splice,indexOf:[].indexOf,sort:[].sort,reverse:[].reverse},function(t,n){$.Model.List.prototype[t]=function(){return this._changed=!0,n.apply(this,arguments)}}),s(["each","map"],function(t,n){$.Model.List.prototype[n]=function(t,i){return $[n](this,t,i)}})});
/*jquery/model/backup/backup*/
define("jquery/model/backup/backup",["jquery/model/model"],function(){var r=$.isArray,t=function(r){var t=0;for(var e in r)t++;return t},e=function(n,i,u){var o=typeof n,f=r(n);if(-1===u)return"object"===o||n===i;if(o!==typeof i||f!==r(i))return!1;if(n===i)return!0;if(f){if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!e(n[a],i[a]))return!1;return!0}if("object"===o||"function"===o){var c=0;for(var s in n){if(!e(n[s],i[s],!1===u?-1:void 0))return!1;c++}return c===t(i)}return!1},n=function(r){var t={};for(var e in r)"object"==typeof r[e]&&null!==r[e]||(t[e]=r[e]);return t};$.extend($.Model.prototype,{backup:function(){return this._backupStore=this.serialize(),this},isDirty:function(r){return!!this._backupStore&&!e(this.serialize(),this._backupStore,!!r)},restore:function(r){var t=r?this._backupStore:n(this._backupStore);return this.attrs(t),this}})});
/*jquery/model/validations/validations*/
define("jquery/model/validations/validations",["jquery/model/model"],function(){var i=function(i,n,t){if(t||(t=n,n={}),n=n||{},i=$.makeArray(i),!n.testIf||n.testIf.call(this)){var a=this;$.each(i,function(i,s){a.validations[s]||(a.validations[s]=[]),a.validations[s].push(function(){var i=t.call(this,this[s]);return void 0===i?void 0:n.message||i})})}};$.extend($.Model,{validate:i,validationMessages:{format:"is invalid",inclusion:"is not a valid option (perhaps out of range)",lengthShort:"is too short",lengthLong:"is too long",presence:"can't be empty",range:"is out of range"},validateFormatOf:function(n,t,a){i.call(this,n,a,function(i){if(void 0!==i&&""!=i&&null==String(i).match(t))return this.Class.validationMessages.format})},validateInclusionOf:function(n,t,a){i.call(this,n,a,function(i){if(void 0!==i)return 0==$.grep(t,function(n){return n==i}).length?this.Class.validationMessages.inclusion:void 0})},validateLengthOf:function(n,t,a,s){i.call(this,n,s,function(i){return void 0===i&&t>0||i.length<t?this.Class.validationMessages.lengthShort+" (min="+t+")":void 0!==i&&i.length>a?this.Class.validationMessages.lengthLong+" (max="+a+")":void 0})},validatePresenceOf:function(n,t){i.call(this,n,t,function(i){if(void 0===i||""==i||null===i)return this.Class.validationMessages.presence})},validateRangeOf:function(n,t,a,s){i.call(this,n,s,function(i){if(void 0!==i&&i<t||i>a)return this.Class.validationMessages.range+" ["+t+","+a+"]"})}})});
/*lib/frog*/
define("lib/frog",["module","@loader","require"],function(e,t,n){t.get("@@global-helpers").prepareGlobal({require:n,name:e.id,deps:[]});var r=t.global.define,n=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'(navigator.userAgent.match(/iPhone|iPad|iPod|Android/i)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&($.support.touch=!0,$("html").addClass("handheld")),Frog=void 0!==window.Frog?window.Frog:{},Frog.Utilities={pseudo_style_sheet:null,isObject:function(e){if(void 0===e||null===e)return!1;if("[object Object]"!==e.toString())return!1;var t;for(t in e);return!t||Object.prototype.hasOwnProperty.call(e,t)},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},trimLength:function(e,t,n){var r=parseInt(t,10);if(r&&void 0!==r&&!isNaN(r)){if(!e)return"";if(e.length<=t)return e;n=n&&void 0!==n?n:"...";var i=t-3,o=e.lastIndexOf(" ",i);return(-1==o||o<t/2)&&(o=i),e.substr(0,o)+n}return e},formatTime:function(e,t,n,r){var i,o=1e3*e,a=new Date(o);if(n||(n=":"),t)switch(t){case"social":case"dataviewer-datetime":var u,s=new Date,c=new Date,l=new Date;if(s.setHours(0,0,0,0),c.setDate(s.getDate()-1),c.setHours(0,0,0,0),l.setDate(s.getDate()+1),l.setHours(0,0,0,0),i=a.valueOf()>s.valueOf()&&a.valueOf()<l.valueOf()&&"dataviewer-datetime"!==t?$.i18n._("os","label.today"):a.valueOf()>c.valueOf()&&a.valueOf()<s.valueOf()&&"dataviewer-datetime"!==t?$.i18n._("os","label.yesterday"):a.valueOf()>=l.valueOf()&&a.valueOf()<l.valueOf()+86400?$.i18n._("os","label.tomorrow"):$.datepicker.formatDate("dd/mm/yy",a),u=a.toLocaleTimeString().split(" ")[0],i+=" @ ","dataviewer-datetime"===t){var f=u.split(":");i+=f[0]+":"+f[1]}else i+=u;break;case"assignmentdate":case"dataviewer-date":var d=new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds()));i=$.datepicker.formatDate("dd/mm/yy",d);break;case"hoursminutes":case"time":var g,h=(g=r&&a.getHours()>12?a.getHours()-12:a.getHours())<10?"0"+g:g,m=a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes(),p=a.getSeconds()<10?"0"+a.getSeconds():a.getSeconds();i=h+n+m,"time"==t&&(i+=n+p),r&&(i+=" "+(a.getHours()<12?"AM":"PM"));break;case"short_month":i=$.datepicker.formatDate("M",a);break;case"short_day":i=$.datepicker.formatDate("D",a);break;case"date_month":i=$.datepicker.formatDate("dd/mm",a);break;default:i=$.datepicker.formatDate(t,a)}else i=a;return i},convertTime:function(e,t){var n=new Date(e);return t?new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0).getTime():new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()).getTime()},momentToUtcTimestamp:function(e,t){return void 0===t&&(t=!0),(e?new moment(e):new moment).utc(t).unix()},addBreakingDashes:function(e,t){void 0===t&&(t=8);var n=new RegExp(".{1,"+t+"}","g");return e.match(n).join("&shy;")},mediaSources:{youtube:/(?:\\?v=|&v=|v%3D|favicon|vi\\/|v\\/|\\/e\\/|youtu\\.be\\/|embed\\/|api\\/videos\\/|a\\/u\\/1\\/)([\\w-]+)/i,vimeo:/(\\d+)$/,flickr:/flickr\\.com\\/([a-z0-9_\\/]+)\\.jpg$/,default:/[^a-z0-9_-]+/gi},getMediaSource:function(e){var t=e&&e.match(/(vimeo|flickr|youtube|youtu\\.be)/)||null;return t&&t.length?t[0]:null},extractMediaIdFromResource:function(e,t,n){var r,i,o=this.mediaSources[(t||this.getMediaSource(e)||"default").replace(this.mediaSources.default,"")],a="",u=e.match(o);if(void 0!==t&&0!==t.length||(t=this.getMediaSource(e)||"resource"),t=t.replace(this.mediaSources.default,""),u&&u.length)switch(n||(a+=t+"_"),t){case"youtube":case"vimeo":a+=(i=e.match(o)).length?i[1]:null;break;case"flickr":r=(i=e.match(o)).length?i[1].replace(/\\//g,"-"):null,a+=i.length&&r?r:null;break;case"bing":case"mylibrary":case"default":default:a+=e.replace(this.mediaSources.default,"").replace(/^http/,"")}return a},getOrientation:function(){return null!=window.orientation?window.orientation:window.screen&&window.screen.orientation?window.screen.orientation.angle:90},isPortrait:function(){var e=!!navigator.userAgent.match("GT-P5110"),t=this.getOrientation(),n=90!==Math.abs(t);return e&&(n=!n),n},setAssetDimensions:function(e,t,n,r){var i=String(e).replace(/((width|height)=[0-9]+(&|))/g,"").replace(/scale_mode=.*?(&|($))/g,""),o=[];return i.match(/\\?/)?i+="&":i+="?",t&&o.push("width="+t),n&&o.push("height="+n),r&&o.push("scale_mode=fill"),i+o.join("&")},scaleImageToWindow:function(e,t,n,r){return n>e&&(t*=n/e,e=n),r>t&&(e*=r/t,t=r),[e,t]},setBackgroundImage:function(e,t,n,r){var i=function(){return e.removeClass(function(e,t){return(t.match(/\\bos-background-\\S+/g)||[]).join(" ")})};if(t){if(!(r=$.extend({noresize:!1,important:!1},r)).noresize){var o,a=/app\\/file\\/(resource|asset)/,u=window.screen.width,s={xlarge:"?width=1920&height=1200",large:"?width=1680&height=1050",medium:"?width=1366&height=768",small:"?width=1024&height=768"};switch(!0){case u>1650:o="xlarge";break;case u>1366||$.support.touch:o="large";break;case u>1024:o="medium";break;default:o="small"}a.test(t)?t+=s[o]:t=t.replace(".jpg","-"+o+".jpg")}if(i().css({"background-image":"url("+t+")",filter:"auto"}),"center"==n&!t.match(/frog\\-bubbles\\-xlarge\\.jpg/)&&r.reposition){var c=$("<img />");c.bind("load",function(){$(this).height()<e.height()&&$.when(e.addClass("os-background-top-important")).done(function(){c.remove()})}),$("body").append(c),c.attr("src",t),c.hide()}e.addClass("os-background-"+n+(r.important?"-important":""))}else i().css({"background-image":""})},convertToHttps:function(e){if(e)return e.replace(/^http:\\/\\//i,"https://")},getBaseUrl:function(){return window.location.protocol+"//"+window.location.host+(window.location.href.match("/frogos/")?"/frogos":"")},getBaseSubFolder:function(){return window.location.href.match("/frogos/")?"/frogos":""},modal_resize_timeout:null,modalResize:function(e){var t=e.find(".modal-body");t.removeAttr("style");var n=$(window).innerHeight(),r=e.find(".modal-header").outerHeight(),i=e.find(".modal-footer").outerHeight();if(n<t.height()+r+i+60){var o=n-i-r-60;o<0&&(o=0),t.height(o)}e.css("top",(n-e.height())/2)},isEnvironment:function(){var e,t=0,n=arguments.length;if(steal.isRhino||(e=Os.Models.Environment.Deployment.getDeployment()),!e)return console.error("Fatal Error: No enviroment set for FrogOS."),!1;if(!n)return!1;for(n;t<n;t++)if(arguments[t]===e)return!0;return!1},isBundle:function(){var e=Os.Models.Environment.get("active_bundle");if(!e)return!1;for(var t=0;t<arguments.length;t++)if(arguments[t]===e)return!0;return!1},download:function(e,t,n){if($.support.touch||!0===t||!Modernizr.adownload||$.browser.edge)window.open(e,"_blank");else{var r=document.createElement("a");r.setAttribute("download",n||!0),r.setAttribute("href",e),document.body.appendChild(r),r.click(),r.remove()}},arrayToCsv:function(e){var t,n,r,i,o="";for(t=0,n=e.length;t<n;t++){for(r=0,i=e[t].length;r<i;r++)o+=e[t][r],r<i-1&&(o+=",");o+="\\r\\n"}return o},dataToUrl:function(e,t){var n=new Blob([e],{type:t||"text/html"});return URL.createObjectURL(n)},hyphenize:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},numberToOrdinal:function(e){var t=parseInt(e,10);if("number"!=typeof t||isNaN(t)||0===t)return e;var n=["th","st","nd","rd"],r=t%100,i="number.ordinal."+(n[(r-20)%10]||n[r]||n[0]),o=$.i18n._("os",i);return o===i?e:t+""+o},memoize:function(e){var t=this;return function(){e.memo=e.memo||{};for(var n=Array.prototype.slice.call(arguments),r="",i=0;i<n.length;i++)r+=t.isObject(n[i])?JSON.stringify(n[i]):n[i];return void 0!==e.memo[r]?e.memo[r]:(e.memo[r]=e.apply(this,n),e.memo[r])}},generateSimpleId:function(e,t){e="number"==typeof e&&isFinite(e)?e:15,t=t||"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var n=[];n.length<e;){var r=Math.floor(Math.random()*t.length);n.push(t.charAt(r))}return n.join("")},getElementInnerEdges:function(e){var t=e.offset();return t.right=t.left+e.innerWidth(),t.bottom=t.top+e.innerHeight(),t},getElementOuterEdges:function(e){var t=e.offset(),n={top:parseInt(e.css("margin-top"),10),right:parseInt(e.css("margin-right"),10),bottom:parseInt(e.css("margin-bottom"),10),left:parseInt(e.css("margin-left"),10)},r={top:parseInt(e.css("border-top-width"),10),right:parseInt(e.css("border-right-width"),10),bottom:parseInt(e.css("border-bottom-width"),10),left:parseInt(e.css("border-left-width"),10)};return n.top=n.top>0?n.top:0,n.right=n.right>0?n.right:0,n.bottom=n.bottom>0?n.bottom:0,n.left=n.left>0?n.left:0,t.top-=r.top+n.top,t.left-=r.left+n.left,t.bottom=t.top+e.innerHeight()+r.top+r.bottom+n.top+n.bottom,t.right=t.left+e.innerWidth()+r.left+r.right+n.left+n.right,t},stringifyFetchParams:function(e){var t,n="",r=function(e,t){var n,i,o="";if("object"==typeof e)for(i in e)(n=t.slice()).push(i),o+=r(e[i],n);else{for(o+=t[0],i=1;i<t.length;i++)o+="["+t[i]+"]";o+="="+e+"&"}return o};for(t in e)n+=r(e[t],[t]);return n=n.replace(/\\&$/g,""),encodeURI(n)},toType:function(e){return{}.toString.call(e).match(/\\s([a-zA-Z]+)/)[1].toLowerCase()},stripHtml:function(e){return $("<div />").html(e).text()},getTextSelection:function(e){var t,n,r={};return"function"==typeof window.getSelection?((n=(t=window.getSelection().getRangeAt(0)).cloneRange()).selectNodeContents(e),n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset),r.start=n.startOffset,r.end=n.endOffset,r.text=n.toString()):void 0!==document.selection&&"Control"!==document.selection.type&&((n=(t=document.selection.createRange()).duplicate()).moveToElementText(e),n.setEndPoint("EndToEnd",t),r.start=n.text.length-t.text.length,r.end=n.text.length,r.text=n.text.substr(r.start,r.end)),r},escapeRegExp:function(e){if(!e||"string"!=typeof e)throw new TypeError("escapeRegExp: must provide a source string");return e.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g,"\\\\$1")},deref:function(e,t){return t.split(".").reduce(function(e,t){if(e)return e&&e[t]},e)},truncateWithEllipses:function(e,t){return void 0===t&&(t=20),e.length>t?e.substring(0,t)+"...":e},rangeValue:function(e,t){var n=Object.keys(e);if(!n.length)throw new TypeError("Bucket definition has no keys");if(isNaN(parseFloat(t))||!isFinite(t))throw new RangeError("value is non-numeric");return e[n.map(function(e){return parseFloat(e)}).sort(function(e,t){return e-t}).reduce(function(e,n){return t>e?n:e})]},rangeSelect:function(e,t){return!isNaN(parseFloat(t))&&isFinite(t)||(t=null),Object.keys(e).map(function(n){return{label:e[n],value:n,selected:e[n]===t}}.bind(this))},encodeURI:function(e){return e===decodeURI(e)?encodeURI(e):e},isKeyEventValidShortcut:function(e){return!(["INPUT","TEXTAREA"].indexOf(e.target.nodeName)>-1||"true"===e.target.contentEditable)},naturalSort:function(e,t,n){var r,i,o,a,u,s,c,l,f=0;if(c=n?-1:1,l=/(\\.\\d+)|(\\d+(\\.\\d+)?)|([^\\d.]+)|(\\.\\D+)|(\\.$)/g,e===t)return 0;for(r=e.toLowerCase().match(l),i=t.toLowerCase().match(l),s=r.length;f<s;){if(!i[f])return 1*c;if(o=r[f],a=i[f++],o!==a)return u=o-a,isNaN(u)?o>a?1*c:-1*c:u*c}return i[f]?-1*c:0},ucFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},kebabToSnakeCase:function(e){return e.split("-").map(function(e){return Frog.Utilities.ucFirst(e)}).join("")},getScrollbarWidth:function(){var e,t;return void 0===this.scrollbarWidth&&(e=$("<div />").css({width:"50px",height:"50px",position:"absolute",left:"-50px",top:"-50px",overflow:"auto"}),t=$("<div />").css({width:"1px",height:"100px"}),$("body").append(e.wrapInner(t)),this.scrollbarWidth=e.get(0).offsetWidth-e.get(0).clientWidth,e.remove()),this.scrollbarWidth},showMenu:function(e){var t=e[0].classList;$.browser.msie||$.browser.edge||e.off("animationend webkitAnimationEnd oAnimationEnd oAnimationEnd"),t.remove("selected-anim-out"),t.remove("selected-anim-fade-out"),t.remove("hide"),t.add("selected-anim")},hideMenu:function(e,t){var n=e[0].classList;if(n.contains("selected-anim-out")||n.contains("selected-anim-fade-out"))return!1;$.browser.msie||$.browser.edge?setTimeout(function(){n.add("hide"),n.remove("selected-anim"),n.remove("selected-anim-fade-out"),n.add("selected-anim-out")},195):e.one("animationend webkitAnimationEnd oAnimationEnd oAnimationend",function(){n.add("hide"),n.remove("selected-anim"),n.remove("selected-anim-fade-out"),n.add("selected-anim-out")}),t?n.add("selected-anim-fade-out"):n.add("selected-anim-out")},toggleMenu:function(e,t){if(!0===t||!1===t)return t?this.showMenu(e):this.hideMenu(e);!1===this.hideMenu(e)&&this.showMenu(e)},getMobileOS:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)?"Android":"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1?"iPadOS":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"other"},isSignedIntoGoogle:function(){var e=gapi&&gapi.auth2&&gapi.auth2.getAuthInstance&&gapi.auth2.getAuthInstance();return e&&e.isSignedIn&&e.isSignedIn.get()||!1},getDevice:function(){return"iPadOS"===this.getMobileOS()?"tablet":$.support.touch?screen.width<500||screen.width>screen.height&&screen.height<500?"phone":"tablet":"computer"},hookupModels:function(e){e.length&&can.view.hookup(e[0],e.parent()[0])},closeAllModals:function(){$("body").find(".modal .close").click()},addStyleToPseudo:function(e){var t,n,r,i,o;if(e&&e.element&&e.style){if(t={element:e.element,before:e.before||!0,after:e.after||!0,removeExisting:e.removeExisting||!0,style:"string"==typeof e.style?[e.style]:e.style},this.pseudo_style_sheet||(this.pseudo_style_sheet=$(document.createElement("style")).appendTo(document.body)[0].sheet),n=$(t.element).data("unique_pseudo_id")?$(t.element).data("unique_pseudo_id"):Frog.Utilities.generateSimpleId(8),r=".pseudo_"+n,$(t.element).addClass(r.slice(1)).data("unique_pseudo_id",n),t.removeExisting)for(i=$.grep(this.pseudo_style_sheet.rules,function(e){return t.before&&e.selectorText==r+"::before"||t.after&&e.selectorText==r+"::after"}.bind(this)),o=0;o<i.length;o++)this.pseudo_style_sheet.deleteRule(i[o]);for(o=0;o<t.style.length;o++)t.before&&this.pseudo_style_sheet.insertRule(r+":before { "+t.style[o]+" }",0),t.after&&this.pseudo_style_sheet.insertRule(r+":after { "+t.style[o]+" }",0)}},copyNodeToClipboard:function(e){var t=window.getSelection(),n=document.createRange();if(!(e instanceof Element))throw new Error("copyNodeToClipboard expects a object of type Element");if(Array.isArray(e))throw new Error("copyNodeToClipboard cannot accept an array");n.selectNode(e),t.removeAllRanges(),t.addRange(n);try{document.execCommand("copy"),t.removeAllRanges()}catch(e){return!1}return!0},linkifyString:function(e,t){var n=t?can.esc(e):e,r={email:{regex:/(([a-zA-Z0-9\\-\\_\\.])+@[a-zA-Z\\_]+?(\\.[a-zA-Z]{2,6})+)/gim,html:\'<a class="linkified" href="mailto:$1">$1</a>\'},url:{regex:/(\\s|^)((?:(http(s)?|ftp):\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:%/?#[\\]@!\\$&\'\\(\\)\\*\\+,;=.]+)(\\s|$)/gim,html:\'<a class="linkified" href="$2" target="_blank">$2</a>\'}};return Object.values(r).forEach(function(e){n=n.replace(e.regex,e.html)}),n},roundToDecimalPlaces:function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},getInitials:function(e){return e.replace(/Mrs |Mr |Miss |Ms |[0-9]/g,"").match(/\\b(\\w)/g).join("")},parseTruthy:function(e){return"true"===e||1===e||"1"===e||!0===e},documentFragmentToJqueryCollection:function(e){return $($("<div />").html(e).html())},addButtonToBSModal:function(e,t,n,r,i,o){r=r||"",i=i||"",o=o||"submit";var a=Frog.Utilities.documentFragmentToJqueryCollection(e.view("~/os/views/modal/button.ejs",{type:o,classes:i,action:r,label:n}));return t.find("div.modal-footer").append(a),a},removeObjectProperty:function(e,t){return Object.entries(e).reduce(function(e,n){var r=n[0],i=n[1];return r!==t&&(e[r]=i),e},{})}},Frog.Utilities.Validate={email:function(e){return"string"==typeof e&&/^[a-zA-Z0-9.!#$%&\'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)+$/.test(e)},date:function(e){if(e instanceof Date)return"Invalid Date"!==e.toString();var t=e.split("/");if(3!==t.length)return!1;var n=parseInt(t[0],10),r=parseInt(t[1]-1,10),i=parseInt(t[2],10),o=new Date(i,r,n);return o.getDate()===n&&o.getMonth()===r&&o.getFullYear()===i},ipv4:function(e){for(var t,n=e.split("."),r=0,i=n.length;r<i;r++){if(!/^\\d+$/.test(n[r]))return!1;if(t=parseInt(n[r],10),isNaN(t)||t<0||t>255)return!1}return 4===n.length},ipv4subnet:function(e){var t=e.split("/");return!(2!==t.length||!Frog.Utilities.Validate.ipv4(t[0]))&&!(!Frog.Utilities.Validate.ipv4(t[1])&&(parseInt(t[1],10)<8||parseInt(t[1],10)>32))},url:function(e,t,n){var r="^";if("string"!=typeof e||""===e)return!1;if(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new Error("Protocols must be an array");r="^(("+t.join("|")+"):)?(\\\\/\\\\/)",n||(r+="?")}return new RegExp(r+"(\\\\-*.)+([^\\\\s/?.#-]+\\\\.?)+(/[^\\\\s]*)?$","i").test(e)},isInt:function(e){return"number"==typeof e&&isFinite(e)&&e%1==0},uuid:function(e){if("string"==typeof e){switch(Frog.Utilities.Validate.getUuidVersion(e)){case 1:if(32!=e.length||"F"!=e.substr(15,1))return;break;case 2:if(48!=e.length||"F"!=e.substr(21,1)||"0"!=e.substr(30,1)||"C"!=e.substr(39,1))return;break;default:return}return!0}},getUuidVersion:function(e){return parseInt(e.substr(8,1))}},Frog.Utilities.Reporting={stringifyObjectValues:function(e){for(var t in e)"object"==typeof e[t]?(null===e[t]&&(e[t]="null"),this.stringifyObjectValues(e[t])):"boolean"==typeof e[t]?e[t]+="":"string"!=typeof e[t]?e[t]+="":void 0===e[t]&&(e[t]="undefined");return e},arrayUnique:function(e){for(var t=[],n=0,r=e.length;n<r;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t},arrayGroupValues:function(e){return e.reduce(function(e,t){return void 0===e[t]?e[t]=1:e[t]+=1,e},{})},sumObjectValues:function(e){var t=0;return Object.keys(e).forEach(function(n){t+=e[n]}),t},popover:function(e,t,n){var r={element:t,data:n};$(t).closest(".reporting_report").trigger("frog.utilities."+e,r)},linkPattern:/\\[\\[\\s*(.*?)\\s*--\\s*(.*?)\\s*\\]\\]/g,urlTranslation:function(e){return can.esc(e).replace(this.linkPattern,\'<strong><a href="$2" target="_blank" title="$1">$1</a></strong>\')}},Frog.Utilities.RegExp={NEWLINE:/\\n\\r|\\r|\\n/g},Frog.Utilities.promisify=function(e){return e.__proto__.constructor===Promise?e:e&&"function"==typeof e.done?new Promise(function(t,n){e.done(t).fail(n)}):Promise.resolve(e)},Frog.Utilities.arrayify=function(e){if(Array.isArray(e))return e;if("number"!=typeof e.length)throw new Error("arrayify expects the input to be something with a .length property, received: "+e);return Array.prototype.slice.call(e)},Frog.Utilities.elementExists=function(e,t,n){var r=e.find(t);if(0===r.length)return setTimeout(this.elementExists.bind(this,e,t,n),200);"function"==typeof n&&n(r)},Frog.Utilities.insideOutPromise=function(){var e,t,n=new Promise(function(n,r){e=n,t=r});return n.resolve=e,n.reject=t,n},Frog.Utilities.checkAtIntervals=function(e,t){var n,r,i=0;return(n=function(){Frog.Utilities.promisify(e(i++)).then(function(e){e&&(r=setTimeout(n,t))})})(),function(){clearTimeout(r)}},Frog.Utilities.shallowDiff=function(e,t){var n=Object.keys(e).filter(function(n){return e[n]!==t[n]}),r=Object.keys(t).filter(function(n){return e[n]!==t[n]}),i=[].concat(n).concat(r).filter(Frog.Utilities.Functional.unique).sort();return Object.fromEntries(i.map(function(n){return[n,{left:e[n],right:t[n]}]}))},Frog.Utilities.Functional={and:function(e){return 1===(e=[].slice.call(arguments)).length&&Array.isArray(e[0])&&(e=e[0]),function(t){return e.every(function(e){return e(t)})}},callMethod:function(e){var t=Frog.Utilities.arrayify(arguments).slice(1);return function(n){return n[e].apply(n,t)}},equalTo:function(e){return function(t){return t===e}},flow:function(e){return function(t){return e.reduce(function(e,t){return t(e)},t)}},greaterThan:function(e){return function(t){return t>e}},greaterThanOrEqualTo:function(e){return function(t){return t>=e}},leftPad:function(e,t){return function(n){for(;n.length<t;)n=e+n;return n}},lessThan:function(e){return function(t){return t<=e}},lessThanOrEqualTo:function(e){return function(t){return t<=e}},multiplyBy:function(e){return function(t){return t*e}},not:function(e){return function(t){return!e(t)}},or:function(e){return function(t){return e.any(function(e){return e(t)})}},parseIntWithRadix:function(e){return function(t){return parseInt(t,e)}},pluck:function(e){return function(t){return t[e]}},pluckFrom:function(e){return function(t){return e[t]}},splitString:function(e){var t=new RegExp(".{1,"+e+"}","g");return function(e){return e.match(t)}},sum:function(e,t){return e+t},toString:function(e){return""+e},toStringWithRadix:function(e){return function(t){return t.toString(e)}},typeIs:function(e){return function(t){return typeof t===e}},unique:function(e,t,n){return n.indexOf(e)===t}};',address:e.uri}),t.global.require=n,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/frog_controller*/
define("lib/frog_controller",["module","@loader","require"],function(t,e,i){e.get("@@global-helpers").prepareGlobal({require:i,name:t.id,deps:[]});var o=e.global.define,i=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'$.Controller.extend("Frog.Controller",{_User:null,defaults:{dblclick:$.support.touch?"doubletap":"dblclick",click:$.support.touch?"tap":"click"}},{appName:null,portraitMode:!0,allowOnMobile:!1,setup:function(t,e){this.element=t,this._super(t,e);var i=this.Class.fullName.split(".")[0];this.appName=i.toLowerCase(),this.theme=this.theme||"light",this.loaderTimeout=null,this.altLoaderTimeout=this.altLoaderTimeout||($.support.touch?300:2e3)},view:function(t,e,i,o){var n,s=$.extend({},{app:this,view:function(t,e,i,o){"app.view";return void 0==o&&(o=!0),this.view.apply(this,arguments)}.bind(this)},e);return(i=i||{})._=self._,i.pretty_num=self.pretty_num,i.pluralise=self.pluralise,i.pwd||(i.pwd=this.appName),t.match(/^\\/\\//)&&(t=Frog.Utilities.getBaseUrl()+"/app/"+t.substring(2)),n=t.match(/^http(s){0,1}:/)?t:jQuery.Controller._calculatePosition(this.Class,t,this.called),(arguments.callee&&arguments.callee.caller&&arguments.callee.caller.toString()||"").match("app.view")||!0===o?can.view.render(n,s,i):can.view(n,s,i)},_:function(t,e,i,o,n){return e=$.makeArray(e),i=void 0===i?this.appName:i,null==t||"function"!=typeof t.search||!0===n||0!==t.search("format.date")&&0!==t.search("format.time")?$.i18n._(i,t,e,o):(e=$.isArray(e)?e[0]:e,this.formatDateTime(t,e,o))},pluralise:function(t,e,i){return $.i18n.pluralise(this.appName,t,e,i)},pretty_num:function(t){return $.i18n.pretty_num(this.appName,t)},formatDateTime:function(t,e,i){var o;if(e=e||moment(),isNaN(parseInt(e))){if(e instanceof Date)e=moment(e);else if(!moment.isMoment(e))throw new Error("dateTime must be a Moment object, Date or Unix offset")}else e=moment.unix(e);if((o=this._(t,null,"os",i,!0))===t)throw new Error("Invalid key provided");return e.format(o)},load:function(t,e){var i=Lib.Models.i18n.get("language"),o=t;"datepicker"===t&&(o="jqueryui/i18n/jquery.ui.datepicker-"+i+".js"),"function"!=typeof e&&(e=function(){}),steal.import("public/js/libs/"+o).then(e)},model:function(t,e){var i=e||this.element,o=this;return function(){var e=o.appName.charAt(0).toUpperCase()+o.appName.slice(1);return window[e].Models[t].setContext(i)}()},trigger:function(t,e){if(this.element){var i={data:e,element:this.element||e.element};$("div.os_core:first").trigger(t,i)}},triggerHandler:function(t,e){var i={};if(this.element)return i.data=e,i.element=this.element||e.element,jQuery("div.os_core:first").triggerHandler(t,i)},_bindCustom:function(t,e,i){var o=this;t.hasClass("disabled")||t.bind(this.options.click,function(){i||o.hideModal(t.closest(".modal")),"function"==typeof e&&e()})},_bindOK:function(t,e){var i=this;t.bind(this.options.click,function(o){o.stopPropagation(),o.preventDefault(),i.hideModal(t.closest(".modal")),"function"==typeof e&&e(!0)})},_bindPromptInput:function(t,e){var i=function(i){var o,n=$.trim(t.find("input").val()),s=t.find(\'[data-action="confirm"]\');i.preventDefault(),i.stopPropagation(),"string"==typeof e?o=n===e:e&&"RegExp"===e.constructor.name&&(o=e.test(n)),n&&(!e||o)||s.hasClass("disabled")?n&&(!e||e&&o)&&s.removeClass("disabled"):s.addClass("disabled")};t.find("input").on("keyup",i),t.find("input").on("paste",jQuery.debounce(i,500)),t.find("form").on("submit",i)},_bindPromptConfirm:function(t,e){var i=this,o=function(o){var n=t.find("input").val();if($(o.currentTarget).hasClass("disabled")||!n)return!1;o.preventDefault(),e(n,t).done(function(){i.hideModal(t)}).fail(function(e){t.find(".help-inline").remove(),t.find(".controls").append(i.view("~/os/views/modal/helpinline.ejs",{message:e})).closest(".control-group").addClass("error")})};t.find(\'[data-action="confirm"]\').on("click tap",o),t.find("form").on("submit",o)},_bindCancel:function(t,e){var i=this;t.bind(this.options.click,function(o){o.stopPropagation(),i.hideModal(t.closest(".modal")),"function"==typeof e&&e(!1)})},alert:function(t,e,i){void 0===i&&(i={}),i.classes=i.classes?i.classes+" mobile-responsive":"mobile-responsive";var o=this.bsmodal(i.title||this._("alert.title",null,"os"),t,i.classes),n=Frog.Utilities.addButtonToBSModal(this,o,i.ok||this._("button.ok",null,"os"),null,"btn-primary ok");this._bindOK(n,e),o.find("div.modal-header").find("a.close-large").click(function(){"function"==typeof e&&e(!1)})},confirm:function(t,e,i){var o,n=this;if(void 0===t)throw"No confirm body defined";if(void 0===i&&(i={}),i.classes=i.classes?i.classes+" mobile-responsive":"mobile-responsive","function"!=typeof e&&(e=function(){}),o=this.bsmodal(i.title||this._("confirm.title",null,"os"),t,i.classes,{disableCloseClick:!0},void 0!==i.showAtAppLevel&&!!i.showAtAppLevel),void 0!==i.buttons)for(var s,a=i.preventHideModal||!1,r=0;r<i.buttons.length;r++){var l=i.buttons[r];"function"!=typeof l.action&&(l.action=function(){}),s=Frog.Utilities.addButtonToBSModal(this,o,Frog.Utilities.stripHtml(l.label),null,[l.type||"",l.klass||""].join(" ")),this._bindCustom(s,i.buttons[r].action,a)}else{var d=i.okClass||"btn-primary",c=i.ok||this._("button.confirm",null,"os"),u=i.cancel||this._("button.cancel",null,"os"),p=Frog.Utilities.addButtonToBSModal(this,o,c,null,d+" ok"),f=Frog.Utilities.addButtonToBSModal(this,o,u,null,"cancel");this._bindOK(p,e),this._bindCancel(f,e)}return o.find("div.modal-header").find("a.close-large").bind(this.options.click,function(t){t.stopPropagation(),e(!1),n.hideModal(o)}),o},checkboxConfirm:function(t,e,i){if("string"!=typeof t||t.length<1)throw"message parameter must be a non empty string";if("function"!=typeof e)throw"callback must be a function";var o="mobile-responsive checkboxconfirm";if(i){if("string"!=typeof i)throw"className parameter must be a string";o+=" "+i}var n=this.bsmodal("",t,o),s=(n.find("div.modal-header"),n.find("div.modal-footer")),a=$("<label>"+this._("button.accept")+\'<input type="checkbox"></label>\').appendTo(s).find(\'input[type="checkbox"]\'),r=this;return $(\'<a class="btn ok">\'+this._("button.continue")+"</a>").appendTo(s).click(function(t,i){e(a.is(":checked")),r.hideModal(n)}),n.find("div.modal-header").find("a.close-large").click(function(){e(null)}),n},prompt:function(t,e,i){var o;if(!t||"string"!=typeof t)throw new Error("Title must be defined");if("function"!=typeof e)throw new Error("Callback must be defined");i=i||{},(o=this.bsmodal(t,i.message||null,null,i)).find(".modal-body").html(this.view("~/os/views/modal/prompt.ejs",{message:i.message||null,placeholder:i.placeholder||null})),Frog.Utilities.addButtonToBSModal(this,o,i.ok||this._("button.confirm",null,"os"),"confirm","disabled "+(i.okclass?i.okclass:"btn-primary"),"submit");var n=Frog.Utilities.addButtonToBSModal(this,o,i.cancel||this._("button.cancel",null,"os"),"cancel",null);this._bindPromptInput(o,i.matchinput),this._bindPromptConfirm(o,e),this._bindCancel(n,e)},bsmodal:function(t,e,i,o,n){i=i||"",o=o||{};var s=Frog.Utilities.documentFragmentToJqueryCollection(this.view("~/os/views/modal/skeleton.ejs",{title:t,disableCloseClick:o.disableCloseClick||!1,classes:i})),a=this,r=$.extend({backdrop:"static",show:!0,keyboard:!1},o);if(void 0!==e&&s.find("div.modal-body").html(e),r.backdrop){var l=$("<div />").attr("class","modal-backdrop fade in"),d=function(){l.removeClass("in",500,null,function(){l.remove()})},c=r.backdrop;s.one("show",function(){$(this).before(l),l.on("click",function(){"static"==c?s.focus():a.hideModal(s)})}),s.on("hide",function(t){t.target===this&&d()}),s.on("hidden",function(t){t.target===this&&d()})}r.backdrop=!1,n?this._getAppDialogElement().append(s):($os_core=$(".os_core"),l&&$os_core.append(l),$os_core.append(s)),s.modal(r),!0!==o.disableCloseClick&&s.find("div.modal-header").find("a.close-large").click(function(){a.hideModal(s)}),n&&!o.disableWrapper&&s.on("shown",function(){$(this).wrap($("<div />",{class:"modal-wrapper"}))}).on("hidden",function(){$(this).closest(".modal-wrapper").remove()});return s.on("shown.bs.modal",function(){parseInt($(this).css("top"))+$(this).height()&&$(this).css("top",""),void 0!==o.makeInaccessibleToBlindPeople&&!0===o.makeInaccessibleToBlindPeople||$(this).find(\'input:not(:disabled):not([data-autofocus="false"]), .btn:not(:disabled), [tabindex]:not(:disabled)\').first().focus()}),s},ribbit:function(t){steal.import("public/js/libs/gritter/jquery.gritter").then(function(){var e=this._("ribbit")+": "+t.find("h1").first().text(),i=\' <a class="more" target="_blank" href="\'+t.find("a").first().attr("href")+\'">\'+this._("ribbit.read_more")+"</a>",o=this.view("~/os/views/core/ribbit.ejs",{href:t.find("a").first().attr("href"),img_src:t.find("img").first().attr("src")},{},!0);$.gritter.add({title:o,text:e+i,class_name:"ribbit",time:3e3})}.bind(this))},growl:function(t,e,i,o){var n=this;steal.import("public/js/libs/gritter/jquery.gritter").then(function(){var s,a=i||n.appName,r=!["wall","forum","hotspot"].includes(a),l=o||{},d=l.time?l.time:1500,c=l.cssClass||a,u=l.outerClass||"",p=l.icon||null;$.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:500,time:6e3},s=$.gritter.add({title:n.view("~/os/views/core/growl.ejs",{iconClass:c,svg_img:r,icon:p,growl_title:$.EJS.clean(e)||n._("app."+n.appName,null,"os")},{},!0),text:l.htmlMsg?t:$.EJS.clean(t),time:d}),$("#gritter-item-"+s).bind("click",function(t){$(t.target).hasClass("gritter-close")?$("#gritter-item-"+s).remove():"function"==typeof l.callback&&l.callback()}).addClass("clickable").addClass(u)})},hideModal:function(t){t.on("hidden.bs.modal",function(t,e){setTimeout(function(){t.remove()})}.bind(this,t)),t.modal("hide")},_getAppDialogElement:function(){var t=this.element.closest("div.app_dialog");return t.length||(t=this.element),t},log:function(){steal.isPlatform("production")||("undefined"==typeof TraceKit||"error: "!==arguments[0]?console&&console.log.apply(console,arguments):TraceKit.report(arguments[1]))},refactorAppAuthUrl:function(t,e){var i,o=t.signature;return void 0!==e.link&&(i=t.signature.split("?"),o=e.link.split("?")[0]+"?"+i[1]),o},getUser:function(){return this.Class._User||(this.Class._User=$(".os_core:first").triggerHandler("os.getUser",{})),this.Class._User},getModal:function(){return $("body > div.modal")},showLoader:function(t,e,i,o,n,s){var a,r,l;return 0!==(e=e||this._getAppDialogElement()).find(".appLoader.in").length?this:(t="function"==typeof t?t:function(){},i=i||this.loaderTheme,r="appLoader fade "+i,s&&(r+=" locked "+s),"object"==typeof o&&null!==o&&(l=o.title||"",o=o.desc||""),a=$("<div/>",{class:r}).html(can.view.cachedRenderers["os/views/modal/appLoader.ejs"]({theme:i,text:o,title:l})).appendTo(e),$("body").css("cursor","progress"),this.loaderTimeout=setTimeout(function(){a.addClass("in"),t()}.bind(this),n||this.altLoaderTimeout),this)},updateLoader:function(t,e){return t=t||this._getAppDialogElement(),e=e||"",0===t.find(".appLoader").length?this:("object"==typeof e?(t.find(".appLoader .title").text(e.title||""),t.find(".appLoader h5").text(e.desc||"")):t.find(".appLoader h5").text(e),this)},hideLoader:function(t,e,i){var o="div.appLoader:not(.locked)";return clearTimeout(this.loaderTimeout),$("body").css("cursor","default"),"string"==typeof i&&(o="div.appLoader.locked."+i),(e=(e||this._getAppDialogElement()).find(o)).removeClass("in"),setTimeout(function(){e.remove(),"function"==typeof t&&t()},150),this},showLoaderWhile:function(t,e){var i=this,o=e.el||e.$el,n=function(){i.hideLoader(void 0,o)};return i.showLoader(e.cb,o,e.theme,e.text,e.delay,e.key),t.then(n,function(t){i.log(t),n()}),t},steal:function(t,e,i){var o=steal.p.make(t);o.isLoaded&&e(o.options.text),o.loading||o.isLoaded||(o.loading=!0,steal.require(o.options,function(t){o.options.text=t,o.loaded(t),e(t)},i))},_isEnv:function(){return Frog.Utilities.isEnvironment.apply(null,arguments)},_isBundle:function(){return Frog.Utilities.isBundle.apply(null,arguments)},loadTour:function(t,e,i,o){var n=this,s=Lib.Models.Tour.getTours();this.createTour(t,e,function(){"function"==typeof i&&i(),steal.import("jquery.pagewalkthrough!lib-js").then(function(){var t=n.element.pagewalkthrough("getOptions",!0);s[t.name]||Lib.Models.Tour.setViewed({tour:t.name}).done(function(t){for(var e in t.data)t.data.hasOwnProperty(e)&&(s[t.data[e].tour]=t.data[e])}).fail(function(){console.error("The "+t.name+" tour failed to save."),console.error(arguments)})})},o)},createTour:function(t,e,i,o){i="function"==typeof i?i:$.noop,e=e||this.element;var n={onAfterShow:function(){$("body").addClass("jpWalkthrough-active"),"function"==typeof $.setDisabledByDefault&&$.setDisabledByDefault(!0)},onClose:function(){$("body").removeClass("jpWalkthrough-active"),"function"==typeof t.onClose&&t.onClose(),"function"==typeof $.setDisabledByDefault&&$.setDisabledByDefault(!1),i()},onLoad:!1,buttons:{jpwClose:{i18n:this._("tour.close",null,"me")},jpwNext:{i18n:this._("tour.next",null,"me")},jpwPrevious:{i18n:this._("tour.previous",null,"me")},jpwFinish:{i18n:this._("tour.finish",null,"me")}}};steal.import("jquery.pagewalkthrough!lib-js").then(function(){e.pagewalkthrough($.extend(!0,{},t,n)),e.trigger("tour.ready"),e.trigger("tour.set",{tour:e}),!o&&Lib.Models.Tour.getTours(t.name)||e.pagewalkthrough("show")})},_onOrientationChange:function(t){var e,i,o,n,s;$.support.touch&&"Core"===this.Class.shortName&&this.element.hasClass("app_dialog")&&(!!navigator.userAgent.match("GT-P5110"),s=this.appInfo?this.appInfo.name:this.appName,n=this._("app."+s,null,"os"),e=Frog.Utilities.isPortrait(),i=this.element.parent().find(".ui-os-whole-app-overlay"),o=$("html"),e&&0===i.length&&!0!==this.portraitMode&&this.element.parent().append(this.view("~/os/views/core/orientation.ejs",{app_title:n,app_name:s,msg:t})),o.toggleClass("portrait",e).toggleClass("landscape",!e),e&&!this.portraitMode||i.remove())},_validateAllowOnMobile:function(t){var e,i,o,n,s={parent:"mychildswork",monitor:"assignmentmonitor",markbook:"assignmentmarkbook",student:"markbook",quizvideos:"quizvideos"};$.support.touch&&"Core"===this.Class.shortName&&this.element.hasClass("app_dialog")&&("assignmentreports"==(n=this.options.name||(this.appInfo?this.appInfo.name:this.appName))&&"parent"==this.options.view&&(this.allowOnMobile=!0),("assignmentreports"==n&&this.options.view&&this.options.view in s||"frogplayvideos"===n)&&(n=s[this.options.view]),o=this._("app."+n,null,"os"),e="phone"===Frog.Utilities.getDevice(),i=this.element.parent().find(".ui-os-whole-app-overlay-mobile-unsupported"),this.element.closest(".ui-dialog").addClass("no-border"),e&&0===i.length&&!0!==this.allowOnMobile&&(this.element.parent().append(this.view("~/os/views/core/unsupportedOnMobile.ejs",{app_title:o,app_name:n,msg:t})),this.element.parent().css("height","100%")))},"{window} orientationchange":function(){this._onOrientationChange()},setTimeout:function(t,e){var i=setTimeout(t,e);this.bind("destroyed",function(){clearTimeout(i)})},setInterval:function(t,e){var i=setInterval(t,e);this.bind("destroyed",function(){clearInterval(i)})},checkAtIntervals:function(t,e){var i=Frog.Utilities.checkAtIntervals(t,e);this.bind("destroyed",i)},bindPromiseToController:function(t,e){var i=this,o=(e=e||{},e.quiet,!!i._destroyed),n=new Error;i.bind("destroyed",function(){o=!0});var s=n.stack?[""].concat(n.stack.split("\\n").slice(1)).join("\\n"):n.name;return new Promise(function(e,n){Frog.Utilities.promisify(t).then(function(t){o?i.log("Promise resolved after controller was destroyed; ignored value",t,s):e(t)},function(t){o?i.log("Promise rejected after controller was destroyed; ignored error",t,s):n(t)})})},bindCallbackToController:function(t,e){var i=this,o=(e=e||{}).title||"Callback",n=e.quiet,s=!!i._destroyed,a=new Error;i.bind("destroyed",function(){s=!0});var r=a.stack?[""].concat(a.stack.split("\\n").slice(1)).join("\\n"):a.name;return function(){s?n||i.log(o+" called after controller was destroyed; ignored arguments",Frog.Utilities.arrayify(arguments),r):t.apply(i,arguments)}},getPopoverPlacement:function(t,e,i,o){var n=e||t.closest(".ui-dialog, .app_embedded"),s=i||500,a=o||500,r=t.offset().left+s/2-(n.offset().left+n.width()),l=n.offset().left-(t.offset().left-s/2),d=t.offset().top+t.height()+a-(n.offset().top+n.height());return r>0?"left":l>0?"right":d>0?"top":"bottom"},alterPopoverTopMargin:function(t,e,i){var o=t.find(".popover"),n=$(i).offset(),s=t.offset();if(parseInt(o.css("top"))<0){var a=-1*(n.top-s.top-e),r=Math.abs(a)+12;o.css("top",a).find(".arrow").css("top",r)}}});',address:t.uri}),e.global.require=i,e.global.define=o,e.get("@@global-helpers").retrieveGlobal(t.id,void 0)});
/*lib/frog_widget_controller*/
define("lib/frog_widget_controller",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var a=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Controller.extend("Frog.Widget.Controller",{},{state:"edit",setup:function(e,t,i){"object"==typeof i&&($.isArray(i.criteria)&&(this.criteria=i.criteria),"object"==typeof i.prefs&&(this.prefs=i.prefs),!0===this.hasLabel&&(this.label=i.label||"")),this._super(e,t),this.uuid=this.options.uuid,this.appName=this.Class.fullName.replace(".","_").toLowerCase(),this.deeplinkdata={}},getPreferences:function(){return this.prefs},getWidgetLabel:function(){return!this.label||this.Class.defaultLabel&&this._(this.Class.defaultLabel)===this.label?null:this.label},getSubmissionState:function(){return!1},getSubmitFunction:function(){return $.noop},view:function(e,t,i,a){return e.match(/^~\\//)||(e="~/sites/widget/"+this.uuid+"/"+e),i=void 0===i?{}:i,arguments.callee.caller.toString().match("app.view")&&(a=!0),i.pwd="sites/widget/"+this.uuid+"/",this._super(e,t,i,a)},broadcast:function(e,t){var i=function(e){for(var t in e)if(e.hasOwnProperty(t)&&"associations"===e[t].type)return JSON.parse(e[t].value).associations}(this.prefs),a=t.errors();if(!e)throw new Error("Event Name must be provided");if(!(t instanceof Broadcast.Model))throw new Error("Model must be a valid Broadcast Model");if(a){for(var s in a)if(a.hasOwnProperty(s))for(var n=0,o=a[s].length;n<o;n++)console.log(s+": "+a[s][n]);throw new Error("The provided model contains the errors listed above and must be resolved")}if(!i)throw new Error("Widget must have an associations preference");var r={associations:i,event:"broadcast."+e,model:t,origin:this.Class.fullName};this.element.trigger("widget.broadcast",r)},".tablebody show.bs.collapse":function(e,t){$("[data-target=\'#"+e[0].id+"\']").removeClass("frog-animate-rotate-left").closest(".widget-outer").removeClass("collapsed")},".tablebody hide.bs.collapse":function(e,t){$(t.target).hasClass("tablebody")&&$("[data-target=\'#"+e[0].id+"\']").addClass("frog-animate-rotate-left")},".tablebody hidden.bs.collapse":function(e,t){$(t.target).hasClass("tablebody")&&e.closest(".widget-outer").addClass("collapsed")},"assignment.submitted":function(e,t){t.stopPropagation()},"widget.label":function(e,t,i){this.label=i.label},_getAppDialogElement:function(){var e=this.element.closest("div.sites_widget");return e.length||(e=this.element),e},\'.cke_editable[contenteditable="true"] keydown\':function(e,t){86===t.which&&t.ctrlKey&&(t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation())},canShow:function(e){var t=this._canShow()||{};return void 0!==t[e]&&t[e]},getDeepLinkData:function(e){for(var t=this,i=[],a=$.Deferred(),s=0;s<e.length;s++)e[s].match(/^(https?):\\/\\//)&&i.push(e[s]);return 0===i.length?(t.deeplinkdata=[],a.resolve(),a.promise()):Sites.Models.Widgets.deepLink({url_list:i,user:this.options.user}).done(function(e){t.deeplinkdata=e}).fail(function(){t.deeplinkdata=i})},launchThirdPartyApp:function(e){switch(e.openingpref){case"modal":this.trigger("os.internal.launchapp",{name:"wrapper",source:e.location,ssoname:e.appname,ssoicon:e.appicon,ssoid:e.appuuid,appModel:""});break;default:window.open(e.location)}},deepLinkMod:function(e){var t=null,i=new $.Deferred;if(-1!==e.indexOf("/school.eb.")){var a="britannica"+/\\/levels\\/([a-z]+)/g.exec(e);t=a[1]?a[1]:a[0]}else-1!==e.indexOf(".gcsepod.")?t="gcsepod":i.resolve(!1);return Lib.Models.Applications.findAll().done(function(a){try{var s={},n=a.grep(function(e){return""+e.attr("app_name")===t})[0];n?(s={app_name:t,name:t,appModel:n,link:e},this.trigger("os.internal.launchapp",s),i.resolve(!0)):i.resolve(!1)}catch(e){i.resolve(!1)}}.bind(this)),i.promise()},_canShow:function(){},parseBoolPref:function(e){return Frog.Utilities.parseTruthy(e)},getParentPageUuid:function(){return this.element.closest(".sites_page").attr("data-menu-item-uuid")},"widget.edit":function(e,t){this.state="edit"},"widget.live":function(e,t){this.state="live"},isEditMode:function(){return"edit"===this.state}});',address:e.uri}),t.global.require=i,t.global.define=a,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/frog_model*/
define("lib/frog_model",["module","@loader","require"],function(t,e,r){e.get("@@global-helpers").prepareGlobal({require:r,name:t.id,deps:[]});var n=e.global.define,r=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'$.Model("Frog.Model",{appName:null,_User:null,id:"uuid",tracking:!1,setup:function(t,e){this.element=t,this._super(t,e,{});var r={},n="* "+this._fullName+".model";r[n+"s"]=this.proxy("models"),r[n]=this.proxy("model"),$.ajaxSetup({converters:r}),this.appName=e.split(".")[0].toLowerCase()},elements:function(){return $("."+this.identity(),this.element)},_:function(t,e,r,n){return r=void 0===r?this.appName:r,$.i18n._(r,t,e,n)},pluralise:function(t,e,r,n){return $.i18n.pluralise(n,t,e,r)},_getCookie:function(t){var e,r,n,i=document.cookie.split(";");for(e=0;e<i.length;e++)if(r=i[e].substr(0,i[e].indexOf("=")),n=i[e].substr(i[e].indexOf("=")+1),(r=r.replace(/^\\s+|\\s+$/g,""))==t)return unescape(n);return!1},view:function(t,e,r,n){var i=$.extend({},{app:this.element.controller(),view:function(t,e,r,n){"app.view";return void 0==n&&(n=!0),this.view.apply(this,arguments)}.bind(this)},e),o=jQuery.Controller._calculatePosition(this.element.controller().Class,t,this.called);return arguments.callee.caller.toString().match("app.view")||!0===n?can.view.render(o,i,r):can.view(o,i,r)},trigger:function(t,e){this.element&&"function"==typeof this.element.controller?this.element.controller().trigger(t,e):$(".os_core:first").trigger(t,e)},triggerHandler:function(t,e){return this.element&&"function"==typeof this.element.controller?this.element.controller().triggerHandler(t,e):$(".os_core:first").triggerHandler(t,e)},_beforeSend:function(t,e,r){var n,i,o,s,a,u=this._getCookie("fe_oauth_token");if(u){var l=function(t){return t.split("&").map(function(t){return t.split("=")}).reduce(function(t,e){return t[e[0]]=e[1],t},{})};a=Frog.Utilities.getBaseUrl(),n={oauth_consumer_key:"Ksd2SefjhkSA90frfdsoiuvjdksf",oauth_token:u,oauth_signature_method:"HMAC-SHA1",oauth_timestamp:moment().unix(),oauth_nonce:Math.floor(1e12*Math.random())},e.url.match(/\\?/)&&(i=l(e.url.split("?")[1]),n=Object.assign(n,$.deparam($.param(i)))),e.data&&(o=l(e.data),n=Object.assign(n,$.deparam($.param(o)))),n=Object.assign(n,$.deparam($.param(r))),s=Frog.Utilities.oauthSign({},e.type,document.location.protocol.slice(0,-1),a.replace(/^http(s|):\\/\\//,""),e.url.replace(new RegExp("^"+a),"").replace(/\\?.*$/,""),n,window.token_secret,"signature",!0),t.setRequestHeader("Authorization",s),t.setRequestHeader("X-AuthType","oauth_1_0_a")}},api:function(t,e,r){var n=this,i={url:Frog.Utilities.getBaseUrl()+"/api/2/?method="+t,data:e||{}},o=null;r=r||{};for(var s in r)i[s]=r[s];if(void 0===Frog.Model._apiCalled&&(Frog.Model._apiCalled=!0,i.data._timezone=jstz.determine().name()),i.beforeSend=function(t,e){e.url=e.url.replace(/(&|\\?)v=/,"$1_v=");var r,i,o=n._getCookie("frogos_auth");o||(o=n._getCookie("auth")),o&&o.split&&(r=o.split(":"))&&r[1]&&(i=r[1])&&t.setRequestHeader("X-User",i)},"function"==typeof i.error&&(o=i.error),i.error=function(t){if(t.responseText){var e=JSON.parse(t.responseText);if(2e3===parseInt(e.status.code,10))return Lib.Controllers.Reauth.spawn().on("reautheduser",function(){o&&o(t)})}o&&o(t)},Frog.Model.tracking&&"function"==typeof ga){var a="string"==typeof Frog.Model.tracking?Frog.Model.tracking+".send":"send";ga(a,"event","request","api","api2",i.url)}return i.data=this.stringifyNullParams(i.data),$.ajax(i)},fdpapi:function(t){var e,r=$.cookie("frogos_auth")||$.cookie("auth"),n=r&&r.split?r.split(":")[1]:null;return t.path=void 0===t.path?"../api/fdp/1/":t.path,t=$.extend({url:null,data:{},headers:{"X-AuthType":"frogos_token","X-User":n}},t,{url:t.path+t.url}),Lib.Models.Abstract.Fdp.tracking&&"function"==typeof ga&&(e="string"==typeof Lib.Models.Abstract.Fdp.tracking?Lib.Models.Abstract.Fdp.tracking+".send":"send",ga(e,"event","request","api","fdp",t.url)),t.data=this.stringifyNullParams(t.data),t.beforeSend=function(t,e){e.url=e.url.replace(/(&|\\?)v=/,"$1_v=")},$.ajax(t)},element:null,setContext:function(t){return this.element=t,this},log:function(t){return this.element.controller().log(t)},getUser:function(){return this._User||(this._User=$(".os_core:first").triggerHandler("os.getUser",{})),this._User},_isEnv:function(){return Frog.Utilities.isEnvironment.apply(null,arguments)},convert:{frogboolean:function(t){var e;return"string"==typeof t?(e=parseInt(t,10),isNaN(e)?Boolean("true"===t?1:0):!!parseInt(t,10)):!!t},moment:function(t){var e,r;return"string"!=typeof t&&"number"!=typeof t?t:(r=+t)%1!=0?t:(e=moment.utc(1e3*r)).isValid()?e:t},localmoment:function(t){var e,r;return"string"!=typeof t&&"number"!=typeof t?t:(r=+t)%1!=0?t:(e=moment(1e3*r).local()).isValid()?e:t},json:function(t){return JSON.parse(t)},frogobject:function(t){return $.extend(!0,{},t)}},serialize:{moment:function(t){return t&&t._isAMomentObject?parseInt(t.format("X"),10):t},frogobject:function(t){return $.extend(!0,{},t)}},stringifyNullParams:function(t){var e=this;return Frog.Utilities.isObject(t)?Object.fromEntries(Object.entries(t).map(function(t){return null===t[1]&&(t[1]="null"),Frog.Utilities.isObject(t[1])&&(t[1]=e.stringifyNullParams(t[1])),Frog.Utilities.isArray(t[1])&&(t[1]=t[1].map(function(t){return e.stringifyNullParams(t)})),t})):t}},{toString:function(t){return t?JSON.stringify(this.serialize(),null,"\\t"):this._super()},diff:function(t){if(!this.isDirty(!0))return[];var e=this.serialize(),r=[];for(var n in e)e[n]!==this._backupStore[n]&&("function"==typeof t?r.push(t.call(this,e[n],n,e)):r.push({attribute:n,to:e[n],from:this._backupStore[n]}));return r}}),$.Model.List("Frog.Model.List",{appName:null,setup:function(t,e){this._super(t,e,{}),this.appName=e.split(".")[0].toLowerCase()},api:function(t,e,r){return Frog.Model.api(t,e,r)},_:function(t,e,r){return r=void 0===r?this.appName:r,$.i18n._(r,t,e)}},{some:function(){return[].some.apply(this,arguments)},backup:function(){this.each(function(t,e){e.backup()})},isDirty:function(t){t=!!t;for(var e=0;e<this.length;e++)if(this[e].isDirty(t))return!0;return!1},restore:function(t){t=!!t,this.each(function(e,r){r.restore(t)})},getDirtyMembers:function(t){return t=!!t,this.grep(function(e,r){return e.isDirty(t)})},empty:function(){var t=this.splice(0,this.length);return $([this]).trigger("remove",[t]),t}});',address:t.uri}),e.global.require=r,e.global.define=n,e.get("@@global-helpers").retrieveGlobal(t.id,void 0)});
/*lib/controller/reauth_controller*/
define("lib/controller/reauth_controller",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var n=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Controller.extend("Lib.Controllers.Reauth",{spawn:function(){var t;return this.spawned?this._spawned.element:(this.spawned=!0,this._spawned=new Lib.Controllers.Reauth,(t=this._spawned.element).on("predestroy",function(){this.spawned=!1,this._spawned=null}.bind(this)),t)}},{setup:function(){var t=this.bsmodal(this._("session-timeout.modal.title"),null,null,{show:!1,keyboard:!1,disableCloseClick:!0});return this._super(t,{})},init:function(){this.elements={header:this.element.find(".modal-header"),body:this.element.find(".modal-body")},this.elements.body.css({maxHeight:520,padding:0}),this.$iframe=$("<iframe>").attr("width","100%").attr("height","500px").attr("src",Frog.Utilities.getBaseUrl().concat("/app/reauthenticate")),this.elements.body.html(this.$iframe),this.elements.header.find("a.close-large").on("click",function(t){t.ctrlKey?this.hideModal(this.element):window.location.reload()}.bind(this)),this.element.modal("show")},"shown.bs.modal":function(t,e){this.$iframe.get(0).contentWindow.onunload=this.bindUnloadEvent()},"hidden.bs.modal":function(t){this.destroy()},destroy:function(){this.element.triggerHandler("predestroy"),this._super()},validateReauth:function(){var t=this.triggerHandler("os.getUser");this.showLoader(),Lib.Models.User.Auth.whoAmI().done(function(e){e.attr("uuid")!==t.attr("uuid")?window.location.reload():this.element.trigger("reautheduser")}.bind(this)).error(function(){window.location.reload()}.bind(this)).always(function(){this.hideLoader()}.bind(this))},bindUnloadEvent:function(){var t=this.element,e=this;return function(i){setTimeout(function(){this.location.pathname.match(/\\/saml\\//gi)?this.onunload=e.bindUnloadEvent():(e.hideModal(t),e.validateReauth())}.bind(this))}}});',address:e.uri}),t.global.require=i,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/post_messages_controller*/
define("lib/post_messages_controller",["module","@loader","require"],function(e,s,t){s.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var i=s.global.define,t=s.global.require;return s.global.define=void 0,s.global.module=void 0,s.global.exports=void 0,s.__exec({source:'Frog.Controller.extend("Frog.PostMessages.Controller",{listensTo:[]},{whitelist_domains:[],listener:null,id:null,availableTriggers:["ial.wrapper.register","ial.quiz.question.save","ial.quiz.question.is_dirty","ial.quiz.question.result","ial.watch_resize","ial.roles"],allowMultiplePostMessageListeners:!1,setup:function(e,s){var t=this;this.allowMultiplePostMessageListeners=s.allowMultiplePostMessageListeners||!1,this.listener=function(e){t.receiveMessage(e)},$(e).data("message-id",Frog.Utilities.generateSimpleId()),window.Frog.isPostMessageRegistered&&!s.isPostMessageRegistered||(window.addEventListener("message",this.listener,!1),this.allowMultiplePostMessageListeners||(window.Frog.isPostMessageRegistered=!0)),this._super(e,s)},receiveMessage:function(e){var s=e.origin||e.originalEvent.origin,t="object"==typeof e.data?e.data.message:e.data;if(!(-1===this.whitelist_domains.indexOf(s)||e.data.message_id&&e.data.message_id!==this.element.data("message-id")))switch(t){case"frogos.os.app.close":this.element.triggerHandler("app.close",{data:e.data});break;case"frogos.pdf.print":"onPrint"in this&&"function"==typeof this.onPrint&&this.onPrint(e.data.resourceUrl);break;case"frogos.os.app.quizComplete":this.element.triggerHandler("quiz.complete",{attempt:e.data.attempt,details:e.data.details});break;case"frogos.os.app.launch":this.trigger("os.internal.launchapp",e.data.app_params);break;case"frogos.quiz.question.saved":this.element.trigger("quiz.question.saved",{status:e.data.status,quiz_id:e.data.quiz_id,question_id:e.data.question_id});break;case"frogos.quiz.question.is_dirty":this.element.trigger("quiz.question.is_dirty",{is_dirty:e.data.is_dirty});break;case"frogos.os.app.reload":this.element.triggerHandler("app.reload");break;case"frogos.quiz.question.result":this.element.trigger("quiz.question.result",{attempted:e.data.attempted,result:e.data.result});break;case"frogos.os.app.quizQuestionComplete":this.element.trigger("quiz.question.complete",{question_id:e.data.question_id,result:e.data.result});break;case"frogos.os.app.closePlayerSession":this.element.trigger("quiz.session.closed");break;case"frogos.quiz.resized":this.element.trigger("quiz.resized",{height:e.data.height});break;default:console.error("Invalid PostMessage: "+e.data)}},postMessage:function(e){var s;e&&e.iframe&&e.target_origin&&e.trigger&&-1!==this.availableTriggers.indexOf(e.trigger)?(s=e.iframe[0].contentWindow)?s.postMessage({trigger:e.trigger,data:e.data||{},id:this.element.data("message-id")},e.target_origin):console.error("contentWindow not found"):console.error("Incorrect parameters passed to postMessage")},addWhiteListDomain:function(e){-1===this.whitelist_domains.indexOf(e)&&this.whitelist_domains.push(e)},destroy:function(){window.removeEventListener("message",this.listener,!1),this._super()}});',address:e.uri}),s.global.require=t,s.global.define=i,s.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/ialsso_controller*/
define("lib/ialsso_controller",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var o=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.PostMessages.Controller.extend("Frog.IalSso.Controller",{},{init:function(){this.contentMenu={},this.ialWrapper=null},setup:function(t,i){window.Frog.isPostMessageRegistered=!1,this._super(t,i)},update:function(t){this._super(t),t.mode=this.mode,steal.import("frogui/components/ialwrapper/ialwrapper!frog-component").then(function(){this.ialWrapper=this.element.frogui_components_ialwrapper(t)}.bind(this))},"app.launch":function(t,i,e){i.stopPropagation(),this.update(e.appData)},"app.focus":function(){this.ialWrapper.trigger("ialwrapper.setContextMenu",{mode:this.mode})},"app.close":function(){this.trigger("os.app.close")},getQuizResult:function(t){this.showLoader(),t=t||!1,Lib.Models.Quiz.getQuizResult(this.options.quiz_id,this.options.content_uuid,t,this.options.homework_uuid).done(function(t){this.options.results=t,this.hideLoader(),this.closeApp()}.bind(this)).fail(function(){this.handleError("error.retrieving_results"),this.element.find("div.error button.retry").show().removeClass("disabled"),this.hideLoader()}.bind(this))},handleError:function(t,i){this.element.addClass("error"),this.element.find("div.error p").text(this._("ialwrapper."+t,i,"frogui"))},closeApp:function(t){this.trigger("os.app.close"),"function"==typeof this.options.callback&&this.options.callback({results:this.options.results,quiz:t&&t.data&&t.data.quiz?JSON.parse(t.data.quiz):null})}});',address:e.uri}),t.global.require=i,t.global.define=o,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/ial_model*/
define("lib/ial_model",["module","@loader","require"],function(e,t,o){t.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=t.global.define,o=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Ial.Model",{api:function(e,n,t){var c="function"==typeof t.success?t.success:null;c||(c="function"==typeof t.converters[t.dataType]?t.converters[t.dataType]:function(){});var o=function(e){return e.data.maintenance?($(".os_core").trigger("showIalMaintenanceAlert"),{}):c(e)};return"function"==typeof t.success?t.success=o:"function"==typeof t.converters[t.dataType]&&(t.converters[t.dataType]=o),this._super(e,n,t)}},{});',address:e.uri}),t.global.require=o,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*public/js/libs/moment/moment.min*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("public/js/libs/moment/moment.min",t):e.moment=t()}(this,function(){"use strict";function e(){return pt.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){var t;for(t in e)return!1;return!0}function i(e){return void 0===e}function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,s){return Ue(e,t,n,s,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function c(e){return null==e._pf&&(e._pf=h()),e._pf}function f(e){if(null==e._isValid){var t=c(e),n=vt.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function m(e){var t=d(NaN);return null!=e?l(c(t),e):c(t).userInvalidated=!0,t}function _(e,t){var n,s,r;if(i(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),i(t._i)||(e._i=t._i),i(t._f)||(e._f=t._f),i(t._l)||(e._l=t._l),i(t._strict)||(e._strict=t._strict),i(t._tzm)||(e._tzm=t._tzm),i(t._isUTC)||(e._isUTC=t._isUTC),i(t._offset)||(e._offset=t._offset),i(t._pf)||(e._pf=c(t)),i(t._locale)||(e._locale=t._locale),Mt.length>0)for(n=0;n<Mt.length;n++)s=Mt[n],r=t[s],i(r)||(e[s]=r);return e}function y(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===St&&(St=!0,e.updateOffset(this),St=!1)}function g(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function p(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=p(t)),n}function v(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&w(e[s])!==w(t[s]))&&a++;return a+r}function M(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,n){var s=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),s){for(var i,r=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var o in arguments[0])i+=o+": "+arguments[0][o]+", ";i=i.slice(0,-2)}else i=arguments[a];r.push(i)}M(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),s=!1}return n.apply(this,arguments)},n)}function k(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),kt[t]||(M(n),kt[t]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function Y(e,t){var s,i=l({},e);for(s in t)u(t,s)&&(n(e[s])&&n(t[s])?(i[s]={},l(i[s],e[s]),l(i[s],t[s])):null!=t[s]?i[s]=t[s]:delete i[s]);for(s in e)u(e,s)&&!u(t,s)&&n(e[s])&&(i[s]=l({},i[s]));return i}function O(e){null!=e&&this.set(e)}function x(e,t){var n=e.toLowerCase();Wt[n]=Wt[n+"s"]=Wt[t]=e}function T(e){return"string"==typeof e?Wt[e]||Wt[e.toLowerCase()]:void 0}function b(e){var t,n,s={};for(n in e)u(e,n)&&(t=T(n))&&(s[t]=e[n]);return s}function P(e,t){Rt[e]=t}function W(e){var t=[];for(var n in e)t.push({unit:n,priority:Rt[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function R(t,n){return function(s){return null!=s?(F(this,t,s),e.updateOffset(this,n),this):C(this,t)}}function C(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function F(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function U(e,t,n){var s=""+Math.abs(e),i=t-s.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}function H(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(Ht[e]=i),t&&(Ht[t[0]]=function(){return U(i.apply(this,arguments),t[1],t[2])}),n&&(Ht[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function L(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function G(e){var t,n,s=e.match(Ct);for(t=0,n=s.length;t<n;t++)Ht[s[t]]?s[t]=Ht[s[t]]:s[t]=L(s[t]);return function(t){var i,r="";for(i=0;i<n;i++)r+=D(s[i])?s[i].call(t,e):s[i];return r}}function V(e,t){return e.isValid()?(t=N(t,e.localeData()),Ut[t]=Ut[t]||G(t),Ut[t](e)):e.localeData().invalidDate()}function N(e,t){var n=5;for(Ft.lastIndex=0;n>=0&&Ft.test(e);)e=e.replace(Ft,function(e){return t.longDateFormat(e)||e}),Ft.lastIndex=0,n-=1;return e}function j(e,t,n){en[e]=D(t)?t:function(e,s){return e&&n?n:t}}function A(e,t){return u(en,e)?en[e](t._strict,t._locale):new RegExp(E(e))}function E(e){return I(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i}))}function I(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(e,t){var n,s=t;for("string"==typeof e&&(e=[e]),r(t)&&(s=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)tn[e[n]]=s}function z(e,t){Z(e,function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)})}function $(e,t,n){null!=t&&u(tn,e)&&tn[e](t,n._a,n,e)}function q(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function J(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=d([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=cn.call(this._shortMonthsParse,a))?i:null:-1!==(i=cn.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=cn.call(this._shortMonthsParse,a))?i:-1!==(i=cn.call(this._longMonthsParse,a))?i:null:-1!==(i=cn.call(this._longMonthsParse,a))?i:-1!==(i=cn.call(this._shortMonthsParse,a))?i:null}function B(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(t=e.localeData().monthsParse(t),!r(t))return e;return n=Math.min(e.date(),q(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Q(t){return null!=t?(B(this,t),e.updateOffset(this,!0),this):C(this,"Month")}function X(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=d([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=I(s[t]),i[t]=I(i[t]);for(t=0;t<24;t++)r[t]=I(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function K(e){return ee(e)?366:365}function ee(e){return e%4==0&&e%100!=0||e%400==0}function te(e,t,n,s,i,r,a){var o=new Date(e,t,n,s,i,r,a);return e<100&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}function ne(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function se(e,t,n){var s=7+t-n;return-((7+ne(e,0,s).getUTCDay()-t)%7)+s-1}function ie(e,t,n,s,i){var r,a,o=1+7*(t-1)+(7+n-s)%7+se(e,s,i);return o<=0?(r=e-1,a=K(r)+o):o>K(e)?(r=e+1,a=o-K(e)):(r=e,a=o),{year:r,dayOfYear:a}}function re(e,t,n){var s,i,r=se(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?(i=e.year()-1,s=a+ae(i,t,n)):a>ae(e.year(),t,n)?(s=a-ae(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function ae(e,t,n){var s=se(e,t,n),i=se(e+1,t,n);return(K(e)-s+i)/7}function oe(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function ue(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function le(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=d([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=cn.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=cn.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=cn.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=cn.call(this._weekdaysParse,a))?i:-1!==(i=cn.call(this._shortWeekdaysParse,a))?i:-1!==(i=cn.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=cn.call(this._shortWeekdaysParse,a))?i:-1!==(i=cn.call(this._weekdaysParse,a))?i:-1!==(i=cn.call(this._minWeekdaysParse,a))?i:null:-1!==(i=cn.call(this._minWeekdaysParse,a))?i:-1!==(i=cn.call(this._weekdaysParse,a))?i:-1!==(i=cn.call(this._shortWeekdaysParse,a))?i:null}function de(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),s=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r);for(a.sort(e),o.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)o[t]=I(o[t]),u[t]=I(u[t]),l[t]=I(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function he(){return this.hours()%12||12}function ce(e,t){H(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function fe(e,t){return t._meridiemParse}function me(e){return e?e.toLowerCase().replace("_","-"):e}function _e(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=me(e[r]).split("-")).length,n=(n=me(e[r+1]))?n.split("-"):null;t>0;){if(s=ye(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&v(i,n,!0)>=t-1)break;t--}r++}return null}function ye(e){var t=null;if(!Pn[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=On._abbr,require("./locale/"+e),ge(t)}catch(e){}return Pn[e]}function ge(e,t){var n;return e&&(n=i(t)?we(e):pe(e,t))&&(On=n),On._abbr}function pe(e,t){if(null!==t){var n=bn;if(t.abbr=e,null!=Pn[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Pn[e]._config;else if(null!=t.parentLocale){if(null==Pn[t.parentLocale])return Wn[t.parentLocale]||(Wn[t.parentLocale]=[]),Wn[t.parentLocale].push({name:e,config:t}),null;n=Pn[t.parentLocale]._config}return Pn[e]=new O(Y(n,t)),Wn[e]&&Wn[e].forEach(function(e){pe(e.name,e.config)}),ge(e),Pn[e]}return delete Pn[e],null}function we(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return On;if(!t(e)){if(n=ye(e))return n;e=[e]}return _e(e)}function ve(e){var t,n=e._a;return n&&-2===c(e).overflow&&(t=n[sn]<0||n[sn]>11?sn:n[rn]<1||n[rn]>q(n[nn],n[sn])?rn:n[an]<0||n[an]>24||24===n[an]&&(0!==n[on]||0!==n[un]||0!==n[ln])?an:n[on]<0||n[on]>59?on:n[un]<0||n[un]>59?un:n[ln]<0||n[ln]>999?ln:-1,c(e)._overflowDayOfYear&&(t<nn||t>rn)&&(t=rn),c(e)._overflowWeeks&&-1===t&&(t=dn),c(e)._overflowWeekday&&-1===t&&(t=hn),c(e).overflow=t),e}function Me(e){var t,n,s,i,r,a,o=e._i,u=Rn.exec(o)||Cn.exec(o);if(u){for(c(e).iso=!0,t=0,n=Un.length;t<n;t++)if(Un[t][1].exec(u[1])){i=Un[t][0],s=!1!==Un[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Hn.length;t<n;t++)if(Hn[t][1].exec(u[3])){r=(u[2]||" ")+Hn[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!Fn.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),Te(e)}else e._isValid=!1}function Se(e){var t,n,s,i,r,a,o,u,l={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=Gn.exec(t)){if(s=n[1]?"ddd"+(5===n[1].length?", ":" "):"",i="D MMM "+(n[2].length>10?"YYYY ":"YY "),r="HH:mm"+(n[4]?":ss":""),n[1]){var d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(n[2]).getDay()];if(n[1].substr(0,3)!==d)return c(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:0===u?o=" +0000":(u="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(n[5][1].toUpperCase())-12,o=(u<0?" -":" +")+(""+u).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:o=l[n[5]];break;default:o=l[" GMT"]}n[5]=o,e._i=n.splice(1).join(""),a=" ZZ",e._f=s+i+r+a,Te(e),c(e).rfc2822=!0}else e._isValid=!1}function ke(t){var n=Ln.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(Me(t),void(!1===t._isValid&&(delete t._isValid,Se(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))))}function De(e,t,n){return null!=e?e:null!=t?t:n}function Ye(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Oe(e){var t,n,s,i,r=[];if(!e._d){for(s=Ye(e),e._w&&null==e._a[rn]&&null==e._a[sn]&&xe(e),null!=e._dayOfYear&&(i=De(e._a[nn],s[nn]),(e._dayOfYear>K(i)||0===e._dayOfYear)&&(c(e)._overflowDayOfYear=!0),n=ne(i,0,e._dayOfYear),e._a[sn]=n.getUTCMonth(),e._a[rn]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=r[t]=s[t];for(;t<7;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[an]&&0===e._a[on]&&0===e._a[un]&&0===e._a[ln]&&(e._nextDay=!0,e._a[an]=0),e._d=(e._useUTC?ne:te).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[an]=24)}}function xe(e){var t,n,s,i,r,a,o,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,a=4,n=De(t.GG,e._a[nn],re(He(),1,4).year),s=De(t.W,1),((i=De(t.E,1))<1||i>7)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=re(He(),r,a);n=De(t.gg,e._a[nn],l.year),s=De(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(u=!0)):i=r}s<1||s>ae(n,r,a)?c(e)._overflowWeeks=!0:null!=u?c(e)._overflowWeekday=!0:(o=ie(n,s,i,r,a),e._a[nn]=o.year,e._dayOfYear=o.dayOfYear)}function Te(t){if(t._f!==e.ISO_8601)if(t._f!==e.RFC_2822){t._a=[],c(t).empty=!0;var n,s,i,r,a,o=""+t._i,u=o.length,l=0;for(i=N(t._f,t._locale).match(Ct)||[],n=0;n<i.length;n++)r=i[n],(s=(o.match(A(r,t))||[])[0])&&((a=o.substr(0,o.indexOf(s))).length>0&&c(t).unusedInput.push(a),o=o.slice(o.indexOf(s)+s.length),l+=s.length),Ht[r]?(s?c(t).empty=!1:c(t).unusedTokens.push(r),$(r,s,t)):t._strict&&!s&&c(t).unusedTokens.push(r);c(t).charsLeftOver=u-l,o.length>0&&c(t).unusedInput.push(o),t._a[an]<=12&&!0===c(t).bigHour&&t._a[an]>0&&(c(t).bigHour=void 0),c(t).parsedDateParts=t._a.slice(0),c(t).meridiem=t._meridiem,t._a[an]=be(t._locale,t._a[an],t._meridiem),Oe(t),ve(t)}else Se(t);else Me(t)}function be(e,t,n){var s;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((s=e.isPM(n))&&t<12&&(t+=12),s||12!==t||(t=0),t):t}function Pe(e){var t,n,s,i,r;if(0===e._f.length)return c(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Te(t),f(t)&&(r+=c(t).charsLeftOver,r+=10*c(t).unusedTokens.length,c(t).score=r,(null==s||r<s)&&(s=r,n=t));l(e,n||t)}function We(e){if(!e._d){var t=b(e._i);e._a=o([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Oe(e)}}function Re(e){var t=new y(ve(Ce(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ce(e){var n=e._i,s=e._f;return e._locale=e._locale||we(e._l),null===n||void 0===s&&""===n?m({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),g(n)?new y(ve(n)):(a(n)?e._d=n:t(s)?Pe(e):s?Te(e):Fe(e),f(e)||(e._d=null),e))}function Fe(s){var u=s._i;i(u)?s._d=new Date(e.now()):a(u)?s._d=new Date(u.valueOf()):"string"==typeof u?ke(s):t(u)?(s._a=o(u.slice(0),function(e){return parseInt(e,10)}),Oe(s)):n(u)?We(s):r(u)?s._d=new Date(u):e.createFromInputFallback(s)}function Ue(e,i,r,a,o){var u={};return!0!==r&&!1!==r||(a=r,r=void 0),(n(e)&&s(e)||t(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=r,u._i=e,u._f=i,u._strict=a,Re(u)}function He(e,t,n,s){return Ue(e,t,n,s,!1)}function Le(e,n){var s,i;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return He();for(s=n[0],i=1;i<n.length;++i)n[i].isValid()&&!n[i][e](s)||(s=n[i]);return s}function Ge(e){for(var t in e)if(-1===jn.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<jn.length;++s)if(e[jn[s]]){if(n)return!1;parseFloat(e[jn[s]])!==w(e[jn[s]])&&(n=!0)}return!0}function Ve(e){var t=b(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,d=t.millisecond||0;this._isValid=Ge(t),this._milliseconds=+d+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=we(),this._bubble()}function Ne(e){return e instanceof Ve}function je(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ae(e,t){H(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+U(~~(e/60),2)+t+U(~~e%60,2)})}function Ee(e,t){var n=(t||"").match(e);if(null===n)return null;var s=((n[n.length-1]||[])+"").match(An)||["-",0,0],i=60*s[1]+w(s[2]);return 0===i?0:"+"===s[0]?i:-i}function Ie(t,n){var s,i;return n._isUTC?(s=n.clone(),i=(g(t)||a(t)?t.valueOf():He(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),e.updateOffset(s,!1),s):He(t).local()}function Ze(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function ze(){return!!this.isValid()&&this._isUTC&&0===this._offset}function $e(e,t){var n,s,i,a=e,o=null;return Ne(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(a={},t?a[t]=e:a.milliseconds=e):(o=En.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:w(o[rn])*n,h:w(o[an])*n,m:w(o[on])*n,s:w(o[un])*n,ms:w(je(1e3*o[ln]))*n}):(o=In.exec(e))?(n="-"===o[1]?-1:1,a={y:qe(o[2],n),M:qe(o[3],n),w:qe(o[4],n),d:qe(o[5],n),h:qe(o[6],n),m:qe(o[7],n),s:qe(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=Be(He(a.from),He(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),s=new Ve(a),Ne(e)&&u(e,"_locale")&&(s._locale=e._locale),s}function qe(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Je(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Be(e,t){var n;return e.isValid()&&t.isValid()?(t=Ie(t,e),e.isBefore(t)?n=Je(e,t):(n=Je(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Qe(e,t){return function(n,s){var i,r;return null===s||isNaN(+s)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=s,s=r),n="string"==typeof n?+n:n,i=$e(n,s),Xe(this,i,e),this}}function Xe(t,n,s,i){var r=n._milliseconds,a=je(n._days),o=je(n._months);t.isValid()&&(i=null==i||i,r&&t._d.setTime(t._d.valueOf()+r*s),a&&F(t,"Date",C(t,"Date")+a*s),o&&B(t,C(t,"Month")+o*s),i&&e.updateOffset(t,a||o))}function Ke(e,t){var n,s,i=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(i,"months");return t-r<0?(n=e.clone().add(i-1,"months"),s=(t-r)/(r-n)):(n=e.clone().add(i+1,"months"),s=(t-r)/(n-r)),-(i+s)||0}function et(e){var t;return void 0===e?this._locale._abbr:(null!=(t=we(e))&&(this._locale=t),this)}function tt(){return this._locale}function nt(e,t){H(0,[e,e.length],0,t)}function st(e,t,n,s,i){var r;return null==e?re(this,s,i).year:(r=ae(e,s,i),t>r&&(t=r),it.call(this,e,t,n,s,i))}function it(e,t,n,s,i){var r=ie(e,t,n,s,i),a=ne(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function rt(e){return e}function at(e,t,n,s){var i=we(),r=d().set(s,t);return i[n](r,e)}function ot(e,t,n){if(r(e)&&(t=e,e=void 0),e=e||"",null!=t)return at(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=at(e,s,n,"month");return i}function ut(e,t,n,s){"boolean"==typeof e?(r(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,r(t)&&(n=t,t=void 0),t=t||"");var i=we(),a=e?i._week.dow:0;if(null!=n)return at(t,(n+a)%7,s,"day");var o,u=[];for(o=0;o<7;o++)u[o]=at(t,(o+a)%7,s,"day");return u}function lt(e,t,n,s){var i=$e(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function dt(e){return e<0?Math.floor(e):Math.ceil(e)}function ht(e){return 4800*e/146097}function ct(e){return 146097*e/4800}function ft(e){return function(){return this.as(e)}}function mt(e){return function(){return this.isValid()?this._data[e]:NaN}}function _t(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}function yt(e,t,n){var s=$e(e).abs(),i=gs(s.as("s")),r=gs(s.as("m")),a=gs(s.as("h")),o=gs(s.as("d")),u=gs(s.as("M")),l=gs(s.as("y")),d=i<=ps.ss&&["s",i]||i<ps.s&&["ss",i]||r<=1&&["m"]||r<ps.m&&["mm",r]||a<=1&&["h"]||a<ps.h&&["hh",a]||o<=1&&["d"]||o<ps.d&&["dd",o]||u<=1&&["M"]||u<ps.M&&["MM",u]||l<=1&&["y"]||["yy",l];return d[2]=t,d[3]=+e>0,d[4]=n,_t.apply(null,d)}function gt(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,s=ws(this._milliseconds)/1e3,i=ws(this._days),r=ws(this._months);t=p((e=p(s/60))/60),s%=60,e%=60;var a=n=p(r/12),o=r%=12,u=i,l=t,d=e,h=s,c=this.asSeconds();return c?(c<0?"-":"")+"P"+(a?a+"Y":"")+(o?o+"M":"")+(u?u+"D":"")+(l||d||h?"T":"")+(l?l+"H":"")+(d?d+"M":"")+(h?h+"S":""):"P0D"}var pt,wt,vt=wt=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1},Mt=e.momentProperties=[],St=!1,kt={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Dt,Yt,Ot=Dt=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n},xt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Tt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},bt=/\d{1,2}/,Pt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Wt={},Rt={},Ct=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ft=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ut={},Ht={},Lt=/\d/,Gt=/\d\d/,Vt=/\d{3}/,Nt=/\d{4}/,jt=/[+-]?\d{6}/,At=/\d\d?/,Et=/\d\d\d\d?/,It=/\d\d\d\d\d\d?/,Zt=/\d{1,3}/,zt=/\d{1,4}/,$t=/[+-]?\d{1,6}/,qt=/\d+/,Jt=/[+-]?\d+/,Bt=/Z|[+-]\d\d:?\d\d/gi,Qt=/Z|[+-]\d\d(?::?\d\d)?/gi,Xt=/[+-]?\d+(\.\d{1,3})?/,Kt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,en={},tn={},nn=0,sn=1,rn=2,an=3,on=4,un=5,ln=6,dn=7,hn=8,cn=Yt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),H("MMMM",0,0,function(e){return this.localeData().months(this,e)}),x("month","M"),P("month",8),j("M",At),j("MM",At,Gt),j("MMM",function(e,t){return t.monthsShortRegex(e)}),j("MMMM",function(e,t){return t.monthsRegex(e)}),Z(["M","MM"],function(e,t){t[sn]=w(e)-1}),Z(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[sn]=i:c(n).invalidMonth=e});var fn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,mn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),_n="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),yn=Kt,gn=Kt;H("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),x("year","y"),P("year",1),j("Y",Jt),j("YY",At,Gt),j("YYYY",zt,Nt),j("YYYYY",$t,jt),j("YYYYYY",$t,jt),Z(["YYYYY","YYYYYY"],nn),Z("YYYY",function(t,n){n[nn]=2===t.length?e.parseTwoDigitYear(t):w(t)}),Z("YY",function(t,n){n[nn]=e.parseTwoDigitYear(t)}),Z("Y",function(e,t){t[nn]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var pn=R("FullYear",!0);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),x("week","w"),x("isoWeek","W"),P("week",5),P("isoWeek",5),j("w",At),j("ww",At,Gt),j("W",At),j("WW",At,Gt),z(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=w(e)});var wn={dow:0,doy:6};H("d",0,"do","day"),H("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),H("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),H("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),x("day","d"),x("weekday","e"),x("isoWeekday","E"),P("day",11),P("weekday",11),P("isoWeekday",11),j("d",At),j("e",At),j("E",At),j("dd",function(e,t){return t.weekdaysMinRegex(e)}),j("ddd",function(e,t){return t.weekdaysShortRegex(e)}),j("dddd",function(e,t){return t.weekdaysRegex(e)}),z(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:c(n).invalidWeekday=e}),z(["d","e","E"],function(e,t,n,s){t[s]=w(e)});var vn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Mn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Sn="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),kn=Kt,Dn=Kt,Yn=Kt;H("H",["HH",2],0,"hour"),H("h",["hh",2],0,he),H("k",["kk",2],0,function(){return this.hours()||24}),H("hmm",0,0,function(){return""+he.apply(this)+U(this.minutes(),2)}),H("hmmss",0,0,function(){return""+he.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),H("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),H("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),ce("a",!0),ce("A",!1),x("hour","h"),P("hour",13),j("a",fe),j("A",fe),j("H",At),j("h",At),j("k",At),j("HH",At,Gt),j("hh",At,Gt),j("kk",At,Gt),j("hmm",Et),j("hmmss",It),j("Hmm",Et),j("Hmmss",It),Z(["H","HH"],an),Z(["k","kk"],function(e,t,n){var s=w(e);t[an]=24===s?0:s}),Z(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Z(["h","hh"],function(e,t,n){t[an]=w(e),c(n).bigHour=!0}),Z("hmm",function(e,t,n){var s=e.length-2;t[an]=w(e.substr(0,s)),t[on]=w(e.substr(s)),c(n).bigHour=!0}),Z("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[an]=w(e.substr(0,s)),t[on]=w(e.substr(s,2)),t[un]=w(e.substr(i)),c(n).bigHour=!0}),Z("Hmm",function(e,t,n){var s=e.length-2;t[an]=w(e.substr(0,s)),t[on]=w(e.substr(s))}),Z("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[an]=w(e.substr(0,s)),t[on]=w(e.substr(s,2)),t[un]=w(e.substr(i))});var On,xn=/[ap]\.?m?\.?/i,Tn=R("Hours",!0),bn={calendar:xt,longDateFormat:Tt,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:bt,relativeTime:Pt,months:mn,monthsShort:_n,week:wn,weekdays:vn,weekdaysMin:Sn,weekdaysShort:Mn,meridiemParse:xn},Pn={},Wn={},Rn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Cn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fn=/Z|[+-]\d\d(?::?\d\d)?/,Un=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Hn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ln=/^\/?Date\((\-?\d+)/i,Gn=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;e.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Vn=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=He.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Nn=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=He.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),jn=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ae("Z",":"),Ae("ZZ",""),j("Z",Qt),j("ZZ",Qt),Z(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ee(Qt,e)});var An=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var En=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,In=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;$e.fn=Ve.prototype,$e.invalid=function(){return $e(NaN)};var Zn=Qe(1,"add"),zn=Qe(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var $n=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),nt("gggg","weekYear"),nt("ggggg","weekYear"),nt("GGGG","isoWeekYear"),nt("GGGGG","isoWeekYear"),x("weekYear","gg"),x("isoWeekYear","GG"),P("weekYear",1),P("isoWeekYear",1),j("G",Jt),j("g",Jt),j("GG",At,Gt),j("gg",At,Gt),j("GGGG",zt,Nt),j("gggg",zt,Nt),j("GGGGG",$t,jt),j("ggggg",$t,jt),z(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=w(e)}),z(["gg","GG"],function(t,n,s,i){n[i]=e.parseTwoDigitYear(t)}),H("Q",0,"Qo","quarter"),x("quarter","Q"),P("quarter",7),j("Q",Lt),Z("Q",function(e,t){t[sn]=3*(w(e)-1)}),H("D",["DD",2],"Do","date"),x("date","D"),P("date",9),j("D",At),j("DD",At,Gt),j("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),Z(["D","DD"],rn),Z("Do",function(e,t){t[rn]=w(e.match(At)[0],10)});var qn=R("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),x("dayOfYear","DDD"),P("dayOfYear",4),j("DDD",Zt),j("DDDD",Vt),Z(["DDD","DDDD"],function(e,t,n){n._dayOfYear=w(e)}),H("m",["mm",2],0,"minute"),x("minute","m"),P("minute",14),j("m",At),j("mm",At,Gt),Z(["m","mm"],on);var Jn=R("Minutes",!1);H("s",["ss",2],0,"second"),x("second","s"),P("second",15),j("s",At),j("ss",At,Gt),Z(["s","ss"],un);var Bn=R("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),x("millisecond","ms"),P("millisecond",16),j("S",Zt,Lt),j("SS",Zt,Gt),j("SSS",Zt,Vt);var Qn;for(Qn="SSSS";Qn.length<=9;Qn+="S")j(Qn,qt);for(Qn="S";Qn.length<=9;Qn+="S")Z(Qn,function(e,t){t[ln]=w(1e3*("0."+e))});var Xn=R("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Kn=y.prototype;Kn.add=Zn,Kn.calendar=function(t,n){var s=t||He(),i=Ie(s,this).startOf("day"),r=e.calendarFormat(this,i)||"sameElse",a=n&&(D(n[r])?n[r].call(this,s):n[r]);return this.format(a||this.localeData().calendar(r,this,He(s)))},Kn.clone=function(){return new y(this)},Kn.diff=function(e,t,n){var s,i,r,a;return this.isValid()&&(s=Ie(e,this)).isValid()?(i=6e4*(s.utcOffset()-this.utcOffset()),"year"===(t=T(t))||"month"===t||"quarter"===t?(a=Ke(this,s),"quarter"===t?a/=3:"year"===t&&(a/=12)):(r=this-s,a="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-i)/864e5:"week"===t?(r-i)/6048e5:r),n?a:p(a)):NaN},Kn.endOf=function(e){return void 0===(e=T(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},Kn.format=function(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=V(this,t);return this.localeData().postformat(n)},Kn.from=function(e,t){return this.isValid()&&(g(e)&&e.isValid()||He(e).isValid())?$e({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Kn.fromNow=function(e){return this.from(He(),e)},Kn.to=function(e,t){return this.isValid()&&(g(e)&&e.isValid()||He(e).isValid())?$e({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Kn.toNow=function(e){return this.to(He(),e)},Kn.get=function(e){return e=T(e),D(this[e])?this[e]():this},Kn.invalidAt=function(){return c(this).overflow},Kn.isAfter=function(e,t){var n=g(e)?e:He(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=T(i(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Kn.isBefore=function(e,t){var n=g(e)?e:He(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=T(i(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Kn.isBetween=function(e,t,n,s){return("("===(s=s||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===s[1]?this.isBefore(t,n):!this.isAfter(t,n))},Kn.isSame=function(e,t){var n,s=g(e)?e:He(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=T(t||"millisecond"))?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Kn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Kn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Kn.isValid=function(){return f(this)},Kn.lang=$n,Kn.locale=et,Kn.localeData=tt,Kn.max=Nn,Kn.min=Vn,Kn.parsingFlags=function(){return l({},c(this))},Kn.set=function(e,t){if("object"==typeof e)for(var n=W(e=b(e)),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit]);else if(e=T(e),D(this[e]))return this[e](t);return this},Kn.startOf=function(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},Kn.subtract=zn,Kn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Kn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Kn.toDate=function(){return new Date(this.valueOf())},Kn.toISOString=function(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?V(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):D(Date.prototype.toISOString)?this.toDate().toISOString():V(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},Kn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+s+"-MM-DD[T]HH:mm:ss.SSS"+i)},Kn.toJSON=function(){return this.isValid()?this.toISOString():null},Kn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Kn.unix=function(){return Math.floor(this.valueOf()/1e3)},Kn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Kn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Kn.year=pn,Kn.isLeapYear=function(){return ee(this.year())},Kn.weekYear=function(e){return st.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Kn.isoWeekYear=function(e){return st.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Kn.quarter=Kn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Kn.month=Q,Kn.daysInMonth=function(){return q(this.year(),this.month())},Kn.week=Kn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Kn.isoWeek=Kn.isoWeeks=function(e){var t=re(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Kn.weeksInYear=function(){var e=this.localeData()._week;return ae(this.year(),e.dow,e.doy)},Kn.isoWeeksInYear=function(){return ae(this.year(),1,4)},Kn.date=qn,Kn.day=Kn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=oe(e,this.localeData()),this.add(e-t,"d")):t},Kn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Kn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=ue(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Kn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Kn.hour=Kn.hours=Tn,Kn.minute=Kn.minutes=Jn,Kn.second=Kn.seconds=Bn,Kn.millisecond=Kn.milliseconds=Xn,Kn.utcOffset=function(t,n,s){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Ee(Qt,t)))return this}else Math.abs(t)<16&&!s&&(t*=60);return!this._isUTC&&n&&(i=Ze(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?Xe(this,$e(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Ze(this)},Kn.utc=function(e){return this.utcOffset(0,e)},Kn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ze(this),"m")),this},Kn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ee(Bt,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Kn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?He(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Kn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Kn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Kn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Kn.isUtc=ze,Kn.isUTC=ze,Kn.zoneAbbr=function(){return this._isUTC?"UTC":""},Kn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Kn.dates=S("dates accessor is deprecated. Use date instead.",qn),Kn.months=S("months accessor is deprecated. Use month instead",Q),Kn.years=S("years accessor is deprecated. Use year instead",pn),Kn.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),Kn.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!i(this._isDSTShifted))return this._isDSTShifted;var e={};if(_(e,this),(e=Ce(e))._a){var t=e._isUTC?d(e._a):He(e._a);this._isDSTShifted=this.isValid()&&v(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var es=O.prototype;es.calendar=function(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return D(s)?s.call(t,n):s},es.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},es.invalidDate=function(){return this._invalidDate},es.ordinal=function(e){return this._ordinal.replace("%d",e)},es.preparse=rt,es.postformat=rt,es.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return D(i)?i(e,t,n,s):i.replace(/%d/i,e)},es.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)},es.set=function(e){var t,n;for(n in e)t=e[n],D(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},es.months=function(e,n){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||fn).test(n)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone},es.monthsShort=function(e,n){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[fn.test(n)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},es.monthsParse=function(e,t,n){var s,i,r;if(this._monthsParseExact)return J.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=d([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},es.monthsRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||X.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=gn),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},es.monthsShortRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||X.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=yn),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},es.week=function(e){return re(e,this._week.dow,this._week.doy).week},es.firstDayOfYear=function(){return this._week.doy},es.firstDayOfWeek=function(){return this._week.dow},es.weekdays=function(e,n){return e?t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][e.day()]:t(this._weekdays)?this._weekdays:this._weekdays.standalone},es.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},es.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},es.weekdaysParse=function(e,t,n){var s,i,r;if(this._weekdaysParseExact)return le.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=d([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},es.weekdaysRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||de.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=kn),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},es.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||de.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Dn),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},es.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||de.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yn),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},es.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},es.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ge("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=S("moment.lang is deprecated. Use moment.locale instead.",ge),e.langData=S("moment.langData is deprecated. Use moment.localeData instead.",we);var ts=Math.abs,ns=ft("ms"),ss=ft("s"),is=ft("m"),rs=ft("h"),as=ft("d"),os=ft("w"),us=ft("M"),ls=ft("y"),ds=mt("milliseconds"),hs=mt("seconds"),cs=mt("minutes"),fs=mt("hours"),ms=mt("days"),_s=mt("months"),ys=mt("years"),gs=Math.round,ps={ss:44,s:45,m:45,h:22,d:26,M:11},ws=Math.abs,vs=Ve.prototype;return vs.isValid=function(){return this._isValid},vs.abs=function(){var e=this._data;return this._milliseconds=ts(this._milliseconds),this._days=ts(this._days),this._months=ts(this._months),e.milliseconds=ts(e.milliseconds),e.seconds=ts(e.seconds),e.minutes=ts(e.minutes),e.hours=ts(e.hours),e.months=ts(e.months),e.years=ts(e.years),this},vs.add=function(e,t){return lt(this,e,t,1)},vs.subtract=function(e,t){return lt(this,e,t,-1)},vs.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=T(e))||"year"===e)return t=this._days+s/864e5,n=this._months+ht(t),"month"===e?n:n/12;switch(t=this._days+Math.round(ct(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},vs.asMilliseconds=ns,vs.asSeconds=ss,vs.asMinutes=is,vs.asHours=rs,vs.asDays=as,vs.asWeeks=os,vs.asMonths=us,vs.asYears=ls,vs.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN},vs._bubble=function(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*dt(ct(o)+a),a=0,o=0),u.milliseconds=r%1e3,e=p(r/1e3),u.seconds=e%60,t=p(e/60),u.minutes=t%60,n=p(t/60),u.hours=n%24,a+=p(n/24),i=p(ht(a)),o+=i,a-=dt(ct(i)),s=p(o/12),o%=12,u.days=a,u.months=o,u.years=s,this},vs.get=function(e){return e=T(e),this.isValid()?this[e+"s"]():NaN},vs.milliseconds=ds,vs.seconds=hs,vs.minutes=cs,vs.hours=fs,vs.days=ms,vs.weeks=function(){return p(this.days()/7)},vs.months=_s,vs.years=ys,vs.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=yt(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},vs.toISOString=gt,vs.toString=gt,vs.toJSON=gt,vs.locale=et,vs.localeData=tt,vs.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",gt),vs.lang=$n,H("X",0,0,"unix"),H("x",0,0,"valueOf"),j("x",Jt),j("X",Xt),Z("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),Z("x",function(e,t,n){n._d=new Date(w(e))}),e.version="2.18.1",function(e){pt=e}(He),e.fn=Kn,e.min=function(){return Le("isBefore",[].slice.call(arguments,0))},e.max=function(){return Le("isAfter",[].slice.call(arguments,0))},e.now=function(){return Date.now?Date.now():+new Date},e.utc=d,e.unix=function(e){return He(1e3*e)},e.months=function(e,t){return ot(e,t,"months")},e.isDate=a,e.locale=ge,e.invalid=m,e.duration=$e,e.isMoment=g,e.weekdays=function(e,t,n){return ut(e,t,n,"weekdays")},e.parseZone=function(){return He.apply(null,arguments).parseZone()},e.localeData=we,e.isDuration=Ne,e.monthsShort=function(e,t){return ot(e,t,"monthsShort")},e.weekdaysMin=function(e,t,n){return ut(e,t,n,"weekdaysMin")},e.defineLocale=pe,e.updateLocale=function(e,t){if(null!=t){var n,s=bn;null!=Pn[e]&&(s=Pn[e]._config),(n=new O(t=Y(s,t))).parentLocale=Pn[e],Pn[e]=n,ge(e)}else null!=Pn[e]&&(null!=Pn[e].parentLocale?Pn[e]=Pn[e].parentLocale:null!=Pn[e]&&delete Pn[e]);return Pn[e]},e.locales=function(){return Ot(Pn)},e.weekdaysShort=function(e,t,n){return ut(e,t,n,"weekdaysShort")},e.normalizeUnits=T,e.relativeTimeRounding=function(e){return void 0===e?gs:"function"==typeof e&&(gs=e,!0)},e.relativeTimeThreshold=function(e,t){return void 0!==ps[e]&&(void 0===t?ps[e]:(ps[e]=t,"s"===e&&(ps.ss=t-1),!0))},e.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},e.prototype=Kn,e});
/*public/js/libs/jquery-i18n/jquery.i18n*/
define("public/js/libs/jquery-i18n/jquery.i18n",["module","@loader","require"],function(r,t,e){t.get("@@global-helpers").prepareGlobal({require:e,name:r.id,deps:[]});var i=t.global.define,e=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'jQuery.i18n={dict:null,setDictionary:function(t){this.dict=t},_:function(t,r){var n=t;return this.dict&&this.dict[t]&&(n=this.dict[t]),this.printf(n,r)},toEntity:function(t){for(var r="",n=0;n<t.length;n++)t.charCodeAt(n)>128?r+="&#"+t.charCodeAt(n)+";":r+=t.charAt(n);return r},stripStr:function(t){return t.replace(/^\\s*/,"").replace(/\\s*$/,"")},stripStrML:function(t){for(var r=t.split("\\n"),n=0;n<r.length;n++)r[n]=stripStr(r[n]);return stripStr(r.join(" "))},printf:function(t,r){if(!r)return t;for(var n="",i=t.split("%s"),e=0;e<r.length;e++)i[e].lastIndexOf("%")==i[e].length-1&&e!=r.length-1&&(i[e]+="s"+i.splice(e+1,1)[0]),n+=i[e]+r[e];return n+i[i.length-1]}};',address:r.uri}),t.global.require=e,t.global.define=i,t.get("@@global-helpers").retrieveGlobal(r.id,void 0)});
/*lib/vendor/i18n/extensions*/
define("lib/vendor/i18n/extensions",["module","@loader","require"],function(e,i,t){i.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var r=i.global.define,t=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'!function(t){var i={_language:"en-GB",_:function(t,i,n,e){var r=i,e=e||this._language;if(this._dictExists(t,e)&&this.dict[e][t][i])r=this.dict[e][t][i];else{if(!this.dict[e].os||!this.dict[e].os[i])return i;r=this.dict[e].os[i]}return this.printf(r,n)},_dictExists:function(t,i){return!!this.dict&&!!this.dict[i][t]},pluralise:function(t,i,n,e){var r=i;return 1!=e&&(r=n),this._(t,r)},pretty_num:function(t,i){i+="";var n="",e=this._(t,"thousands_sep");e="thousands_sep"==e?",":e;for(var r=i.length;r>3;r-=3)n=e+i.slice(r-3,r)+n;return n=i.slice(0,r)+n},printf:function(t,i){if(!i||0===i.length)return t;var n=i,e=new RegExp("([^%]|^)%([1-"+i.length+"])","g");return String(t).replace(e,function(t,i,e){return null!==n[e-1]&&void 0!==n[e-1]?i+n[e-1]:""}).replace("%%","%")}};t.extend(t.i18n,i)}(jQuery);',address:e.uri}),i.global.require=t,i.global.define=r,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/abstract/fdp_model*/
define("lib/models/abstract/fdp_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Lib.Models.Abstract.Fdp",{api:function(t){return this.fdpapi(t)}},{});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/abstract/api/cache_model*/
define("lib/models/abstract/api/cache_model",["module","@loader","require"],function(e,c,i){c.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var a=c.global.define,i=c.global.require;return c.global.define=void 0,c.global.module=void 0,c.global.exports=void 0,c.__exec({source:'Frog.Model.extend("Lib.Models.Abstract.Api.Cache",{cacheable:[],caches:{},api:function(e,c,t){if(-1===this.cacheable.indexOf(e))return this._super(e,c,t);var i=e+":"+this.canonicalKey(c);return Lib.Models.Abstract.Api.Cache.caches[i]||(Lib.Models.Abstract.Api.Cache.caches[i]=this._super(e,c,t)),Lib.Models.Abstract.Api.Cache.caches[i].fail(function(){this.invalidateCaches(e)}.bind(this))},canonicalKey:function(e){return e&&"object"==typeof e?Object.keys(e).sort().filter(function(c){return"function"!=typeof e[c]}).map(function(c){return e[c]&&"object"==typeof e[c]?c+"=["+this.canonicalKey(e[c])+"]":c+"="+e[c]}.bind(this)).join(";"):""},invalidateCaches:function(e){e?Object.keys(Lib.Models.Abstract.Api.Cache.caches).forEach(function(c){0===c.indexOf(e)&&delete Lib.Models.Abstract.Api.Cache.caches[c]}):Lib.Models.Abstract.Api.Cache.caches={}}},{});',address:e.uri}),c.global.require=i,c.global.define=a,c.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/app_model*/
define("lib/models/app_model",["module","@loader","require"],function(e,t,n){t.get("@@global-helpers").prepareGlobal({require:n,name:e.id,deps:[]});var a=t.global.define,n=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Applications",{cache:null,has_run:!1,models:function(e){var t=[];for(var n in e)e[n].name=this._(e[n].name),t.push(e[n]);return t.sort(function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}),Lib.Models.Application.models(t)},findAll:function(e){var t=this;return this.has_run?$.Deferred(function(e){var n;if(t.cache)e.resolve(t.cache,"success",e);else{n=setInterval(function(){if(t.cache)return clearInterval(n),void e.resolve(t.cache,"success",e)},200)}}):(this.has_run=!0,this.api("app.getApps",e,{dataType:"json apps",converters:{"json apps":function(e){return t.cache=t.models(e.data),t.cache}}}))},findOne:function(e){var t=this,n=(""+e).toUpperCase();return $.Deferred(function(e){t.findAll().done(function(t){var a=t.grep(function(e){return(""+e.attr("uuid")).toUpperCase()===n})[0];if(!a)return e.reject(t);e.resolve(a)}).fail(function(t){e.reject(t)})}).promise()},getMenu:function(e,t){var n=this;return $.Deferred(function(a){n.findAll(t).done(function(t){e?a.resolve(t.match("menu_"+e,!0)):a.resolve(t)})}).promise()}},{}),Frog.Model.extend("Lib.Models.Application",{id:"uuid",attributes:{uuid:"string",app_name:"string",name:"string",extended_data:"object",role_name:"string",menu_quick:"boolean",menu_resource:"boolean",link:"string"},_changeType:function(e,t){return this.api("quicklaunch.changeType",{item:e,type:t},{type:"POST"})}},{getId:function(){return this.uuid},getUuid:function(){return this.uuid},getAppName:function(){return this.app_name},getName:function(){return this.getData("appname")?this.getData("appname"):this.name},getData:function(e){return!!this.extended_data&&("string"==typeof this.extended_data&&(this.extended_data=JSON.parse(this.extended_data||"null")),e?this.extended_data[e]||!1:this.extended_data)},hasData:function(e){return!!this.extended_data&&("string"==typeof this.extended_data&&(this.extended_data=JSON.parse(this.extended_data||"null")),e?e in this.extended_data:void 0)},getDeepLink:function(){var e=this.getData("view")||this.getData("source");return e?this.app_name+"|"+e:this.app_name},getIconKey:function(){return this.getData("view")||this.getAppName()},getLink:function(){return this.getData("link")},changeType:function(e){return this.Class._changeType(this.uuid,e)},isThirdPartyApp:function(){return!0===this.getData("from_frogstore")}});',address:e.uri}),t.global.require=n,t.global.define=a,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/appevents_model*/
define("lib/models/appevents_model",["module","@loader","require"],function(e,t,o){t.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=t.global.define,o=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Lib.Models.Abstract.Fdp.extend("Lib.Models.Appevent",{id:"uuid",attributes:{uuid:"string",content:"string",created_on:"moment",created_by:"string"},getRegistrationCountPerPostcode:function(t,e,n){return this.api({data:t,path:"/api/fdp/2/",url:"appevent/getRegistrationCountPerPostcode",type:"GET",dataType:"json note",converters:{"json note":function(t){return t.response}},success:e,error:n})}},{});',address:e.uri}),t.global.require=o,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/assign_model*/
define("lib/models/assign_model",["module","@loader","require"],function(e,o,l){o.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var i=o.global.define,l=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:'Frog.Model.extend("Lib.Models.Assign",{attributes:{start:"date",end:"date",last_updated:"date",is_self_assessed:"boolean",is_exam:"frogboolean",single_attempt:"frogboolean"},convert:{date:function(e){return new Date(1e3*e)}},findOne:function(e){return this.api("sites.getByUuid",e,{dataType:"json siteassign",converters:{"json siteassign":function(e){return Lib.Models.Assign.model(e)}}})}},{});',address:e.uri}),o.global.require=l,o.global.define=i,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/assignment_model*/
define("lib/models/assignment_model",["module","@loader","require"],function(e,s,i){s.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var t=s.global.define,i=s.global.require;return s.global.define=void 0,s.global.module=void 0,s.global.exports=void 0,s.__exec({source:'Frog.Model.extend("Lib.Models.Assignment",{attributes:{name:"string",site:"string",start:"number",end:"number",subject:"string",is_self_assessed:"frogboolean",message:"string",activities:"Lib.Models.Assignment.Activity.models",groups:"Lib.Models.Assignment.Group.models",users:"array",learning_objective:"string",advanced_settings:"object"},create:function(e,s,i){var t,n=e.groups.length,u=this,r=s;e.status="open";for(var a=0;a<n;a++)e.groups[a].group=e.groups[a].uuid;return e.quiz_ids.length>0&&(r=function(t){var n,r,a=t.data.activities;if(Frog.Utilities.isObject(a))for(var o in a)if("Quizzes"===a[o].name&&a[o].source_uuid&&"site_bucket_content"===a[o].source_type){if(!(n=a[o].ial_quiz_id))continue;r=Lib.Models.Quiz.getAdvancedSettingsAlias(n),e.quiz_advanced_settings[r]||(e.quiz_advanced_settings[r]={quiz_id:n}),e.quiz_advanced_settings[r].content_uuid=a[o].source_uuid}u.api("iamlearning.saveAssignment",{site_uuid:t.data.assignment.uuid,copy_content_uuids:e.copy_content_uuids,start:e.start,end:e.end,name:e.name,quiz_ids:e.quiz_ids,user_objects:e.user_objects,users:e.users,groups:e.groups,quiz_advanced_settings:e.quiz_advanced_settings,copy_previous_homework_uuid:e.copy_previous_homework_uuid},{type:"POST",success:s,error:i})}),t={data:$.toJSON(e)},this.api("assignments.create",t,{type:"POST",success:r,error:i})}},{});',address:e.uri}),s.global.require=i,s.global.define=t,s.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/config_model*/
define("lib/models/config_model",["module","@loader","require"],function(e,n,o){n.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var i=n.global.define,o=n.global.require;return n.global.define=void 0,n.global.module=void 0,n.global.exports=void 0,n.__exec({source:'Frog.Model.extend("Lib.Models.Config",{id:"id",attributes:{},defaults:{id:"config"},findOne:function(n){return this.api("config.get",n,{type:"GET",dataType:"json Config",converters:{"json Config":function(n){return n.data}}})},setMultiple:function(n){return this.api("config.setMultiple",n,{type:"POST",dataType:"json Config",converters:{"json Config":function(n){return n.data}}})},createKey:function(n,t,e){return this.api("config.createNewPublicKey",n,{type:"POST",dataType:"json bool",converters:{"json bool":function(n){return n.data}},success:t,error:e})},getGoogleSSODomain:function(){return this.api("config.getGoogleSSODomain",{},{type:"GET",dataType:"json Config",converters:{"json Config":function(n){return n.data}}})}},{});',address:e.uri}),n.global.require=o,n.global.define=i,n.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/course/delegate_model*/
define("lib/models/course/delegate_model",["module","@loader","require"],function(e,i,o){i.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var l=i.global.define,o=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'Frog.Model.extend("Lib.Models.CourseDelegate",{attributes:{uuid:"string",course:"string",user:"Lib.Models.User.model",qualification_id:"string",attended:"frogboolean",passed:"frogboolean",notified:"frogboolean"},init:function(){this.validate("qualification_id",function(i){if(i&&i.length>255)return"delegate.model.error.invalid-qualification-id"})}},{});',address:e.uri}),i.global.require=o,i.global.define=l,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/curriculum/curriculum_model*/
define("lib/models/curriculum/curriculum_model",["module","@loader","require"],function(e,r,u){r.get("@@global-helpers").prepareGlobal({require:u,name:e.id,deps:[]});var t=r.global.define,u=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.Curriculum.Curriculum",{attributes:{uuid:"string",name:"string",created_on:"string",active:"frogboolean",dal_exemplar_resources:"frogboolean",dal_core_resources:"frogboolean",dal_extension_resources:"frogboolean",template:"string",background_image_url:"string"},duplicate:function(e,r,u){var t=this;return this.api("curriculums.duplicate",e,{type:"POST",dataType:"json curriculum",converters:{"json curriculum":function(e){return t.model(e.data)}},success:r,error:u})},update:function(e,r,u,t){var s=this;return this.api("curriculums.update",r,{type:"POST",dataType:"json curriculum",converters:{"json curriculum":function(e){return s.model(e.data)}},success:u,error:function(e){if("function"!=typeof t)return JSON.parse(e.responseText||"null").status.message;t(JSON.parse(e.responseText||"null").status.message)}})},destroy:function(e,r,u){return this.api("curriculums.delete",{uuid:e},{type:"POST",success:r,error:u})},create:function(e,r,u){var t=this;return this.api("curriculums.create",e,{type:"POST",dataType:"json curriculum",converters:{"json curriculum":function(e){return t.model(e.data)}},success:r,error:u})}},{setup:function(e){e.template=e.template||"default",this._super(e)},duplicate:function(e){return e&&(this.user=e),this.Class.duplicate({uuid:this.uuid,name:this.name+" - duplicate",duplicate_for_user:this.user})},saveConfig:function(e){return this.Class.api("curriculums.saveConfig",e,{type:"POST",dataType:"json curriculum",converters:{"json curriculum":function(e){return!0}},fixture:function(){return[200,"OK",{data:"success"}]}})},getBackgroundImageUrl:function(){return this.background_image_url||Frog.Utilities.getBaseUrl()+"/app/public/image/curriculum_default.png"},create:function(e){return this.Class.create(e)},destroy:function(){var e=this,r=$.Deferred;return this.Class.api("curriculums.delete",{curriculum_uuid:e.uuid,parents:e.attr("parents")},{type:"POST",success:r.resolve,error:r.reject})},hasEvents:function(e){var r=this,u=$.Deferred();return this.Class.api("curriculums.hasEvents",{curriculum_uuid:r.uuid,parents:e},{type:"GET",dataType:"json boolean",converters:{"json boolean":function(e){return e.data}},success:u.resolve,error:u.reject})}});',address:e.uri}),r.global.require=u,r.global.define=t,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/curriculum/association_model*/
define("lib/models/curriculum/association_model",["module","@loader","require"],function(e,a,t){a.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var r=a.global.define,t=a.global.require;return a.global.define=void 0,a.global.module=void 0,a.global.exports=void 0,a.__exec({source:'Frog.Model.extend("Lib.Models.Curriculum.Association",{attributes:{uuid:"string",name:"string",background_image_url:"string",path:"object"},defaults:{mark_as_deleted:!1},convert:{object:function(e){return JSON.parse(e)}},findAll:function(e,t,a){var u=this;return this.api("curriculumassociations.get",e,{type:"GET",dataType:"json curriculum_association",converters:{"json curriculum_association":function(e){if(void 0===e.data.type&&e.data.length){var t={type:"curriculum_type",data:[]};return $.each(e.data,function(e,a){var r=u.model(a.curriculum_type),c=[];r.name=r.name.replace(/Key Stage/g,"Key stage"),$.each(a.data,function(e,t){t.name=t.name.replace(/Key Stage/g,"Key stage"),"curriculum"==a.type?c.push(new Lib.Models.Curriculum.Curriculum(t)):c.push(u.model(t))}),t.data.push({curriculum_type:r,children:c,child_type:a.type})}),t}return"year"==e.type?($.each(e.data,function(t,a){$.each(a.objectives,function(e,t){a.objectives[e]=new Lib.Models.Curriculum.LearningObjective(t)}),e.data[t]=new Lib.Models.Curriculum.LearningObjectiveGroup(a)}),{type:e.type,data:e.data||[]}):"curriculum"==e.data.type?($.each(e.data.data,function(t,a){e.data.data[t]=new Lib.Models.Curriculum.Curriculum(a)}),{type:e.data.type,data:e.data.data}):{type:e.data.type,data:u.models(e.data.data||[])}}}})},create:function(e,t,a){this.doSave(e,t,a)},update:function(e,t,a,u){this.doSave(t,a,u)},updateSubjectArea:function(e,t,a){var u=this,r=[];return $.each(e,function(e,t){r.push(t.serialize())}),this.api("subjectareas.update",{subject_areas:r},{type:"POST",dataType:"json curriculum_association",converters:{"json curriculum_association":function(e){return u.model(e.data)}},success:t,error:a})},delete:function(e,t,a){var u=this;return this.api("subjectareas.delete",e,{type:"POST",dataType:"json curriculum_association",converters:{"json curriculum_association":function(e){return u.model(e.data)}},success:t,error:a})},doSave:function(e,t,a){var u,r=this;return u="subject_area"===e.type?"user"==e.source?"subjectareas.create":"subjectareas.createAssociation":"subjects.createwithassociations",this.api(u,e,{type:"POST",dataType:"json curriculum_association",converters:{"json curriculum_association":function(e){return r.model(e.data)}},success:t,error:a})}},{});',address:e.uri}),a.global.require=t,a.global.define=r,a.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/curriculum/exemplar_standard_model*/
define("lib/models/curriculum/exemplar_standard_model",["module","@loader","require"],function(e,r,l){r.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var o=r.global.define,l=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.Curriculum.ExemplarStandard",{attributes:{objective_uuid:"string",name:"string",resources:"Lib.Models.Resource.models"},findAll:function(e,t,r){var n=this;return this.api("learninglocker.get",e,{type:"GET",dataType:"json typical_student",converters:{"json typical_student":function(e){return n.models(e.data)}}})}},{});',address:e.uri}),r.global.require=l,r.global.define=o,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/curriculum/learn_evidence_model*/
define("lib/models/curriculum/learn_evidence_model",["module","@loader","require"],function(e,t,r){t.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var i=t.global.define,r=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Lib.Models.Abstract.Fdp.extend("Lib.Models.Curriculum.LearnEvidence",{attributes:{type:"string",event:"Studenttracker.Models.Event.model",resources:"Lib.Models.Resource.models",status:"Studenttracker.Models.Item.model",note:"Lib.Models.Note.model",created_by:"Lib.Models.User.model"},findAll:function(e,t,r){var n=this;void 0!==e.before&&e.before instanceof Lib.Models.Curriculum.LearnEvidence&&(e.before=e.before.getAppliedOn().unix()),void 0!==e.after&&e.after instanceof Lib.Models.Curriculum.LearnEvidence&&(e.after=e.after.getAppliedOn().unix());for(var s in e)e.hasOwnProperty(s)&&e[s]instanceof $.Class&&(e[s]=e[s].serialize());return this.api({url:"studenttracker/getTimeline",data:e,type:"GET",dataType:"json learnevidence",converters:{"json learnevidence":function(e){for(var t=e.response,r=[],s=0;s<t.length;s++){var i=t[s],a=null,o=null,d=null;switch(i.type){case"resource":case"textactivity":case"quiz":case"link":a=Lib.Models.Resource.models([i.item]);break;case"quiz_result":i.item.quiz_id=parseInt(i.item.quiz_id,10),i.item.score=parseInt(i.item.score,10),i.item.poss_score=parseInt(i.item.poss_score,10),a=Lib.Models.Resource.models([i.item]);break;case"student_tracker_status_type":o=Studenttracker.Models.Item.model(i.item);break;case"note":d=Lib.Models.Note.model(i.item)}r.push({type:i.type,event:i.event,resources:a,status:o,note:d,created_by:i.created_by})}return n.models(r)}},success:t,error:r})},create:function(e,t,r){var n=this;return this.api("learnevidence.create",e,{type:"POST",dataType:"json learnevidence",converters:{"json learnevidence":function(e){return n.model(e.data)}},success:t,error:r})},update:function(e,t,r,n){var s=this;return this.api("learnevidence.update",t,{type:"POST",dataType:"json learnevidence",converters:{"json learnevidence":function(e){return s.model(e.data)}},success:r,error:n})},destroy:function(e,t,r){return this.api("learnevidence.delete",{uuid:e},{type:"POST",success:t,error:r})}},{getAppliedOn:function(e){var t=this.event.applied_on;return e&&(t=t.format(e)),t},isStudentSubmitted:function(){return"student"===this.attr("created_by").attr("profile").attr("name").toLowerCase()&&"quiz_result"!==this.attr("type")}});',address:e.uri}),t.global.require=r,t.global.define=i,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/curriculum/learning_objective_model*/
define("lib/models/curriculum/learning_objective_model",["module","@loader","require"],function(e,i,r){i.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var t=i.global.define,r=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'Frog.Model.extend("Lib.Models.Curriculum.LearningObjective",{attributes:{uuid:"string",simple_id:"string",associations:"array",parent_uuid:"string",order:"number",description:"string",teaching_notes:"string",is_kpi:"frogboolean",core_resources:"Lib.Models.Resource.models",breadth_resources:"Lib.Models.Resource.models",children:"Lib.Models.Curriculum.LearningObjective.models",deleted:"frogboolean",original:"frogobject",reference:"string",title:"string",moved:"boolean"},findAll:function(e,i,t){var r=this;return this.api("curriculumlearningobjectives.get",e,{type:"GET",dataType:"json lesson_objectives",converters:{"json lesson_objectives":function(e){return r.models(e.data)}}})},findOne:function(e,i,t){var r=this;return this.api("curriculumlearningobjectives.get",{uuid:e.uuid},{type:"GET",dataType:"json lesson_objective",converters:{"json lesson_objective":function(e){return r.model(e.data)}}})},update:function(e,i,t){var r=!0;e=this.formatSaveOutput(e,i);for(var n in e)e.hasOwnProperty(n)&&e[n].length&&(r=!1);return r?$.Deferred().resolve():this.api("curriculumlearningobjectives.update",{created:e.created.serialize(),modified:e.modified.serialize(),deleted:e.deleted.serialize(),curriculum:t.serialize()},{type:"POST",dataType:"json lesson_objective_group_update",converters:{"json lesson_objective_group_update":function(i){for(var t,r=0;r<i.data.length;r++)(t=e.created.match("simple_id",i.data[r].simple_id))&&t.length&&t[0].attrs(i.data[r]);return e.created.push(e.modified),e.created}}})},formatSaveOutput:function(e,i){var t={created:new Lib.Models.Curriculum.LearningObjective.List([]),modified:new Lib.Models.Curriculum.LearningObjective.List([]),deleted:new Lib.Models.Curriculum.LearningObjective.List([])},r=function(e,i,t,n){e.each(function(){this.deleted&&this.isSaved()?i.deleted.push(this):(this.isSaved()?this.isDirty()&&(i.modified.push(this),delete this.moved):(this.simple_id=this.uuid,delete this.uuid,i.created.push(this)),this.parent_uuid||(this.associations=t)),this.children.length&&r(this.children,i,t,this)})};return $.each(e,function(){var e=[this.uuid];i&&i.uuid&&e.push(i.uuid),r(this.objectives,t,e,this)}),t}},{urlTranslation:function(e){return e?this.description:Frog.Utilities.Reporting.urlTranslation(this.description)},isSaved:function(){return!!this.uuid&&48===this.uuid.length},setup:function(e){if(e.children=e.children||[],e.uuid=e.uuid||Frog.Utilities.generateSimpleId(),e.original=e.original||{},e.changes){for(var i=0;i<e.changes.length;i++)"moved"===e.changes[i].type?e.original.year=e.changes[i].previous:"updated"===e.changes[i].type&&(e.original.description=e.changes[i].previous.description||null,e.original.reference=e.changes[i].previous.reference||null,e.original.title=e.changes[i].previous.title||null);delete e.changes}this._super(e),this.backup()},getFlags:function(){var e={count:0,flags:[]};if(this.is_import){this.original.year&&(e.count++,e.flags.push({klass:"moved-from-year",text:this.original.year}));for(var i in this.original)if(this.original.hasOwnProperty(i)&&"year"!==i&&this.original[i]){e.count++,e.flags.push({klass:"modified",text:"M",description:this.original.description,reference:this.original.reference,title:this.original.title});break}}else e.count++,e.flags.push({klass:"new-item",text:"+"}),this.original.year&&(e.count++,e.flags.push({klass:"moved-from-year",text:this.original.year}));return e},isModified:function(){for(var e in this.original)if(this.original.hasOwnProperty(e)&&"year"!==e&&null!==this.original[e])return!0;return!1},changeYear:function(e,i){var t=e.getShortYear(),r=i.getShortYear(),n=function(e){for(var i=0;i<e.children.length;i++)n(e.children[i]);e.is_import&&(e.original.year?e.original.year===r&&delete e.original.year:r!==t&&(e.original.year=t))};return n(this),this}}),Frog.Model.List.extend("Lib.Models.Curriculum.LearningObjective.List",{},{updateOrder:function(){for(var e=0;e<this.length;e++)this[e].deleted||(this[e].order=e)}});',address:e.uri}),i.global.require=r,i.global.define=t,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/curriculum/learning_objective_change_model*/
define("lib/models/curriculum/learning_objective_change_model",["module","@loader","require"],function(e,i,r){i.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var l=i.global.define,r=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'Frog.Model.extend("Lib.Models.Curriculum.LearningObjectiveChange",{id:"id",attributes:{type:"string",previous:"string",original:"string"}},{setup:function(i){i.id=Frog.Utilities.generateSimpleId(),this._super(i)},serialize:function(){var i={};for(var t in this.Class.attributes)this.Class.attributes.hasOwnProperty(t)&&(i[t]=this[t]);return delete i.id,i}});',address:e.uri}),i.global.require=r,i.global.define=l,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/curriculum/learning_objective_group_model*/
define("lib/models/curriculum/learning_objective_group_model",["module","@loader","require"],function(e,i,n){i.get("@@global-helpers").prepareGlobal({require:n,name:e.id,deps:[]});var t=i.global.define,n=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'Frog.Model.extend("Lib.Models.Curriculum.LearningObjectiveGroup",{attributes:{uuid:"string",name:"string",guidance_notes:"object",objectives:"Lib.Models.Curriculum.LearningObjective.models"},findAll:function(e,t,n){var i=this;return this.api("curriculumlearningobjectives.get",e,{type:"GET",dataType:"json lesson_objective_group",converters:{"json lesson_objective_group":function(e){return i.models(e.data||[])}}})}},{urlTranslation:function(){if(!this.guidance_notes)return this.Class._("guidancepanel.notes.noneset",null,"curriculummanager");var e=[];return $.each(this.guidance_notes,function(t,n){n.title&&e.push("<h5>"+n.title+"</h5>"),e.push("<div>",Frog.Utilities.Reporting.urlTranslation(n.notes),"</div>")}),e.join("")},getShortYear:function(){return this.name.match(/^\\d+/g)?this.name.match(/\\d+-\\d+/g)[0]:this.name.match(/\\d+\\S?/g)?this.name.charAt(0)+this.name.match(/\\d+\\S?/g):this.name.charAt(0)}});',address:e.uri}),i.global.require=n,i.global.define=t,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/curriculum/learning_objective_group_update_model*/
define("lib/models/curriculum/learning_objective_group_update_model",["module","@loader","require"],function(e,i,r){i.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var t=i.global.define,r=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'Frog.Model.extend("Lib.Models.Curriculum.LearningObjectiveGroupUpdate",{attributes:{curriculum:"Lib.Models.Curriculum.Curriculum.model",created:"Lib.Models.Curriculum.LearningObjective.models",modified:"Lib.Models.Curriculum.LearningObjective.models",deleted:"Lib.Models.Curriculum.LearningObjective.models"},create:function(e,i,t){return this.api("curriculumlearningobjectives.update",{created:e.created.serialize(),modified:e.modified.serialize(),deleted:e.deleted.serialize(),curriculum:e.curriculum.serialize()},{type:"POST",dataType:"json lesson_objective_group_update",converters:{"json lesson_objective_group_update":function(i){var t,r;for(r=0;r<i.data.length;r++)(t=e.created.match("simple_id",i.data[r].simple_id))&&(t[0].uuid=i.data[r].uuid);for(r=0;r<e.deleted.length;r++)e.deleted[r].destroy();return e}}}).done(i).fail(t)}},{save:function(e,i){for(var t=Lib.Models.Curriculum.LearningObjective.models([]),r=Lib.Models.Curriculum.LearningObjective.models([]),u=Lib.Models.Curriculum.LearningObjective.models([]),d=0;d<this.objectives.length;d++)48!==this.objectives[d].attr("uuid").length?(this.objectives[d].simple_id=this.objectives[d].uuid,delete this.objectives[d].uuid,t.push(this.objectives[d])):this.objectives[d].isDirty()?r.push(this.objectives[d]):!0===this.objectives[d].attr("deleted")&&u.push(this.objectives[d]);return t.length||r.length||u.length?this.Class.create({created:t,modified:r,deleted:u,curriculum:this.curriculum},e,i):$.Deferred().resolve({})}});',address:e.uri}),i.global.require=r,i.global.define=t,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/curriculum/period_model*/
define("lib/models/curriculum/period_model",["module","@loader","require"],function(e,i,t){i.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var d=i.global.define,t=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'Lib.Models.Abstract.Fdp.extend("Lib.Models.Period",{attributes:{uuid:"string",name:"string",start:"moment",end:"moment",created_by:"string",academic_year_uuid:"string",is_deleted:"frogBoolean"},findAll:function(e){var i=this;return this.api({url:"term/get",data:e,type:"GET",dataType:"json periods",converters:{"json periods":function(e){var t=[];return $.each(e.response,function(e,d){t.push(i.model(d))}),t}}})},save:function(e){var i=this,t={created:new Lib.Models.Period.List([]),deleted:new Lib.Models.Period.List([]),modified:new Lib.Models.Period.List([])};return e.periods.each(function(){this.isDirty()&&(this.attr("is_deleted")?t.deleted.push(this):t.modified.push(this)),this.isNew()&&t.created.push(this)}),this.api({data:{academic_year_uuid:e.academic_year_uuid,created:t.created.serialize(),deleted:t.deleted.serialize(),modified:t.modified.serialize()},url:"term/update",type:"POST",dataType:"json period",converters:{"json period":function(e){return i.models(e.response)}}})}},{});',address:e.uri}),i.global.require=t,i.global.define=d,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/mapdatasource_model*/
define("lib/models/mapdatasource_model",["module","@loader","require"],function(e,o,r){o.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var t=o.global.define,r=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:'Frog.Model.extend("Lib.Models.MapDataSource",{list:function(e){return this.api("mapdatasource.getList",e,{type:"GET",dataType:"json mapdatasource",converters:{"json mapdatasource":function(e){return e.data}}})},handleSource:function(e,o){switch(e){case"todoapp.postcodes":return Frog.Utilities.promisify(Lib.Models.Appevent.getRegistrationCountPerPostcode()).then(function(o){return o.map(function(o){return{address:o.postcode,isPostcode:!0,layerKey:e,geocode:o.query?{location_lat:o.location_lat,location_lng:o.location_lng,query:o.query,created_on:o.created_on}:void 0}})});case"address.arbitrary":return Frog.Utilities.promisify({address:o.arbitrary.value,layerKey:e});default:return Promise.reject(new Error("Source key not recognised"))}},geocodeEntry:function(e){return e.geocode?e.geocode:e.isPostcode?Lib.Models.Geocode.getPostcode(e.address):Lib.Models.Geocode.getArbitrary(e.address)}},{});',address:e.uri}),o.global.require=r,o.global.define=t,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/mychild/mychild_model*/
define("lib/models/mychild/mychild_model",["module","@loader","require"],function(e,t,s){t.get("@@global-helpers").prepareGlobal({require:s,name:e.id,deps:[]});var i=t.global.define,s=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Lib.Models.Abstract.Fdp.extend("Lib.Models.MyChild",{findAll:function(e,t,s){return this.api({type:"GET",path:"../api/fdp/2/",url:"mychildsprogress/get",data:e,dataType:"json curriculum_types",converters:{"json curriculum_types":function(e){var t,s=Lib.Models.MyChild.Status.models(e.response.status_types),i=e.response,r=e.response.objectives_to_status_map,n=e.response.objectives_to_evidence_count_map,o={};if(i.subject_areas)for(i.subject_areas=i.subject_areas.sort(function(e,t){return e.name.toLowerCase()<t.name.toLowerCase()?-1:1}),t=0;t<i.subject_areas.length;t++)o[i.subject_areas[t].name]=Lib.Models.MyChild.Events.models(i.subject_areas[t].events,s,r,n,e.response.show_score);return o}}})}},{}),Lib.Models.Abstract.Fdp.extend("Lib.Models.MyChild.Status",{},{}),Lib.Models.Abstract.Fdp.extend("Lib.Models.MyChild.Events",{attributes:{},models:function(e,t,s,i,r){for(var n=e.length;n--;)e[n].objective=Lib.Models.MyChild.Objective.model(e[n].objective,t,s),e[n].objective.status&&(e[n].objective.status.show_score=r),e[n].children=Lib.Models.MyChild.Events.models(e[n].children,t,s,i),e[n].evidence_count=i[e[n].objective.uuid]||0,e[n]=Lib.Models.MyChild.Events.model(e[n],t,s,i);return e}},{}),Lib.Models.Abstract.Fdp.extend("Lib.Models.MyChild.Objective",{attributes:{description:"string",extended_data:"array",is_deleted:"boolean",is_import:"boolean",is_kpi:"boolean",order:"integer",parent_uuid:"string",phase:"string",reference:"string",teaching_notes:"string",title:"string",status_color:"string",uuid:"string"},models:function(e,t,s){for(var i=0;i<e.length;i++)e[i].children=Lib.Models.MyChild.Events.models(e[i].children,t,s);return e},model:function(e,t,s){var i=s[e.uuid];return e.status=i?t.get(i)[0]:null,this._super(e)}},{getLabel:function(){if(this.status){if(this.status.show_score)return this.status.value;if(this.status.name)return this.status.name}return this.Class._("childprogress.event.status.not-taught",null,"frogui")},urlTranslation:function(e){return e?this.description:Frog.Utilities.Reporting.urlTranslation(this.description)}});',address:e.uri}),t.global.require=s,t.global.define=i,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/studenttracker/statustype_model*/
define("lib/models/studenttracker/statustype_model",["module","@loader","require"],function(e,t,s){t.get("@@global-helpers").prepareGlobal({require:s,name:e.id,deps:[]});var r=t.global.define,s=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Lib.Models.Abstract.Fdp.extend("Lib.Models.Studenttracker.Statustype",{attributes:{uuid:"string",name:"string",value:"number",colour:"string",display_order:"number",is_target:"frogboolean",temp_id:"string"},defaults:{colour:"eeeeee",name:"assessmentstatus.name",value:.01,is_editable:!0,is_target:!1},findAll:function(e){var t=this;return this.api({data:e,url:"studenttracker/status/get",type:"GET",dataType:"json statustype",converters:{"json statustype":function(e){return t.models(e.response)}}})},save:function(e){var t=this,s={created:new Lib.Models.Studenttracker.Statustype.List([]),modified:new Lib.Models.Studenttracker.Statustype.List([]),deleted:new Lib.Models.Studenttracker.Statustype.List([])};return e.each(function(){this.is_deleted&&s.deleted.push(this),this.isDirty()&&(delete this.is_editable,s.modified.push(this)),this.isNew()&&s.created.push(this)}),this.api({data:{created:s.created.serialize(),modified:s.modified.serialize(),deleted:s.deleted.serialize()},url:"studenttracker/status/update",type:"POST",dataType:"json statustype",converters:{"json statustype":function(e){return t.models(e.response)}}})}},{setup:function(e){e&&!e.name?e.name=this.Class._("assessmentstatus.name",null,"curriculummanager"):e||(e={name:this.Class._("assessmentstatus.name",null,"curriculummanager")}),this._super(e)}}),Frog.Model.List.extend("Lib.Models.Studenttracker.Statustype.List",{},{updateOrder:function(){for(var e=0;e<this.length;e++)this[e].deleted||(this[e].display_order=e)}});',address:e.uri}),t.global.require=s,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/studenttracker/time_period_model*/
define("lib/models/studenttracker/time_period_model",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var r=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Lib.Models.Abstract.Fdp.extend("Lib.Models.TimePeriod",{attributes:{uuid:"string",name:"string",start:"moment",end:"moment",created_by:"string",academic_year_uuid:"string",is_deleted:"frogBoolean",type:"string",periods:"array"},findAll:function(e){var t=this;return e=$.extend(e,{external_id:"NULL"}),this.api({url:"academicyear/getComplete",data:e,type:"GET",dataType:"json cycles",converters:{"json cycles":function(e){var i=[],r=moment.utc();return $.each(e.response,function(s,n){var o=e.response[s+1],d=moment.utc(1e3*n.end),a=moment.utc(1e3*n.start);n.pickStart=0==s&&(r.isBefore(a)&&0==n.judgement_count),n.pickEnd=void 0===o?r.isBefore(d)&&0==n.judgement_count:r.isBefore(d)&&0==n.judgement_count&&0==o.judgement_count;var c=[];$.each(n.periods,function(e,i){var s=n.periods[e-1],o=moment.utc(1e3*i.start);i.pickStart=0!==e&&(r.isBefore(o)&&0==i.judgement_count&&0==s.judgement_count),i.type="period";var d=t.model(i);d.backup(),c.push(d)}),n.periods=new Frog.Model.List(c),n.type="cycle";var u=t.model(n);u.backup(!0),i.push(u)}),i}}})},findAllMCP:function(e){var t=this,i=e?e.releaseDate:null;return e=$.extend(e,{external_id:"NULL"}),e.releaseDate=null,this.api({url:"academicyear/getComplete",data:e,type:"GET",dataType:"json cycles",converters:{"json cycles":function(e){var r={},s=i?i.utc():moment.utc();return $.each(e.response,function(i,n){var o=e.response[i+1],d=moment.utc(1e3*n.end),a=moment.utc(1e3*n.start);n.pickStart=0==i&&(s.isBefore(a)&&0==n.judgement_count),n.first=0===i,n.last=i+1===e.response.length,n.pickEnd=void 0===o?s.isBefore(d)&&0==n.judgement_count:s.isBefore(d)&&0==n.judgement_count&&0==o.judgement_count,n.past=s.isAfter(d),n.present=s.isBefore(d)&&s.isAfter(a),n.future=s.isBefore(a);var c={};$.each(n.periods,function(e,i){var r=n.periods[e-1],o=moment.utc(1e3*i.start),d=moment.utc(1e3*i.end);i.pickStart=0!==e&&(s.isBefore(o)&&0==i.judgement_count&&0==r.judgement_count),i.first=0===e,i.last=e+1===n.periods.length,i.past=s.isAfter(d),i.present=s.isBefore(d)&&s.isAfter(o),i.future=s.isBefore(o),i.type="period";var a=t.model(i);a.backup(),c[a.uuid]=a}),n.type="cycle";var u=t.model(n);u.backup(!0),r[u.uuid]={academic_year:u,periods:c}}),r}}})},save:function(e){function t(e){e.isDirty()?e.attr("is_deleted")?s.deleted.push(e):(i(e.periods),e.periods=null,s.modified.push(e)):e.isNew()?s.created.push(e):"cycle"===e.type&&i(e.periods)}function i(e){$(e).each(function(){this.isDirty()?this.attr("is_deleted")?s.deleted.push(this):s.modified.push(this):this.isNew()&&s.created.push(this)})}var r=this,s={created:new Lib.Models.TimePeriod.List([]),deleted:new Lib.Models.TimePeriod.List([]),modified:new Lib.Models.TimePeriod.List([])};return $(e).each(function(){t(this)}),this.api({data:{created:s.created.serialize(),deleted:s.deleted.serialize(),modified:s.modified.serialize()},url:"academicyear/updateComplete",type:"POST",dataType:"json cycle",converters:{"json cycle":function(e){return r.models(e.response)}}})}},{});',address:e.uri}),t.global.require=i,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/defaultsite_model*/
define("lib/models/defaultsite_model",["module","@loader","require"],function(e,t,l){t.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var a=t.global.define,l=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Defaultsite",{findOne:function(e,t,n){var a=this;return this.api("preferences.company.get",{alias:"default.site"},{type:"GET",dataType:"json defaultsite",converters:{"json defaultsite":function(e){return a.model({uuid:e.data})}}})},setDefaultSite:function(e){return this.api("preferences.company.set",{"default.site":e.uuid},{type:"POST",dataType:"json defaultsite",converters:{"json defaultsite":function(e){return e.data}}})}},{});',address:e.uri}),t.global.require=l,t.global.define=a,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/dictionary_model*/
define("lib/models/dictionary_model",["module","@loader","require"],function(e,i,t){i.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var r=i.global.define,t=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'$.Model.extend("Lib.Models.Dictionary",{dictionary:{},language:"en-GB",findOne:function(t){var i=this;if(steal.isRhino)return $.Deferred().reject();if(!t)throw"Fatal Error: No deployment set when attempting to retrieve languages";return $.when($.getScript("os/i18n/"+t+"/apps.js"),$.getScript("os/i18n/"+t+"/widgets.js"),$.getScript("public/js/libs/jqueryui/i18n/jquery.ui.datepicker-"+i.language+".js")).done(function(){$.extend(!0,i.dictionary,i18n_apps,i18n_widgets),$.i18n.setDictionary(i.dictionary)}).fail(function(){throw"Fatal Error: Unable to load translations."})},setLanguage:function(t){return void 0!==t&&(this.language=t),this},getLanguage:function(){return this.language},getDictionary:function(){return this.dictionary}},{});',address:e.uri}),i.global.require=t,i.global.define=r,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/file/mime_model*/
define("lib/models/file/mime_model",["module","@loader","require"],function(e,l,i){l.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var r=l.global.define,i=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Lib.Models.File.Mime",{attributes:{ext:"string",mime:"string",type:"string"}},{});',address:e.uri}),l.global.require=i,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/folder_model*/
define("lib/models/folder_model",["module","@loader","require"],function(e,t,s){t.get("@@global-helpers").prepareGlobal({require:s,name:e.id,deps:[]});var r=t.global.define,s=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Folder",{STAFFDOCUMENTS:"72AB8F8E2002F051B7C14F2AEE4BC20D5A2147DC0E7B506D",LESSONRESOURCES:"DD4B11E42002F94BA8336F680819AA0BD2C904FC3B8D213A",SCHOOLDOCUMENTS:"EDAAA0E92002F81B92C2DFCD917CAC05E532634CEE5FEBD9",MYDOCUMENTS:"EDAAA0DB2002FA145040DF2AD7A6C702E0D4725CEC439D64",SHAREDWITHME:"null",SCORM_PACKAGES:"32E50C332002FAD3ADAF7FEE5017D603224A58BCC1FA9DDB",attributes:{name:"string",type:"string",author_uuid:"string",parent_uuid:"string",target_uuid:"string",created_on:"number",updated_on:"number"},findOne:function(e,t,s,r){return this.api("resources.getFolderByUuid",{folder_uuid:e,include_shares:!!r},{type:"GET",dataType:"json folder",converters:{"json folder":function(e){return Lib.Models.Folder.model(e.data)}},success:t,error:s})},create:function(e,t,s){return this.api("resources.folders.add",e,{type:"POST",dataType:"json folder",converters:{"json folder":function(e){return e.data}},success:t,error:s})},update:function(e,t,s,r){return this.api("resources.folders.edit",{name:t.name,parent:t.parent_uuid,folder:t.uuid},{type:"POST",dataType:"json folder",converters:{"json folder":function(e){return e.data}},success:s,error:r})},destroy:function(e,t,s){return this.api("resources.folders.delete",{folder:e},{type:"POST",success:t,error:s})},init:function(){this.validate("name",function(){if(""+this.name=="")return"Name must not be blank"})},getFoldersToRoot:function(e){return this.api("resources.folders.getFoldersToRoot",{folder_uuid:e.folder_uuid,shared_with_me:!!e.shared_with_me||null},{type:"GET",dataType:"json folders",converters:{"json folders":function(e){return e.data}}})},_containsDashboard:function(e,t,s){return this.api("resources.folders.containsdashboard",{folder:e},{type:"GET",dataType:"json site",converters:{"json site":function(e){return"null"!==e.data?Lib.Models.Site.model(e.data):null}},success:t,error:s})}},{share:function(e){var t=$.extend({},e,{resource:this.attr("uuid")});return this.Class.api("resources.share",t,{type:"POST"})},getResourceType:function(){return"folder"},getName:function(){return this.name},canEdit:function(e){return this.attr("author_uuid")===e.attr("uuid")||"admin"===this.getSharePermission()},getUpdatedOn:function(){return this.updated_on?new Date(1e3*this.updated_on):this.getCreatedOn()},getCreatedOn:function(){return new Date(1e3*this.created_on)},getSharePermission:function(){return this.share_data&&this.share_data.permission?this.share_data.permission:null},isMutable:function(e){var t=this.getSharePermission();return this.uuid===this.Class.MYDOCUMENTS||(t&&this.uuid!==this.Class.SCHOOLDOCUMENTS?"admin"===t||"edit"===t:this.root_uuid===this.Class.SCHOOLDOCUMENTS?_Roles.hasOr("app.resource.manager.documents.staff.add","app.resource.manager.schooldocuments.add","app.resource.manager.documents.company.add"):this.roleCheck(e))},canCopy:function(e){return"function"==typeof this.copyToFolder&&void 0===this.external_id},roleCheck:function(e){var t=this.attr("author_uuid")===e?"own":"other";if(this.uuid===this.Class.STAFFDOCUMENTS||this.uuid===this.Class.LESSONRESOURCES||this.parent_uuid===this.Class.SHAREDWITHME&&this.uuid!==this.Class.MYDOCUMENTS&&this.uuid!==this.Class.SCHOOLDOCUMENTS)return!1;switch(this.root_uuid){case this.Class.SCHOOLDOCUMENTS:return _Roles.hasOr("app.resource.manager.documents.staff.delete."+t,"app.resource.manager.documents.company.delete."+t,"app.resource.manager.schooldocuments.delete."+t);case this.Class.SHAREDWITHME:case this.Class.MYDOCUMENTS:return!0;case this.Class.LESSONRESOURCES:return _Roles.has("app.resource.manager.lesson.resources.delete."+t)}},isDeletable:function(e){var t,s=this.roleCheck(e);return this.hasShare()?!!_Roles.has("app.resource.manager.sharedwithme.folders.delete")&&((t=this.getSharePermission())?("admin"===t||"edit"===t)&&((this.root_uuid!==this.Class.SHAREDWITHME||this.parent_uuid!==this.Class.SHAREDWITHME)&&this.root_uuid!==this.Class.SCHOOLDOCUMENTS||s):s):s},canMoveTo:function(e,t){return this.isDeletable(e)},canSendCopy:function(){return!1},isSharable:function(e){var t;return!!_Roles.has("share.folder")&&(("folder"===(t=this.getResourceType())||"site"===t)&&(this.hasShare()?!("admin"!==this.share_data.permission&&"edit"!==this.share_data.permission||!this.isShareRoot()):this.roleCheck(e)))},hasShare:function(){return void 0!==this.share_data},isShareRoot:function(){return!(!this.share_data||1!==parseInt(this.share_data.is_root,10))},containsDashboard:function(e,t,s){return this.Class._containsDashboard(e,t,s)},canDrop:function(e){return!("googledrive"===e.type||"onedrivebusiness"===e.type)}});',address:e.uri}),t.global.require=s,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/geocode_model*/
define("lib/models/geocode_model",["module","@loader","require"],function(e,o,r){o.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var t=o.global.define,r=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:'Frog.Model.extend("Lib.Models.Geocode",{getPostcode:function(e){return this.api("geocode.getPostcode",{q:e},{type:"GET",dataType:"json group",converters:{"json group":function(e){return e.data}}})},getArbitrary:function(e){return this.api("geocode.getArbitrary",{q:e},{type:"GET",dataType:"json group",converters:{"json group":function(e){return e.data}}})}},{});',address:e.uri}),o.global.require=r,o.global.define=t,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/i18n_model*/
define("lib/models/i18n_model",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var n=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.i18n",{options:{language:"en-GB",deployment:steal.isRhino?"default":steal.config("frogenv")},set:function(t){for(var n in t)t.hasOwnProperty(n)&&(this.options[n]=t[n]);t.language&&this.setLibraryLocale(t.language)},get:function(t){return t?this.options[t]:this.options},loadSystemLanguage:function(t){switch(t=t||this.options.language){case"ms":moment.locale("ms-my");break;default:moment.locale(t)}},setLibraryLocale:function(t){$.i18n._language=t},setDictionaryKeys:function(t,n,i){if(n=n||"os",i=i||this.options.language,null===$.i18n.dict&&($.i18n.dict={}),i in $.i18n.dict||($.i18n.dict[i]={}),n in $.i18n.dict[i]||($.i18n.dict[i][n]={}),"[object Object]"===Object.prototype.toString.call(t))for(var e in t)t.hasOwnProperty(e)&&"string"==typeof t[e]&&($.i18n.dict[i][n][e]=t[e])}},{});',address:e.uri}),t.global.require=i,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/keyword_model*/
define("lib/models/keyword_model",["module","@loader","require"],function(e,t,d){t.get("@@global-helpers").prepareGlobal({require:d,name:e.id,deps:[]});var r=t.global.define,d=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Keyword",{attributes:{uuid:"string",name:"string"},findAll:function(e){var t=this,n={find:e};return this.api("keywords.search",n,{dataType:"json keywords",converters:{"json keywords":function(e){return t.models(e.data)}}})},findAllInContext:function(e,t){var n=this,d={find:e};return void 0!==t&&(d.context=t),this.api("keywords.search",d,{dataType:"json keywords",converters:{"json keywords":function(e){return n.models(e.data)}}})}},{}),Lib.Models.Keyword.extend("Lib.Models.Preferences.Keyword",{attributes:$.extend({},Lib.Models.Keyword.attributes,{selected:"boolean"}),defaults:$.extend({},Lib.Models.Keyword.defaults,{selected:!0})},{getId:function(){return this.uuid},getName:function(){return this.name},getSelectedState:function(){return this.selected},setSelectedState:function(e){this.attr("selected",!!e)}});',address:e.uri}),t.global.require=d,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/moment_model*/
define("lib/models/moment_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Lib.Models.Moment",{map:{"en-GB":"en",ms:"ms-my"},getMappedLanguage:function(e){return this.map[e]||"en-GB"}},{});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/package_model*/
define("lib/models/package_model",["module","@loader","require"],function(e,o,a){o.get("@@global-helpers").prepareGlobal({require:a,name:e.id,deps:[]});var l=o.global.define,a=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:'Frog.Model.extend("Lib.Models.Package",{attributes:{uuid:"string"},doDownloadsExist:function(){return this.api("package.downloadRequired",null,{type:"GET",dataType:"json download",converters:{"json download":function(n){return!!n.data}}})},startDownloads:function(){var n=this;return this.api("package.installPackages",null,{type:"POST",dataType:"json download",converters:{"json download":function(a){return n.models(a.data)}}})}},{});',address:e.uri}),o.global.require=a,o.global.define=l,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/profilepreferences_model*/
define("lib/models/profilepreferences_model",["module","@loader","require"],function(e,r,o){r.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var l=r.global.define,o=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.ProfilePreferences",{id:"id",attributes:{},defaults:{id:"profilepreferences"},findOne:function(e){return this.api("preferences.profile.get",e,{type:"GET",dataType:"json Config",converters:{"json Config":function(e){return e.data}}})},apply:function(e){return this.api("preferences.profile.set",e,{type:"POST",dataType:"json bool",converters:{"json bool":function(e){return e.data}}})}},{});',address:e.uri}),r.global.require=o,r.global.define=l,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/preferences_model*/
define("lib/models/preferences_model",["module","@loader","require"],function(e,r,t){r.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var l=r.global.define,t=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.Preference",{attributes:{alias:"string",value:"mixed"},setOne:function(e,t,n){return n=n||"user",this.api("preferences."+n+".set",{alias:e,value:t},{type:"POST"})},setMany:function(e,t){return t=t||"user",this.api("preferences."+t+".setMultiple",{keys:e},{type:"POST"})},getOne:function(e,t){return t=t||"user",this.api("preferences."+t+".get",{alias:e},{dataType:"json value",converters:{"json value":function(e){return e.data}}})}},{});',address:e.uri}),r.global.require=t,r.global.define=l,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/quicklaunch_model*/
define("lib/models/quicklaunch_model",["module","@loader","require"],function(e,t,n){t.get("@@global-helpers").prepareGlobal({require:n,name:e.id,deps:[]});var i=t.global.define,n=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.QuickLaunch",{cache:null,has_run:!1,attributes:{item:"object",type:"string",format:"string",sort:"number"},defaults:{sort:10,type:"personal",item:{}},model:function(e){if(e.is_quicklink){var t={uuid:e.uuid,name:e.name,url:e.url,icon:e.icon,is_quicklink:e.is_quicklink,mine:e.mine,open_in_new_tab:e.open_in_new_tab,type:e.type,running:e.running||e.item&&e.item.running||null,instance:e.item&&e.item.instance||null};e.item=Lib.Models.QuickLaunch.Weblink.model(t),e.format="weblink",e.sort=10}else"site"===e.item.type?(e.item=Lib.Models.QuickLaunch.Site.model(e.item),e.format="site"):"dashboard"===e.item.type?(e.item=Lib.Models.QuickLaunch.Dashboard.model(e.item),e.format="dashboard"):"3rdparty"===e.type||-1!==["app.wrapper","wrapper"].indexOf(e.item.app_name)?($.extend(!0,e.extended_data,e.item.extended_data),e.item=Lib.Models.QuickLaunch.AppLink.model(e.item),e.format="appwrapper"):e.item.extended_data&&!0===e.item.extended_data.external?(e.item=Lib.Models.QuickLaunch.External.model(e.item),e.format="external_site"):!0===e.item.menu_resource&&e.item.extended_data&&e.item.extended_data.from_package?(e.item=Lib.Models.QuickLaunch.AppLink.model(e.item),e.format="package"):!0===e.item.menu_resource?(e.item=Lib.Models.QuickLaunch.AppLink.model(e.item),e.format="applink"):e.item.extended_data&&e.item.extended_data.link?(e.item=Lib.Models.QuickLaunch.MalaysiaSite.model(e.item),e.format="malaysia_site"):(e.item=Lib.Models.QuickLaunch.AppLink.model(e.item),e.format="applink");return this._super(e)},__sortFn:function(e,t){if(e.sort<t.sort)return-1;if(e.sort>t.sort)return 1;var n=this._(e.item.name).toLowerCase(),i=this._(t.item.name).toLowerCase();return n<i?-1:n>i?1:0},models:function(e){return this._super(e).sort(this.__sortFn.bind(this))},findAll:function(e){var t,n,i=this;return this.has_run?$.Deferred(function(e){var a=function(){var t=i.triggerHandler("os.getUser",{});i.cache.each(function(e,n){(n.item.mine||n.item.created_by&&n.item.created_by===t.uuid)&&(n.sort=-1)}),e.resolve(i.cache,"success",e)};i.cache&&a(),n=function(){i.cache&&(clearInterval(t),a())},t=setInterval(n,200)}).promise():(this.has_run=!0,this.api("quicklaunch.get",e,{dataType:"json quicklaunch",converters:{"json quicklaunch":function(e){return i.cache=i.models(e.data),i.cache}}}))},create:function(e,t,n){var i=this;return this.api("quicklaunch.add",e,{type:"POST",success:t,error:n,dataType:"json quicklaunch",converters:{"json quicklaunch":function(e){return i.model(e.data)}}})},destroy:function(e,t,n){return this.api("quicklaunch.delete",{item:e.uuid,type:e.type},{type:"POST",success:function(){$.event.trigger("destroyed",e,Lib.Models.QuickLaunch,!0),"function"==typeof t&&t()},error:n})},update:function(e,t,n,i){return this.api("quicklaunch.changeType",{item:e,type:t.type},{type:"POST",success:n,error:i})}},{destroy:function(e,t){this.Class.destroy(this,e,t)},isSite:function(){return!this.item.attr("app_name")&&this.item.attr("link")},markForRemoval:function(){this.removed=!0},unmarkForRemoval:function(){this.removed=!1},getAppName:function(){return this.item.app_name},getData:function(e){return!!this.item.extended_data&&(e?this.item.extended_data[e]||!1:this.item.extended_data)},getDeepLink:function(){var e=this.getData("view")||this.getData("source");return e?this.item.app_name+"|"+e:this.item.app_name},getIconKey:function(){return this.item.name.substring(4)}}),Frog.Model.extend("Lib.Models.QuickLaunch.Weblink",{attributes:{uuid:"uuid",name:"string",url:"string",icon:"string",is_quicklink:"boolean",mine:"boolean",open_in_new_tab:"boolean",type:"string"},defaults:{name:"",open_in_new_tab:!0,format:"weblink",type:"personal"},_manipulateURL:function(e){var t=e;return 0!==e.search(/^http(s)?\\:\\/\\//)&&(t=0===e.indexOf("//")?"http:"+e:"http://"+e),t},create:function(e,t,n){return e.url=this._manipulateURL(e.url),this.api("quicklaunchlink.add",e,{type:"POST",dataType:"json quicklaunchlink",converters:{"json quicklaunchlink":function(e){return Lib.Models.QuickLaunch.model(e.data)}},success:t,error:n})},update:function(e,t,n,i){return t.url=this._manipulateURL(t.url),this.api("quicklaunchlink.update",t,{type:"POST",dataType:"json quicklaunchlink",converters:{"json quicklaunchlink":function(e){return e.data}},success:n,error:i})},destroy:function(e,t,n){return this.api("quicklaunchlink.delete",{uuid:e},{type:"POST",success:t,error:n})}},{getName:function(){return this.name||""},getUrl:function(){return this.url||""},getIcon:function(){return this.icon||""}}),Frog.Model.extend("Lib.Models.QuickLaunch.Site",{attributes:{alias:"string",created:"date",description:"string",external_url:"uuid",icon:"string",is_dashboard:"boolean",is_external:"boolean",is_template:"boolean",link:"string",name:"string",num_favs:"number",permission:"string",theme_uuid:"uuid",type:"string",lastUpdated:"date"}},{getLink:function(){return this.link}}),Frog.Model.extend("Lib.Models.QuickLaunch.Dashboard",{attributes:{app_name:"string",extended_data:"Lib.Models.QuickLaunch.Dashboard.Data.model",menu_quick:"boolean",menu_resource:"boolean",name:"string",role_name:"string"}},{setup:function(e){e.extended_data={},"school_dashboard"===e.alias?e.extended_data.view="schooldashboard":"timeline_dashboard"===e.alias?e.extended_data.view="timeline":"my_dashboard"===e.alias&&(e.extended_data.view="mydashboard"),this._super(e)}}),Frog.Model.extend("Lib.Models.QuickLaunch.Dashboard.Data",{attributes:{dashboard:"boolean",type:"string"}}),Frog.Model.extend("Lib.Models.QuickLaunch.External",{attributes:{app_name:"string",extended_data:"Lib.Models.QuickLaunch.External.Data.model",menu_quick:"boolean",menu_resource:"boolean",name:"string",role_name:"string"}}),Frog.Model.extend("Lib.Models.QuickLaunch.External.Data",{attributes:{external:"boolean",source:"string"}}),Frog.Model.extend("Lib.Models.QuickLaunch.AppLink",{attributes:{app_name:"string",extended_data:"object",menu_quick:"boolean",menu_resource:"boolean",name:"string",role_name:"string",running:"boolean"}}),Frog.Model.extend("Lib.Models.QuickLaunch.MalaysiaSite",{attributes:{app_name:"string",extended_data:"Lib.Models.QuickLaunch.MalaysiaSite.Data.model",menu_quick:"boolean",menu_resource:"boolean",name:"string",role_name:"string"}},{getLink:function(){return this.extended_data.link}}),Frog.Model.extend("Lib.Models.QuickLaunch.MalaysiaSite.Data",{attributes:{link:"string"}}),Frog.Model.List.extend("Lib.Models.QuickLaunch.List",{},{removeMarked:function(){var e,t=this,n=[];return this.match("removed",!0).each(function(){e=this.attr("is_quicklink")?this.attr("item"):this,t.remove(this),n.push(e.destroy(e))}),$.when.apply($,n)},unmarkRemovals:function(){this.match("removed",!0).each(function(){this.attr("removed",!1)})}});',address:e.uri}),t.global.require=n,t.global.define=i,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/resourcelist_model*/
define("lib/models/resourcelist_model",["module","@loader","require"],function(e,r,o){r.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var t=r.global.define,o=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.ResourceList",{attributes:{resources:null,folders:null,errors:null},_sendData:function(e){var r={sources:["native"],type:["personal","staff"],authors:!0,limit:50};return e&&"folders"===e.type&&(e.type="personal"),$.extend(r,e)},_responseData:function(e,r,t){var o,a=this;if(e.data){var s,d="",n="",i="",l={},u="null";if(e.data.folder&&e.data.folder.parent_uuid&&(u=e.data.folder.parent_uuid),e.data.folder&&e.data.folder.share_data&&((s=$.extend(!0,{},e.data.folder.share_data)).is_root="0"),e.data.resources){d=e.data.resources;for(var f in d)"frogcode"===d[f].type?d[f]=new Lib.Models.Resource.Report(d[f]):"native"===d[f].source?d[f]=new Lib.Models.Resource(d[f]):"site"===d[f].object_type?d[f]=new Resources.Models.Site(d[f]):void 0!==d[f].object_type&&"link_resource"===d[f].object_type?d[f]=new Lib.Models.Resource.Remote(d[f]):d[f]=new Lib.Models.ExternalResource(d[f]),!d[f].share_data&&s&&(d[f].share_data=s),t&&(d[f].root_uuid=t)}if(e.data.folders){n=e.data.folders;for(var c in n)n[c]=new Lib.Models.Folder(n[c]),!0===r&&n[c].attr("parent_uuid","null"),t&&(n[c].root_uuid=t),c!==Lib.Models.Folder.STAFFDOCUMENTS&&c!==Lib.Models.Folder.LESSONRESOURCES||(n[c].pinnedTop=!0),n[c].pinned=!0}return e.data.sites&&e.data.sites.forEach(function(e,r){l[r]=new Resources.Model.Site(l[r]),t&&(l[r].root_uuid=t)}),"string"==typeof e.data.folder?i=e.data.folder:"object"==typeof e.data.folder&&(i=e.data.folder&&e.data.folder.external_id?new Lib.Models.ExternalResource(e.data.folder):new Lib.Models.Folder(e.data.folder)),o=void 0!==e.data.more?e.data.more:null,new a({resources:d,folders:n,folder:i,parent_uuid:u,errors:d=e.data.errors,more:o})}},findAll:function(e,r,t){var o=this,a=e.root_folder||null;return this.api("resources.getOfType",this._sendData(e),{type:"GET",dataType:"json resourceList",converters:{"json resourceList":function(e){return o._responseData(e,!1,a)}}})},findByExternalId:function(e,r,t){return this.api("resourcesExternal.getByExternalId",this._sendData(e),{type:"GET",dataType:"json resourceList",converters:{"json resourceList":function(e){return new Lib.Models.ExternalResource(e.data)}}})},findShared:function(e,r,t){var o=this,a=e.root_folder||null,s=this._sendData(e);return delete s.type,this.api("resources.getSharedWithMe",s,{type:"GET",dataType:"json resourceList",converters:{"json resourceList":function(r){return o._responseData(r,e.folder===a,a)}}})},getAllowedFileTypes:function(){var e=$.Deferred(),r=function(e){var r,t=[];for(r in e)!0===e[r]&&t.push(r);return t};return Lib.Models.ProfilePreferences.findOne({alias:"allowed_file_types"}).done(function(t){var o;t=JSON.parse(t),o=[].concat(r(t.imageTypes),r(t.videoTypes),r(t.audioTypes),r(t.genericTypes),r(t.customTypes)),e.resolve(o)}.bind(this)).fail(function(){e.reject([])}),e.promise()}},{});',address:e.uri}),r.global.require=o,r.global.define=t,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/systempreferences/abstract_model*/
define("lib/models/systempreferences/abstract_model",["module","@loader","require"],function(e,r,t){r.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var n=r.global.define,t=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.SystemPreferencesAbstract",{_apiAllowedPreferences:[],_trimPreferencePrefix:function(e,r){var t={};r+=".";for(var n in e)e.hasOwnProperty(n)&&0===n.search(r)&&(t[n.replace(r,"")]=e[n]);return t},_createKeyValueArray:function(e,r){var t=[];for(var n in e)e.hasOwnProperty(n)&&$.inArray(n,this._apiAllowedPreferences)>-1&&(t[t.length]={alias:r+"."+n,value:e[n]});return t},findOne:function(){var e=this;return this.api("systempreferences.getAll",{},{type:"GET",dataType:"json SystemPreferences",converters:{"json SystemPreferences":function(r){var t,n;return n=e.defaults.id,t=e._trimPreferencePrefix(r.data,n),e.model(t)}}})},update:function(e,r,t,n){var s=this.defaults.id;return this.api("systempreferences.setMultiple",{keys:this._createKeyValueArray(r,s)},{type:"POST",dataType:"json bool",converters:{"json bool":function(e){return e.data}},success:t,error:n})}},{});',address:e.uri}),r.global.require=t,r.global.define=n,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/systempreferences/ad_model*/
define("lib/models/systempreferences/ad_model",["module","@loader","require"],function(e,r,o){r.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var n=r.global.define,o=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Lib.Models.SystemPreferencesAbstract.extend("Lib.Models.SystemPreferencesAd",{id:"id",attributes:{primary_domain_controller:"string",secondary_domain_controller:"string",dns:"string",username:"string",password:"string"},defaults:{id:"ad"},_apiAllowedPreferences:["primary_domain_controller","secondary_domain_controller","dns"],testConnection:function(r){return this.api("ldap.testConnection",r,{type:"GET",dataType:"json bool",converters:{"json bool":function(r){return r.data}}})}},{testConnection:function(){var r={primaryDomainController:this.attr("primary_domain_controller"),secondaryDomainController:this.attr("secondary_domain_controller"),dnsName:this.attr("dns"),username:this.attr("username"),password:this.attr("password")};return this.Class.testConnection(r)}});',address:e.uri}),r.global.require=o,r.global.define=n,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/systempreferences/adfs_model*/
define("lib/models/systempreferences/adfs_model",["module","@loader","require"],function(e,o,r){o.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var t=o.global.define,r=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:'Lib.Models.SystemPreferencesAbstract.extend("Lib.Models.SystemPreferencesAdfs",{id:"id",attributes:{hostname:"string",enabled:"frogboolean"},defaults:{id:"adfs"},_apiAllowedPreferences:["hostname","enabled"],testConnection:function(e){return this.api("adfs.writeConfig",{url:e},{type:"POST",dataType:"json bool",converters:{"json bool":function(e){return e.data}}})}},{testConnection:function(){return this.Class.testConnection(this.attr("hostname"))}});',address:e.uri}),o.global.require=r,o.global.define=t,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/systempreferences/format_model*/
define("lib/models/systempreferences/format_model",["module","@loader","require"],function(e,r,t){r.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var l=r.global.define,t=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Lib.Models.SystemPreferencesAbstract.extend("Lib.Models.SystemPreferences.Format",{id:"id",attributes:{"date.long":"string","date.short":"string","datetime.long":"string","datetime.short":"string",time:"string"},defaults:{id:"format"},_apiAllowedPreferences:["date.long","date.short","datetime.long","datetime.short","time"]},{});',address:e.uri}),r.global.require=t,r.global.define=l,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/systempreferences/googlesso_model*/
define("lib/models/systempreferences/googlesso_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Lib.Models.SystemPreferencesAbstract.extend("Lib.Models.SystemPreferencesGooglesso",{id:"id",attributes:{enabled:"frogboolean",domain:"string",public_key:"string"},defaults:{id:"googlesso",public_key:""},_apiAllowedPreferences:["enabled","domain"]},{setup:function(e){e.enabled=e.enabled||null,e.domain=e.domain||null,this._super(e)}});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/systempreferences/googledrive_model*/
define("lib/models/systempreferences/googledrive_model",["module","@loader","require"],function(e,l,i){l.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var r=l.global.define,i=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Lib.Models.SystemPreferencesAbstract.extend("Lib.Models.SystemPreferencesGoogledrive",{id:"id",attributes:{enabled:"frogboolean",clientid:"string",clientsecret:"string"},defaults:{id:"googledrive",clientid:"",clientsecret:""},_apiAllowedPreferences:["enabled","clientid","clientsecret"]},{setup:function(e){e.enabled=e.enabled||!1,e.clientid=e.clientid||"",e.clientsecret=e.clientsecret||"",this._super(e)}});',address:e.uri}),l.global.require=i,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/systempreferences/onedrivebusiness_model*/
define("lib/models/systempreferences/onedrivebusiness_model",["module","@loader","require"],function(e,i,l){i.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var r=i.global.define,l=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'Lib.Models.SystemPreferencesAbstract.extend("Lib.Models.SystemPreferencesOneDriveBusiness",{id:"id",attributes:{enabled:"frogboolean",clientid:"string",clientsecret:"string"},defaults:{id:"onedrivebusiness",enabled:!1,clientid:"",clientsecret:""},_apiAllowedPreferences:["enabled","tenantid","clientid","clientsecret"]},{setup:function(e){e.enabled=e.enabled||!1,e.clientid=e.clientid||"",e.clientsecret=e.clientsecret||"",this._super(e)}});',address:e.uri}),i.global.require=l,i.global.define=r,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/systempreferences/outlook_model*/
define("lib/models/systempreferences/outlook_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Lib.Models.SystemPreferencesAbstract.extend("Lib.Models.SystemPreferencesOutlook",{id:"id",attributes:{url:"string",enabled:"frogboolean"},defaults:{id:"outlook"},_apiAllowedPreferences:["url","enabled"],init:function(){this.validate("url",function(e){if(!Frog.Utilities.Validate.url(e,["https"],!0))return"notice.office365.outlook_connection_error"})}},{});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/systempreferences/timeline_model*/
define("lib/models/systempreferences/timeline_model",["module","@loader","require"],function(e,l,r){l.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var i=l.global.define,r=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Lib.Models.SystemPreferencesAbstract.extend("Lib.Models.SystemPreferencesTimeline",{id:"id",attributes:{poll:"number"},defaults:{id:"timeline"},_apiAllowedPreferences:["poll"]},{setPoll:function(e){return Math.floor(parseInt(e,10))}});',address:e.uri}),l.global.require=r,l.global.define=i,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/systempreferences/dashboards_model*/
define("lib/models/systempreferences/dashboards_model",["module","@loader","require"],function(e,l,r){l.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var d=l.global.define,r=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Lib.Models.SystemPreferencesAbstract.extend("Lib.Models.SystemPreferencesDashboards",{id:"id",attributes:{lazyload:"boolean"},defaults:{id:"dashboards"}},{});',address:e.uri}),l.global.require=r,l.global.define=d,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/systempreferences/models*/
define("lib/models/systempreferences/models",["lib/models/systempreferences/abstract_model","lib/models/systempreferences/ad_model","lib/models/systempreferences/adfs_model","lib/models/systempreferences/format_model","lib/models/systempreferences/googlesso_model","lib/models/systempreferences/googledrive_model","lib/models/systempreferences/onedrivebusiness_model","lib/models/systempreferences/outlook_model","lib/models/systempreferences/timeline_model","lib/models/systempreferences/dashboards_model"]);
/*lib/models/userpreferences_model*/
define("lib/models/userpreferences_model",["module","@loader","require"],function(e,r,s){r.get("@@global-helpers").prepareGlobal({require:s,name:e.id,deps:[]});var t=r.global.define,s=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.UserPreferences",{get:function(e){if("string"!=typeof e)throw"Alias must be a string";return this.api("preferencesuser.get",{alias:e},{type:"GET",dataType:"json userprefs",converters:{"json userprefs":function(e){return e.data}}})},getMultiple:function(e){return this.api("preferencesuser.getMultiple",{keys:e},{type:"GET",dataType:"json userprefs",converters:{"json userprefs":function(e){return e.data}}})},set:function(e,r){if("string"!=typeof e)throw"Alias must be a string";if(null!==r&&"string"!=typeof r)throw"Value must be null or a string";return this.api("preferencesuser.set",{alias:e,value:r},{type:"POST",dataType:"json userPrefsSetSuccess",converters:{"json userPrefsSetSuccess":function(e){return e.data}}})}},{});',address:e.uri}),r.global.require=s,r.global.define=t,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/timetable_model*/
define("lib/models/timetable_model",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var o=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Timetable",{attributes:{weeks:"Lib.Models.Timetable.Week.models",user:"Lib.Models.User.model"},findAll:function(e){var t=this;return e=$.extend({limit:1,offset:0,week_starts_on:1},e),this.api("timetables.getTimetable",e,{type:"GET",dataType:"json timetable",converters:{"json timetable":function(e){return t.models(e.data)}}})}},{}),Frog.Model.extend("Lib.Models.Timetable.Week",{attributes:{days:"Lib.Models.Timetable.Day.models",end_time:"moment",start_time:"moment"}},{}),Frog.Model.extend("Lib.Models.Timetable.Day",{counter:0,attributes:{end_time:"moment",name:"string",periods:"Lib.Models.Timetable.Period.models",start_time:"moment"},id:"id"},{setup:function(e){this._super(e),(!e||e&&!e.id)&&(this.id=this.Class.counter),this.Class.counter++}}),Frog.Model.extend("Lib.Models.Timetable.Period",{attributes:{end_time:"moment",name:"string",room:"string",subject:"string",start_time:"moment",teacher:"Lib.Models.User.model"}},{});',address:e.uri}),t.global.require=i,t.global.define=o,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/tour_model*/
define("lib/models/tour_model",["module","@loader","require"],function(e,r,t){r.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var o=r.global.define,t=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.Tour",{id:"name",attributes:{name:"string",steps:"Lib.Models.Tour.Step.models"},viewed_tours:{},cache:{},findOne:function(e,t){var r=this;if(!e||!t)throw new TypeError("Must provide an app name and a tour name");return/\\.js$/.test(t)||(t+=".js"),void 0!==this.cache[t]?$.Deferred().resolve(this.cache[t]):$.Deferred(function(o){steal.import(e+"/tours/"+t,function(){r.cache[t]=tour,o.resolve(new Lib.Models.Tour($.extend({app_name:e},tour))),window.tour=void 0})})},setTours:function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r].tour]=e[r]);this.viewed_tours=t},getTours:function(e){return e?this.viewed_tours[e]||null:this.viewed_tours},setViewed:function(e){return this.api("tours.setviewed",e,{type:"POST"})}},{setup:function(e){var t=this;$.each(e.steps,function(e,r){r.popup.content=t.Class._(r.popup.content,[])}),this._super(e)}}),Frog.Model.extend("Lib.Models.Tour.Step",{attributes:{wrapper:"string",popup:"mixed"}},{});',address:e.uri}),r.global.require=t,r.global.define=o,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/widgets_model*/
define("lib/models/widgets_model",["module","@loader","require"],function(e,i,t){i.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var l=i.global.define,t=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'Frog.Model.extend("Lib.Models.Widgets",{cache:null,findAll:function(t){var e=this;return this.cache?$.Deferred().resolve(this.cache):this.api("widgets.getAll",{},{dataType:"json widget",converters:{"json widget":function(t){return e.cache=e.models(t.data),e.cache}}})}},{isActivity:function(){return!!this.is_activity},getIconpath:function(){return"sites/widget/"+this.uuid+"/icon.png"}});',address:e.uri}),i.global.require=t,i.global.define=l,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/linkeddocuments_model*/
define("lib/models/linkeddocuments_model",["module","@loader","require"],function(t,e,n){e.get("@@global-helpers").prepareGlobal({require:n,name:t.id,deps:[]});var i=e.global.define,n=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'Frog.Model.extend("Lib.Models.LinkedDocuments",{id:"uuid",attributes:{category_uuid:"string",date_created_external:"moment",date_uploaded_initial:"moment",date_uploaded_last:"moment",date_viewed_last:"moment",description:"string",external_id:"string",resource:"Lib.Models.Resource.model",is_active:"frogboolean",name:"string",path:"string",user_uuid:"string",uuid:"string",view_count:"number"},findAll:function(t){var e=this;return t||(t={}),this.api("linkeddocuments.search",t,{type:"GET",dataType:"json linkeddocs",converters:{"json linkeddocs":function(t){return e.models(t.data)}}})},activate:function(t){return this.api("linkeddocuments.activate",{documents:[t]},{type:"POST",dataType:"json linkeddocs",converters:{"json linkeddocs":function(t){return t.data}}})},deactivate:function(t){return this.api("linkeddocuments.deactivate",{documents:[t]},{type:"POST",dataType:"json linkeddocs",converters:{"json linkeddocs":function(t){return t.data}}})}},{activate:function(){return this.Class.activate(this.uuid)},deactivate:function(){return this.Class.deactivate(this.uuid)},getExtension:function(){var t;if(this.path&&(t=this.path.split(".")).length>1)return t.pop()}}),Frog.Model.List.extend("Lib.Models.LinkedDocuments.List",{activate:function(t){return this.api("linkeddocuments.activate",{documents:t},{type:"POST",dataType:"json linkeddocs",converters:{"json linkeddocs":function(t){return t.data}}})},deactivate:function(t){return this.api("linkeddocuments.deactivate",{documents:t},{type:"POST",dataType:"json linkeddocs",converters:{"json linkeddocs":function(t){return t.data}}})},activateAll:function(){return this.api("linkeddocuments.toggleAll",{activate:!0},{type:"POST",dataType:"json linkeddocs",converters:{"json linkeddocs":function(t){return t.data}}})},deactivateAll:function(){return this.api("linkeddocuments.toggleAll",{activate:!1},{type:"POST",dataType:"json linkeddocs",converters:{"json linkeddocs":function(t){return t.data}}})}},{activate:function(){var t=this.grep(function(t){return!0===t.selected}),e=t.map(function(t){return t.uuid});return this.Class.activate(e).done(function(e){t.each(function(t,n){e[n.attr("uuid")]&&n.attr("is_active",!0)})})},deactivate:function(){var t=this.grep(function(t){return!0===t.selected}),e=t.map(function(t){return t.uuid});return this.Class.deactivate(e).done(function(e){t.each(function(t,n){e[n.attr("uuid")]&&n.attr("is_active",!1)})})},activateAll:function(){var t=this;return this.Class.activateAll().done(function(){t.each(function(t,e){e.attr("is_active",!0)})})},deactivateAll:function(){var t=this;return this.Class.deactivateAll().done(function(){t.each(function(t,e){e.attr("is_active",!1)})})}});',address:t.uri}),e.global.require=n,e.global.define=i,e.get("@@global-helpers").retrieveGlobal(t.id,void 0)});
/*lib/models/linkeddocumentcategories_model*/
define("lib/models/linkeddocumentcategories_model",["module","@loader","require"],function(e,o,n){o.get("@@global-helpers").prepareGlobal({require:n,name:e.id,deps:[]});var i=o.global.define,n=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:'Frog.Model.extend("Lib.Models.LinkedDocumentCategories",{id:"uuid",attributes:{uuid:"string",name:"string",other_can_view:"frogboolean",parent_can_view:"frogboolean",student_can_view:"frogboolean",teacher_can_view:"frogboolean"},findAll:function(e){var n=this;return e||(e={}),this.api("linkeddocumentcategories.search",e,{type:"GET",dataType:"json linkeddocs",converters:{"json linkeddocs":function(e){return n.models(e.data)}}})},updateAccess:function(e,n,t){var o=this,i={};return i[e]={},i[e][n+"_can_view"]=t,this.api("linkeddocumentcategories.update",{data:i},{type:"POST",dataType:"json linkeddocs",converters:{"json linkeddocs":function(e){return o.models(e.data)}}})}},{isSelected:function(e){return this[e.name.toLowerCase()+"_can_view"]}});',address:e.uri}),o.global.require=n,o.global.define=i,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/curriculum/learning_objective_resource_model*/
define("lib/models/curriculum/learning_objective_resource_model",["module","@loader","require"],function(e,r,i){r.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var t=r.global.define,i=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.Curriculum.LearningObjectiveResource",{attributes:{exemplar:"Lib.Models.Curriculum.LearningLockerResource.models",core:"Lib.Models.Curriculum.LearningLockerResource.models",extension:"Lib.Models.Curriculum.LearningLockerResource.models",teaching:"Lib.Models.Curriculum.LearningLockerResource.models",test:"Lib.Models.Curriculum.LearningLockerResource.models",practice:"Lib.Models.Curriculum.LearningLockerResource.models",lesson:"Lib.Models.Curriculum.LearningLockerResource.models"},findAll:function(e,i,r){var t=this;return this.api("learninglocker.get",e,{type:"GET",dataType:"json lesson_objective_resources",converters:{"json lesson_objective_resources":function(e){var i=new t({core:[],exemplar:[],extension:[],teaching:[],test:[],practice:[],lesson:[]}),r=function(e){return e.uuid=Frog.Utilities.generateSimpleId(),new Lib.Models.Curriculum.LearningLockerResource(e)};for(var s in t.attributes)if(t.attributes.hasOwnProperty(s)&&e.data[s])for(var o=0;o<e.data[s].length;o++)e.data.recommended_resources&&e.data.recommended_resources.indexOf(e.data[s][o].resource.uuid)>-1?e.data[s][o].ial_mapped=!0:e.data[s][o].ial_mapped=!1,"ialvideo"===e.data[s][o].type?e.data[s][o].resource.video_src&&e.data[s][o].resource.video_title&&i[s].push(r({resource:{external_url:e.data[s][o].resource.video_src,name:e.data[s][o].resource.video_title,source:"iamlearning",ial_mapped:!0,mimeType:"video/quizvideo",uuid:e.data[s][o].resource.uuid,video_id:e.data[s][o].resource.video_id,type:"quizvideo",attachment:{file:{mime:{ext:"video"}}}},type:"video",notes:e.data[s][o].notes})):i[s].push(r(e.data[s][o]));if(e.data.quiz)for(var u=0;u<e.data.quiz.length;u++){e.data.quiz[u].type="quiz",e.data.quiz[u].id=parseInt(e.data.quiz[u].id,10);var a=r({});a.resource=e.data.quiz[u],a.type="quiz",a.source="ial_mapped",i.core.push(a)}return i}}})},getIcons:function(){return this.api("learninglocker.geticons",{},{type:"GET",dataType:"json"})},create:function(e,i,r){var t=this;return this.api("learninglocker.update",e,{type:"POST",dataType:"json lesson_objective_resources",converters:{"json lesson_objective_resources":function(e){return t.model(e.data)}},success:i,error:r})}},{update:function(e,i,r){var t={uuid:e.uuid,manifest:{added:null,removed:null,notes:null,teaching_notes:e.teaching_notes||""}},s=[],o=[],u=[],a=[],n=this;for(var d in this)if(this.hasOwnProperty(d))for(var c in this[d]){if("create"===this[d][c].action){l={overlay_path:this[d][c].overlay_path,notes:this[d][c].notes,type:d};this[d][c].resource?this[d][c].resource.hasOwnProperty("uuid")?l.uuid=this[d][c].resource.uuid:this[d][c].resource.hasOwnProperty("src")?(l.uuid=this[d][c].resource.id,l.external_resource_type="ialvideo"):this[d][c].resource.hasOwnProperty("id")&&(l.uuid=this[d][c].resource.id,l.external_resource_type="quiz"):this[d][c].hasOwnProperty("uuid")?l.uuid=this[d][c].uuid:this[d][c].hasOwnProperty("src")?(l.uuid=this[d][c].src,l.external_resource_type="ialvideo"):this[d][c].hasOwnProperty("id")&&(l.uuid=this[d][c].id,l.external_resource_type="quiz"),s.push(l)}if("approved"===this[d][c].action&&u.push({uuid:this[d][c].resource.uuid,type:d}),"delete"===this[d][c].action){var l={type:d};"quiz"===this[d][c].type?(l.uuid=this[d][c].resource.id,l.external_resource_type="quiz"):"video"===this[d][c].type&&"video/quizvideo"===this[d][c].resource.mimeType?(l.uuid=this[d][c].resource.external_url,l.external_resource_type="ialvideo"):l.uuid=this[d][c].resource.uuid,o.push(l);break}if(!0===this[d][c].notes_action){"quiz"===this[d][c].type?a.push({uuid:this[d][c].resource.id,notes:this[d][c].notes,type:d,external_resource_type:"quiz"}):"video"===this[d][c].type&&"video/quizvideo"===this[d][c].resource.mimeType?a.push({uuid:this[d][c].resource.id,notes:this[d][c].notes,type:d,external_resource_type:"quizvideo"}):(void 0===this[d][c].is_external||void 0!==this[d][c].is_external&&!this[d][c].is_external)&&a.push({uuid:this[d][c].resource.uuid,notes:this[d][c].notes,type:d}),this[d][c].notes_action=null}this[d][c].action=null}return t.manifest.added=s,t.manifest.removed=o,t.manifest.approved=u,t.manifest.notes=a,this.Class.create(t).done(function(){o.forEach(function(e,i,r){for(var i in n)n.hasOwnProperty(i)&&n[i].remove(e)})})}});',address:e.uri}),r.global.require=i,r.global.define=t,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/share_model*/
define("lib/models/share_model",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var s=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Share",{attributes:{target:"string",identities:"Frog.Model.models",company:"string"},defaults:{identities:new Frog.Model.List},init:function(){},findOne:function(e){return e=e||{},this.api("share.getList",e,{dataType:"json share",converters:{"json share":function(t){var i={target:e.target,identities:new Frog.Model.List};for(var s in t.data)for(var n in t.data[s]){if("user"===s)i.identities.push(new Lib.Models.User(t.data[s][n].identity));else if("group"===s)i.identities.push(new Lib.Models.Group(t.data[s][n].identity));else if("company"===s){i.company=t.data[s][n].permission;continue}i.identities[i.identities.length-1].attr("permission",t.data[s][n].permission)}return Lib.Models.Share.model(i)}}})},create:function(e,t,i){var s={target:e.target,permissions:this._getPermissions(e)};return this.api("share.set",s,{type:"POST",success:t,error:i})},update:function(e,t,i,s){var n={target:t.target,permissions:this._getPermissions(t)};return this.api("share.set",n,{type:"POST",success:i,error:s})},getPermissions:function(e){var t={target:e.target};return this.api("share.get",t,{type:"GET",dataType:"json getpermissions",converters:{"json getpermissions":function(e){return e.data}}})},containsShare:function(e){var t={target:e.target};return this.api("share.containsshare",t,{type:"GET",dataType:"json containsshare",converters:{"json containsshare":function(e){return e.data}}})},_getPermissions:function(e){var t={};e.company&&(t.company=e.company);for(var i=0,s=e.identities.length;i<s;i++)t[e.identities[i].uuid]=e.identities[i].permission;return $.isEmptyObject(t)?"none":t}},{});',address:e.uri}),t.global.require=i,t.global.define=s,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/orgips_model*/
define("lib/models/orgips_model",["module","@loader","require"],function(e,o,t){o.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var r=o.global.define,t=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:'Frog.Model.extend("Lib.Models.OrgIps",{options:{nt_access:!1},set:function(t){for(var o in t)t.hasOwnProperty(o)&&(this.options[o]=t[o]);t&&t.language&&this.setLibraryLocale(t.language)},get:function(t){return t?this.options[t]:this.options},validateIp:function(){return this.api("orgips.validateIp",{},{dataType:"json orgips",converters:{"json orgips":function(t){return Lib.Models.OrgIps.model(t)}}})},updateIpStatus:function(){return this.api("orgips.updateIpStatus",{},{dataType:"json orgips",converters:{"json orgips":function(t){return Lib.Models.OrgIps.model(t)}}})}},{});',address:e.uri}),o.global.require=t,o.global.define=r,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/extendeddata_model*/
define("lib/models/extendeddata_model",["module","@loader","require"],function(e,i,t){i.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var r=i.global.define,t=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'Lib.Models.Abstract.Fdp.extend("Lib.Models.Extendeddata",{attributes:{definition_uuid:"string",category_uuid:"string",label:"string",type:"string",options:"string"},items:["sen","eal","is_gifted","pupil_premium","fsm","is_service_child","in_care","is_traveller","core_pupil","ethnicity","gender"],findAll:function(e){var t=this;return this.api({url:"user/extendeddata/getFilters",path:"../api/fdp/2/",type:"GET",data:e,dataType:"json extendeddata",converters:{"json extendeddata":function(e){var i=[];return e.response.forEach(function(e){e.definitions.forEach(function(e){$.inArray(e.label,t.items)>-1&&i.push(e)})}),i.sort(function(e,i){return t.items.indexOf(e.label)>t.items.indexOf(i.label)?1:-1}),t.models(i)}}})}},{});',address:e.uri}),i.global.require=t,i.global.define=r,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/form_model*/
define("lib/models/form_model",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var n=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Form",{id:"uuid",attributes:{uuid:"uuid",site_uuid:"string",name:"string",type:"string",description:"string",created_on:"bloop",updated_on:"bloop",label_align:"string",fields:"Lib.Models.Form.Element.models",author:"Lib.Models.User.model",rows:"object",title_hidden:"boolean",description_hidden:"boolean"},convert:{bloop:function(e){return new Date(1e3*e)}},destroy:function(e,t,i){return this.api("form.delete",{uuid:e},{type:"POST",success:t,error:i})},create:function(e,t,i){var n=$.extend(!0,{},e);return n.available_profiles=JSON.stringify(n.available_profiles),n.fields=JSON.stringify(n.fields),n.rows=JSON.stringify(n.rows),this.api("form.create",n,{type:"POST",success:t,error:i})},update:function(e,t,i,n){var s=$.extend(!0,{},t);return s.available_profiles=JSON.stringify(s.available_profiles),s.fields=JSON.stringify(s.fields),s.rows=JSON.stringify(s.rows),this.api("form.update",s,{type:"POST",success:i,error:n})},hasData:function(e){return this.api("form.hasData",{uuid:e},{dataType:"json forms",converters:{"json forms":function(e){return e}}})},searchForms:function(e){return this.api("form.search",e,{type:"get",dataType:"json formsresult",converters:{"json formsresult":function(e){return Lib.Models.Form.models(e.data)}}})},findAll:function(e){return this.api("form.search",e,{type:"get",dataType:"json forms",converters:{"json forms":function(e){return Lib.Models.Form.models(e.data)}}})},findOne:function(e,t){return this.api("form.get",{uuid:e,summary:t?"true":"false"},{dataType:"json form",converters:{"json form":function(e){for(var t=0;t<e.data.fields.length;t++)e.data.fields[t].elementAttributes=e.data.fields[t].attrs,delete e.data.fields[t].attrs;return Lib.Models.Form.model(e.data)}}})},duplicate:function(e){return this.api("form.duplicate",e,{type:"POST",dataType:"json form",converters:{"json form":function(e){return Lib.Models.Form.model(e.data)}}})},findAvailableProfiles:function(){return this.api("form.getAvailableProfiles",null,{type:"get",dataType:"json forms",converters:{"json forms":function(e){return Lib.Models.Form.models(e.data)}}})}},{getUuid:function(){return this.uuid},getSiteUuid:function(){return this.site_uuid},getName:function(){return this.name},getDescription:function(){return this.description},getType:function(){return this.type},getCreated:function(){return this.created_on},getUpdated:function(){return this.updated_on},getElements:function(){return this.fields.sort(function(e,t){return e.sequence-t.sequence})},getLabelAlign:function(){return this.label_align},getRows:function(){return $.map(this.rows,function(e,t){return[e]}).sort(function(e,t){return e.order-t.order})},getTitleHidden:function(){return this.title_hidden},getDescriptionHidden:function(){return this.description_hidden},setName:function(e){this.name=e},setSiteUuid:function(e){this.site_uuid=e},setDescription:function(e){this.description=e},setUuid:function(e){this.uuid=e},setLabelAlign:function(e){this.label_align=e},setRows:function(e){this.rows=e},setTitleHidden:function(e){this.title_hidden=e},setDescriptionHidden:function(e){this.description_hidden=e},addField:function(e){this.fields.push(e)},removeField:function(e){var t=$.inArray(e,this.fields);-1!==t&&this.fields.splice(t,1)}}),Frog.Model.extend("Lib.Models.Form.Element",{id:"uuid",attributes:{uuid:"string",label:"string",description:"string",hint:"string",type:"string",required:"boolean",value:"string",elementAttributes:"Lib.Models.Form.Element.Attribute.models",options:"Lib.Models.Form.Element.Option.models",sequence:"number",parentType:"string",hidden:"boolean",cell_uuid:"string",email_to_selected_user:"boolean",disabled:"boolean"},serialize:{value:function(e){return(e||"").toString()}}},{init:function(e){if(this.elementAttributes=Lib.Models.Form.Element.Attribute.models([]),e.elementAttributes&&e.elementAttributes.length)for(var t in e.elementAttributes)this.elementAttributes.push(Lib.Models.Form.Element.Attribute.model(e.elementAttributes[t]));if(this.label=e.label||this.Class._("draggable.label.default.label",null,"frogui"),this.parentType=e.parentType,"false"===e.required&&(this.required=!1),"true"==e.hidden?this.hidden=!0:this.hidden=!1,"true"==e.email_to_selected_user?this.email_to_selected_user=!0:this.email_to_selected_user=!1,!e.options||!e.options.length)switch(e.type){case"radio":case"select":this.addOption({label:this.Class._("draggable.label.option.default",null,"frogui"),sequence:0}),this.addOption({label:this.Class._("draggable.label.option.default",null,"frogui"),sequence:1});break;case"checkbox":this.addOption({label:this.Class._("draggable.label.option.default",null,"frogui"),sequence:0})}},getUuid:function(){return this.uuid},getLabel:function(){return this.label},getHint:function(){return this.hint},getDescription:function(){return this.description},getRequired:function(){return this.required},getType:function(){return this.type},getValue:function(){return this.value!==this.hint?this.value:""},getAttributes:function(){return this.elementAttributes},getSequence:function(){return this.sequence},getParentType:function(){return this.parentType},getHidden:function(){return this.hidden},getCellUuid:function(){return this.cell_uuid},getEmailSelectedUser:function(){return this.email_to_selected_user},setValue:function(e){return this.value=e},setLabel:function(e){this.label=e},setRequired:function(e){this.required=e},setDescription:function(e){this.description=e},setHint:function(e){this.hint=e},setSequence:function(e){this.sequence=e},setParentType:function(e){this.parentType=e},setHidden:function(e){this.hidden=e},setCellUuid:function(e){this.cell_uuid=e},setEmailSelectedUser:function(e){this.email_to_selected_user=e},validate:function(){return!!(!this.required||this.value&&this.value.length&&this.value!==this.hint&&""!==(""+this.value).replace(/\\s/g,""))},getOptions:function(){return this.options.sort(function(e,t){return Number(e.getSequence())-Number(t.getSequence())}),this.options},addOption:function(e){this.options.push(Lib.Models.Form.Element.Option.model(e))},removeOption:function(e){var t=$.inArray(e,this.options);-1!==t&&(this.options[t].destroy(),this.options.splice(t,1))},setAttribute:function(e,t){this.elementAttributes.get(e).length?this.elementAttributes.get(e)[0].setValue(t):this.elementAttributes.push(Lib.Models.Form.Element.Attribute.model({key:e,value:t}))},getAttribute:function(e){if(this.elementAttributes.get(e).length)return this.elementAttributes.get(e)[0].getValue()},getDisabled:function(){return this.disabled}}),Frog.Model.extend("Lib.Models.Form.Element.Option",{id:"uuid",attributes:{uuid:"string",value:"string",label:"string",selected:"boolean",sequence:"number"}},{getUuid:function(){return this.uuid},getValue:function(){return this.value},getLabel:function(){return this.label},getSelected:function(){return this.selected},getSequence:function(){return this.sequence},setUuid:function(e){this.uuid=e},setLabel:function(e){this.label=e},setSequence:function(e){this.sequence=e},setSelected:function(e){this.selected=e}}),Frog.Model.extend("Lib.Models.Form.Element.Attribute",{id:"attribute",attributes:{uuid:"string",attribute:"string",value:"string"}},{getUuid:function(){return this.uuid},getValue:function(){return this.value.toString()},getKey:function(){return this.attribute},setValue:function(e){this.value=e},setKey:function(e){this.attribute=e}});',address:e.uri}),t.global.require=i,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/mark_scheme_model*/
define("lib/models/mark_scheme_model",["module","@loader","require"],function(e,t,r){t.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var i=t.global.define,r=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.MarkScheme",{attributes:{uuid:"string",name:"string",handler_type:"string",status:"integer",data:"object"},model:function(t){var e=jQuery.extend({},t);return t={},t[this._shortName]=e,this._super(t)},api:function(t){var e={url:"markscheme/get",path:Frog.Utilities.getBaseUrl()+"/api/fdp/2/",type:"GET",dataType:"json markschemes",converters:{"json markschemes":function(t){return this.models(t.response)}.bind(this)}};return jQuery.extend(!0,e,t),this.fdpapi(e)},findAll:function(){return this.api()},findByStatus:function(t){return this.api({data:{status:t}})},findAllActive:function(){return this.api({data:{is_active:1}})}},{});',address:e.uri}),t.global.require=r,t.global.define=i,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/subject_model*/
define("lib/models/subject_model",["module","@loader","require"],function(e,t,o){t.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var s=t.global.define,o=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Subject",{findAll:function(t,e,s){return this.api("subjects.getAll",t,{type:"GET",dataType:"json subject",converters:{"json subject":function(t){return Lib.Models.Subject.models(t)}}})},findAllNotAssociated:function(t,e,s){return this.api("subjects.getAllNotAssociated",t,{type:"GET",dataType:"json subject",converters:{"json subject":function(t){return Lib.Models.Subject.models(t)}}})},findActive:function(t,e,s){return this.fdpapi({url:"studenttracker/getActiveSubjects",data:t,type:"GET",dataType:"json subject",converters:{"json subject":function(t){return $.each(t.response,function(t,e){e.subject=this.model(e)}.bind(this)),t.response}.bind(this)}})}},{});',address:e.uri}),t.global.require=o,t.global.define=s,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/quiz_model*/
define("lib/models/quiz_model",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var n=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Ial.Model.extend("Lib.Models.Quiz",{attributes:{token:"string",url:"string",session:"string",errors:"string",authenticated:"string",redirect:"string",static_url:"string"},getAuthentication:function(e,t,i,n){var s=this;return this.api("iamlearning.getToken",{mode:e},{dataType:"json quiz",converters:{"json quiz":function(e){return t&&(e.data.quiz_id=t),i&&(e.data.question_id=i),n&&(e.data.site_uuid=n),""===e.data.errors&&delete e.data.errors,s.model(e.data)}}})},duplicate:function(e){return this.api("iamlearning.duplicateQuiz",{quiz_id:e},{type:"POST",dataType:"json quiz",converters:{"json quiz":function(e){return e.data.id}}})},getQuizResult:function(e,t,i,n,s,r,u){return this.api("iamlearning.getQuizResult",{quiz_id:e,content_uuid:t,assignment_completed:i,assignment_uuid:n,clear_previous_results:s,target_user_uuid:r,ial_id:u},{type:"POST",dataType:"json quiz_result",converters:{"json quiz_result":function(e){return e.data}}})},removeTempAssignments:function(){return this.api("iamlearning.removeTempAssignments",{},{type:"POST",dataType:"json quiz_result",converters:{"json quiz_result":function(e){return e.data}}})},getAdvancedSettingsAlias:function(e){return"quiz-"+e},syncClass:function(e){return this.api("iamlearning.syncClass",{class_uuid:e},{type:"POST",dataType:"json quiz_result",converters:{"json quiz_result":function(e){return e.data}}})}},{getUrl:function(e,t,i,n,s,r,u,o,a,d){var c={},l={},h={edit:"id",player:"exercise",question_player:"exercise",preview:"exid",homework_showreport:"exid",homework_showreport_student:"exid",showreport:"exid",showreport_student:"exid",question_builder:"exid",session_live:"exercise"};return this.quiz_id&&(l[h[e]]=this.quiz_id),!(["player","question_player"].indexOf(e)>-1)||Os.Models.Environment.get("has_frogplay")&&t||(l.game=1),["player","question_player","preview"].indexOf(e)>-1&&t&&(l.content_uuid=t,d&&(l.homework_uuid=d)),["player","question_player"].indexOf(e)>-1&&i&&(l.end_options=i),["player","question_player"].indexOf(e)>-1&&r&&(l.is_embedded=r),"showreport_student"===e&&(l.qid=u,l.widget_content_uuid=t),"homework_showreport"!==e&&"homework_showreport_student"!==e||(l.homework_external_id=t,l.homework_user_uuid=n),"showvideo"===e&&(i.video_id&&(l.video_id=i.video_id),i.video_src&&(l.video_src=i.video_src),i.fullscreen&&(l.fullscreen=i.fullscreen)),i&&i.height&&(l.height=i.height),"advanced"===e&&(l.homework_external_id=t,l.quiz_ids=s.quiz_ids,l.assignment_name=s.name),this.question_id&&(l.q=this.question_id,o&&(l.view=!0)),"session_teacher_report"===e&&(l.fpl_id=a.session_id),this.site_uuid&&(l.site_uuid=this.site_uuid),a&&(l=$.extend(l,a)),c={key:this.session,token:this.token,redirect:this._addQueryParams(this.redirect,$.param(l)),frogplay_enabled:Os.Models.Environment.get("has_frogplay"),school_url:this.school_url,user_uuid:this.user,theme:5,is_beta:Os.Models.Environment.get("is_beta"),locale:Lib.Models.i18n.get("language"),play_feature_app:"home"!==e},this.url+"login.php?"+$.param(c)},_addQueryParams:function(e,t){return-1!==e.indexOf("?")?e+"&"+t:e+"?"+t}}),Ial.Model.extend("Lib.Models.Quiztags",{id:"uuid",attributes:{uuid:"uuid",name:"string",children:"Lib.Models.Quizcategory.models",keystage_uuid:"uuid"},findAll:function(e){return this.api("tags.getTree",e,{dataType:"json categories",converters:{"json categories":function(e){for(var t={},i=0;i<e.data.length;i++){var n=e.data[i];"Key Stages"===n.name?t.keystages=Lib.Models.Quizcategory.models(n):"Subjects"===n.name?t.subjects=Lib.Models.Quizsubject.models(n):"Years"===n.name&&(t.years=Lib.Models.Quizyear.models(n))}return t}}})}},{getId:function(){return this.id},getUuid:function(){return this.uuid},getName:function(){return this.name},getChildren:function(){return this.children}}),Ial.Model.extend("Lib.Models.Quizcategory",{id:"uuid",attributes:{uuid:"uuid",name:"string",children:"Lib.Models.Quizcategory.models",keystage_uuid:"uuid"},findAll:function(e){return this.api("tags.getTree",e,{dataType:"json categories",converters:{"json categories":function(e){return Lib.Models.Quizcategory.models(e.data)}}})}},{getId:function(){return this.id},getUuid:function(){return this.uuid},getName:function(){return this.name},getChildren:function(){return this.children},getKeystageUuid:function(){return this.keystage_uuid},getKeystageUuids:function(){return this.keystage_uuids},getSubjectUuids:function(){return this.subject_uuids}}),Ial.Model.extend("Lib.Models.Quizsubject",{id:"uuid",attributes:{uuid:"uuid",name:"string",keystage_uuid:"uuid"},findAll:function(e){return e.type=this.getType(),this.api("tags.getTree",e,{dataType:"json categories",converters:{"json categories":function(e){var t=Lib.Models.Quizcategory.models(e.data),i=t[0].children,n=[];i="3E0594D42002248DBE9CAFEDA5E8A306CCCEC4DC36401C8D"===t[2].uuid?t[2].children:t[0].children;for(var s=0;s<i.length;s++)if(void 0!==i[s].children)for(var r=0;r<i[s].children.length;r++)n.push(i[s].children[r]);return n}}})},getType:function(){if(void 0!==this.container){var e=this.container.closest(".app-resources").find(".resources-quizzes a.selected").parent();return e.hasClass("resources-myquizzes")?"myQuizzes":e.hasClass("resources-schoolquizzes")?"schoolQuizzes":e.hasClass("resources-frogquizzes")?"ialQuizzes":e.hasClass("resources-communityquizzes")?"communityQuizzes":void console.error("Invalid selected quiz type")}}},{getId:function(){return this.id},getUuid:function(){return this.uuid},getName:function(){return this.name},getKeystageUuid:function(){return this.keystage_uuid}}),Ial.Model.List("Lib.Models.Quizsubject.List",{}),Ial.Model.extend("Lib.Models.Quizvideosubject",{id:"uuid",attributes:{uuid:"uuid",name:"string",keystage_uuid:"uuid"},findAll:function(e){return e.mode="videos",this.api("tags.getTree",e,{dataType:"json categories",converters:{"json categories":function(e){var t,i=Lib.Models.Quizcategory.models(e.data),n=[];t="3E0594D42002248DBE9CAFEDA5E8A306CCCEC4DC36401C8D"===i[2].uuid?i[2].children:i[0].children;for(var s=0;s<t.length;s++)if(void 0!==t[s].children)for(var r=0;r<t[s].children.length;r++)n.push(t[s].children[r]);return n}}})}},{getId:function(){return this.id},getUuid:function(){return this.uuid},getName:function(){return this.name},getKeystageUuid:function(){return this.keystage_uuid}}),Ial.Model.List("Lib.Models.Quizvideosubject.List",{}),Ial.Model.extend("Lib.Models.Quizkeystage",{id:"uuid",attributes:{uuid:"uuid",name:"string"},findAll:function(e){return e.type=Lib.Models.Quizsubject.getType(),this.api("tags.getGroups",e,{dataType:"json categories",converters:{"json categories":function(e){for(var t=Lib.Models.Quizcategory.models(e.data)[2].children,i=[],n=0;n<t.length;n++)i.push(t[n]);return i}}})}},{getId:function(){return this.id},getUuid:function(){return this.uuid},getName:function(){return this.name}}),Ial.Model.extend("Lib.Models.Quizyear",{id:"uuid",attributes:{uuid:"uuid",name:"string"},findAll:function(e){return e.type=Lib.Models.Quizsubject.getType(),this.api("tags.getGroups",e,{dataType:"json categories",converters:{"json categories":function(e){for(var t=Lib.Models.Quizcategory.models(e.data)[1].children,i=[],n=0;n<t.length;n++)i.push(t[n]);return i}}})}},{getId:function(){return this.id},getUuid:function(){return this.uuid},getName:function(){return this.name},getKeystageUuids:function(){return this.keystage_uuids},getSubjectUuids:function(){return this.subject_uuids}}),Lib.Models.Abstract.Api.Cache.extend("Lib.Models.Quizconfig",{id:"uuid",config:"object",attributes:{games_popup:"string"},cacheable:["iamlearning.getConfig"],findAll:function(){var e=this;return this.api("iamlearning.getConfig",{},{type:"GET",dataType:"json config",converters:{"json config":function(t){return e.model(t.data)}}})},update:function(e){return this.api("iamlearning.saveConfig",e,{type:"POST",dataType:"json config",converters:{"json config":function(e){return e.data}}}).done(this.invalidateCaches.bind(this,"iamlearning.getConfig"))}},{backup:function(){return this._backup=jQuery.extend(!0,{},this),this},restore:function(){return this._backup?(this.config=jQuery.extend(!0,{},this._backup.config),this):this},isDirty:function(){return!!this._backup&&$.toJSON(this._backup.serialize())!==$.toJSON(this.serialize())}}),Ial.Model.extend("Lib.Models.Quizplayer",{id:"id",attributes:{title:"string",intro:"string",feedback:"bool",retries:"bool",randomiseQuestions:"bool",randomiseAnswers:"bool",show_results:"bool",pass_mark:"number",deleted:"bool"},convert:{number:function(e){return Number(e)},bool:function(e){return!0===e||"true"===e||"1"===e},percent:function(e){return""===e?"":Number(e)}},findOne:function(e){return this.api("iamlearning.getQuiz",e,{dataType:"json quiz",converters:{"json quiz":function(e){if(e.data)return Lib.Models.Quizplayer.model(e.data)}}})}},{applyOptions:function(e){$.extend(this,e)},getId:function(){return this.id},getTitle:function(){return this.title},getIntro:function(){return this.intro},getRandomiseQuestions:function(){return this.randomiseQuestions},getRandomiseAnswers:function(){return this.randomiseAnswers},getFeedback:function(){return this.feedback},getRetries:function(){return this.retries},getShowResults:function(){return this.show_results},getPassMark:function(){return this.pass_mark},getDeleted:function(){return this.deleted},randomiseQuestionList:function(){var e=this.questions;this.randomize(e)},randomiseAnswerList:function(){var e=this;$.each(this.questions,function(t,i){if("free"!==i.type){var n=i.answers;e.randomize(n)}})},randomize:function(e){for(var t,i,n=e.length;n;t=parseInt(Math.random()*n,10),i=e[--n],e[n]=e[t],e[t]=i);}}),Ial.Model.extend("Lib.Models.QuizPlayer.Attempt",{id:"id",attributes:{content_uuid:"uuid",quiz_id:"number",total_score:"number",poss_score:"number",start_time:"unixtimestamp",with_retries:"number",total_retries:"total_retries"},create:function(e,t,i){return this.api("iamlearning.saveQuizResult",e,{dataType:"json quiz_attempt",type:"POST",converters:{"json quiz_attempt":function(e){if(void 0!==e.data)return e.data}},success:function(e){t(e)},error:i})},update:function(e,t,i,n){return t.id=e,this.api("iamlearning.saveQuizResult",t,{dataType:"json quiz_attempt",type:"POST",converters:{"json quiz_attempt":function(e){if(void 0!==e.data)return e.data}},success:function(e){i(e)},error:n})}},{saveAnswer:function(e,t,i){var n=Math.round(new Date/1e3);!e.hasOwnProperty("question_id")&&e.hasOwnProperty("score")&&e.hasOwnProperty("total_score")&&i("Properties"),e.attempt_id=this.getId(),e.quiz_id=this.getQuizId(),e.quiz_start_time=this.getStartTime(),e.quiz_diff_time=1e3*(n-this.getStartTime()),e.poss_score=this.getPossScore();this.Class.api("iamlearning.saveQuizAnswer",e,{dataType:"json quiz_answer",type:"POST",converters:{"json quiz_answer":function(e){e.data}},success:function(e){t(e)},error:i})},getId:function(){return this.id},setId:function(e){this.id=e},getContentUuid:function(){return this.content_uuid},setContentUuid:function(e){this.content_uuid=e},getQuizId:function(){return this.quiz_id},setQuizId:function(e){this.quiz_id=e},getTotalScore:function(){return this.total_score},setTotalScore:function(e){this.total_score=e},getPossScore:function(){return this.poss_score},setPossScore:function(e){this.poss_score=e},getStartTime:function(){return this.start_time},setStartTime:function(e){this.start_time=e},getWithRetries:function(){return this.with_retries},setWithRetries:function(e){this.with_retries=e},getTotalRetries:function(){return this.total_retries},setTotalRetries:function(e){this.total_retries=e}});',address:e.uri}),t.global.require=i,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/i18n/externalapps_i18n_model*/
define("lib/models/i18n/externalapps_i18n_model",["module","@loader","require"],function(e,i,l){i.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var r=i.global.define,l=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'var _requests={},getRequest=function(e){var t;return e in _requests?_requests[e]:(t=new $.Deferred,$.getJSON(e,function(s){delete _requests[e],s[Lib.Models.i18n.get("language")]||(s[Lib.Models.i18n.get("language")]={});for(var i in s){var n=s[i];for(var a in n){var r=n[a];this.setDictionaryKeys(r,a,i),s[Lib.Models.i18n.get("language")][a]||this.setDictionaryKeys(s["en-GB"][a],a,Lib.Models.i18n.get("language"))}}t.resolve()}.bind(this)),_requests[e]=t.promise(),_requests[e])};Lib.Models.i18n.extend("Lib.Models.i18n.ExternalApps",{findAll:function(){return getRequest.call(this,Frog.Utilities.getBaseUrl()+"/app/externalapps/manifest/language")},findOne:function(e){return getRequest.call(this,Frog.Utilities.getBaseUrl()+"/app/externalapps/manifest/language/"+e)}},{});',address:e.uri}),i.global.require=l,i.global.define=r,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/site_model*/
define("lib/models/site_model",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var n=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Lib.Models.Abstract.Api.Cache.extend("Lib.Models.Site",{attributes:{uuid:"string",name:"string",description:"string",associations:"array",cocurricular:"array",subjects:"array",year:"array",icon:"string",icon_uri:"string",icon_name:"string",theme:"string",author:"Lib.Models.User.model",lastUpdated:"date",is_template:"number",structure:"array",page:"array",content:"array",preference:"array",criteria:"array",quiet:"frogboolean",folder_uuid:"string"},findOne:function(e){return this.api("sites.getByUuid",{uuid:e},{dataType:"json site",converters:{"json site":function(e){return Sites.Models.Site.model(e.data)}}})},findByUrl:function(e){return this.api("sites.getByExternalUrl",{external_url:e},{dataType:"json site",converters:{"json site":function(e){return Lib.Models.Site.model(e.data)}}})},create:function(e,t,i){var n=e,r=this;return e.page&&(n.page=JSON.stringify(e.page)),e.quiet&&(n.quiet=!0),this.api("sites.create",n,{type:"POST",dataType:"json sites",converters:{"json sites":function(e){return r._buildFromResponse(e,!0)}}}).done(this.invalidateCaches.bind(this)).done(t).fail(i)},update:function(e,t,i,n){var r=this,s={site:{uuid:e,operation:"none"}};return t.page&&t.page.length>0&&(s.page=t.page),t.content&&t.content.length>0&&(s.content=t.content),t.preference&&t.preference.length>0&&(s.preference=t.preference),t.criteria&&t.criteria.length>0&&(s.criteria=t.criteria),t.quiet&&(s.quiet=!0),this.api("sites.update",{uuid:e,data:JSON.stringify(s),is_template:0},{type:"POST",dataType:"json sites",converters:{"json sites":function(e){return r._buildFromResponse(e)}}}).done(this.invalidateCaches.bind(this)).done(i).fail(n)},destroy:function(e,t,i){return this.api("sites.delete",{uuid:e},{type:"POST"}).done(this.invalidateCaches.bind(this)).done(t).fail(i)},_buildFromResponse:function(e,t){var i=e.data.site,n={uuid:i.uuid,link:i.link,page:[],content:[],preference:[],criteria:[],maps:e.data.maps,structure:e.data.pages,quiet:e.params.quiet};return t&&(n.site=i),n},_addResourceAsAsset:function(e,t){return this.api("resources.copy",{resource:e,target:t,type:"asset"},{type:"POST",dataType:"json site",converters:{"json site":function(e){return e.data}}})},_duplicate:function(e){return this.api("sites.duplicate",e,{type:"POST",dataType:"json siteresult",converters:{"json siteresult":function(e){return Lib.Models.Site.model(e.data)}}}).done(this.invalidateCaches.bind(this))},invalidateCaches:function(e){e="string"==typeof e&&e||"sites.",this._super(e)}},{setup:function(e){e.page=[],e.content=[],e.preference=[],e.criteria=[],this._super(e)},duplicate:function(e,t,i){var n={site_uuid:this.attr("uuid"),site_name:e,site_description:t};return void 0!==i&&(n.is_template=i),this.Class._duplicate(n).done(function(e){$.event.trigger("duplicated",e,Lib.Models.Site)})},addResourceAsAsset:function(e){return this.Class._addResourceAsAsset(e,this.uuid)},addPage:function(e,t,i,n,r){var s="PAGE_"+Math.random().toString().replace("0.","");return this.page.push({operation:"add",uuid:s,layout:e,name:t,parent:i,sequence:n,show_by_default:r}),s},editPage:function(e,t,i,n,r,s){this.page.push({operation:"edit",uuid:e,layout:t,name:i,parent:n,sequence:r,show_by_default:s})},deletePage:function(e){this.page.push({operation:"delete",uuid:e})},addWidget:function(e,t,i,n,r,s){var a="CONTENT_"+Math.random().toString().replace("0.","");return this.content.push({operation:"add",uuid:a,page:e,widget:t,bucket:i,name:s,sequence:n,show_by_default:r}),a},addPreference:function(e,t,i){this.preference.push({content:e,name:t,value:i})},hasPreference:function(e,t){var i,n,r;for(i=0,r=this.preference.length;i<r;i++)if((n=this.preference[i]).content===e&&n.name===t)return!0;return!1},updatePreference:function(e,t,i){var n,r;for(n=0;n<this.preference.length;n++)(r=this.preference[n]).content===e&&r.name===t&&(r.value=i)},addCriteria:function(e,t){this.criteria.push({operation:"add",content:e,text:t})},getIcon:function(){return this.icon||"public/icon/sites/site-default.svg"},getResizedIcon:function(e,t){return 0===this.icon.indexOf("file/")?this.icon+"?scale_mode=fill&width="+e+"&height="+t:this.icon}});',address:e.uri}),t.global.require=i,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/assignment/activity_model*/
define("lib/models/assignment/activity_model",["module","@loader","require"],function(e,l,i){l.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var r=l.global.define,i=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Lib.Models.Assignment.Activity",{attributes:{uuid:"string",start:"number",end:"number",ial_quiz_id:"number"}},{});',address:e.uri}),l.global.require=i,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/award_model*/
define("lib/models/award_model",["module","@loader","require"],function(e,r,t){r.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var n=r.global.define,t=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.Award",{VALID_TYPES:["achievement","qualification"],attributes:{uuid:"string",name:"string",can_be_deleted:"bool",reference:"string",description:"string",type:"string",provider:"string",icon_url:"string",resource_uuid:"string",duration:"number",archived:"bool",tags:"Lib.Models.Keyword.models"},defaults:{description:"",provider:"",reference:""},init:function(){this.validate("type",function(e){if("achievement"!==e&&"qualification"!==e)return"awards.modal.error.no-type"}),this.validate("duration",function(e){return void 0===e?"awards.modal.error.null-duration":e<0||e>10?"awards.modal.error.invalid-duration":void 0}),this.validate("name",function(e){return(e=e&&e.replace(/^\\s+|\\s+$/g,"")||"")?e&&e.length>=3&&e.length<=100?void 0:"awards.modal.error.invalid-name":"awards.modal.error.no-name"}),this.validate("description",function(e){if(e&&e.length>255)return"awards.modal.error.invalid-description"}),this.validate("provider",function(e){if(e&&e.length>255)return"awards.modal.error.invalid-provider"}),this.validate("reference",function(e){if(e&&e.length>255)return"awards.modal.error.invalid-reference"}),this.validateInclusionOf("type",this.VALID_TYPES,{message:"awards.modal.error.invalid-type"})},findAll:function(e){e=e||{};var r=this;return this.api("award.get",e,{dataType:"json awards",converters:{"json awards":function(e){return r.models(e.data)}}})},findOne:function(e){var r=this;return e=e||{},this.api("award.get",e,{dataType:"json award",converters:{"json award":function(e){return r.model(e.data)}}})},findAllCourseLinkedAwards:function(e,r,t){var n=this;return this.api("course.getAllLinkedAwards",e,{dataType:"json course_award",converters:{"json course_award":function(e){return n.models(e)}},success:r,error:t})},create:function(e,r,t){return delete e.can_be_deleted,e.tags=this._prepareTags(e.tags),r="function"==typeof r?r:function(){},t="function"==typeof t?t:function(){},this.api("award.create",e,{type:"POST",success:r,error:t})},update:function(e,r,t,n){return delete r.can_be_deleted,r.tags=this._prepareTags(r.tags),t="function"==typeof t?t:function(){},n="function"==typeof n?n:function(){},this.api("award.update",r,{type:"POST",success:t,error:n})},destroy:function(e,r,t){return r="function"==typeof r?r:function(){},t="function"==typeof t?t:function(){},this.api("award.delete",{uuid:e},{type:"POST",success:r,error:t})},_archive:function(e,r,t){return r="function"==typeof r?r:function(){},t="function"==typeof t?t:function(){},this.api("award.archive",{uuid:e},{type:"POST",success:r,error:t})},_prepareTags:function(e){var r=[];for(var t in e)r.push(e[t].name);return r}},{archive:function(e,r){return this.Class._archive(this.attr("uuid"),e,r)},isDefaultIcon:function(){return"resources/public/css/images/default-award.png"===this.attr("icon_url")},getIconUrl:function(){return this.icon_url||"resources/public/css/images/default-award.png"}});',address:e.uri}),r.global.require=t,r.global.define=n,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/curriculum/curriculum_type_model*/
define("lib/models/curriculum/curriculum_type_model",["module","@loader","require"],function(e,r,u){r.get("@@global-helpers").prepareGlobal({require:u,name:e.id,deps:[]});var i=r.global.define,u=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.Curriculum.CurriculumType",{attributes:{uuid:"string",name:"string",versions:"Lib.Models.Curriculum.Curriculum.models"},findAll:function(u,r,e){var t=this;return this.api("curriculums.get",u,{type:"GET",dataType:"json curriculum_types",converters:{"json curriculum_types":function(u){return t.models(u.data)}}})},findOne:function(u,r,e){var t=this;return this.api("curriculums.get",{uuid:u.uuid},{type:"GET",dataType:"json curriculum_type",converters:{"json curriculum_type":function(u){return t.model(u.data)}},success:r,error:e})}},{});',address:e.uri}),r.global.require=u,r.global.define=i,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/systempreferences_model*/
define("lib/models/systempreferences_model",["module","@loader","require"],function(e,r,t){r.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var s=r.global.define,t=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.SystemPreferences",{id:"id",cache:{},attributes:{ad:"Lib.Models.SystemPreferencesAd.model",adfs:"Lib.Models.SystemPreferencesAdfs.model",allowed_file_types:"json",dashboards:"Lib.Models.SystemPreferencesDashboards.model",email_address:"string",format:"Lib.Models.SystemPreferences.Format.model",googlesso:"Lib.Models.SystemPreferencesGooglesso.model",googledrive:"Lib.Models.SystemPreferencesGoogledrive.model",onedrivebusiness:"Lib.Models.SystemPreferencesOneDriveBusiness.model",outlook:"Lib.Models.SystemPreferencesOutlook.model",timeline:"Lib.Models.SystemPreferencesTimeline.model"},defaults:{id:"systempreferences"},_apiAllowedPreferences:["ad.dns","ad.primary_domain_controller","ad.secondary_domain_controller","adfs.enabled","adfs.hostname","allowed_file_types","dashboards.lazyload","email_address","frogplay.widget_settings","googleapps.enabled","googlesso.enabled","googlesso.domain","googledrive.enabled","googledrive.clientid","googledrive.clientsecret","googlemaps.apikey","format.date.long","format.date.short","format.datetime.long","format.datetime.short","format.time","frogmobile.clearmedia_endofday","frogmobile.clearmedia_appclose","frogmobile.clearmedia_useroverride","onedrivebusiness.enabled","onedrivebusiness.tenantid","onedrivebusiness.clientid","onedrivebusiness.clientsecret","outlook.enabled","outlook.url","timeline.poll","curriculum.providers.url","rss.enabled","atyp.state.list","ribbits.enabled"],_importPrefix:"import.default_authentication",_allowedFileTypePrefix:"allowed_file_types",_createStructuredObject:function(e){var r,t,s,o=/\\./,a={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(-1===i.search(o)||-1!==i.search(this._importPrefix)||-1!==i.search(this._allowedFileTypePrefix)){a[i]=e[i];continue}t=(r=i.split("."))[0],s=i.replace(r[0]+".",""),a[t]||(a[t]={}),a[t][s]=e[i]}return a},_createKeyValueArray:function(e){var r,t=[];for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if("object"!=typeof e[s]&&($.inArray(s,this._apiAllowedPreferences)>-1||-1!==s.search(this._importPrefix))){t[t.length]={alias:s,value:e[s]};continue}for(var o in e[s])r=null,Object.prototype.hasOwnProperty.call(e[s],o)&&(r=s+"."+o,$.inArray(r,this._apiAllowedPreferences)>-1&&(t[t.length]={alias:r,value:e[s][o]}))}return t},findOne:function(){var e=this;return this.api("systempreferences.getAll",{},{type:"GET",dataType:"json SystemPreferences",converters:{"json SystemPreferences":function(r){var t=e._createStructuredObject(r.data);return e.model(t)}}})},fetch:function(e,r){return this.cache[e]?jQuery.Deferred().resolve(this.cache[e]).promise():this.api("systempreferences.get",{alias:e},{type:"GET",dataType:"json SystemPreference",converters:{"json SystemPreference":function(t){return r&&r.cache&&(this.cache[e]=t.data),t.data}.bind(this)}})},fetchMultiple:function(e){return this.api("systempreferences.getMultiple",{keys:e},{type:"GET",dataType:"json SystemPreferences",converters:{"json SystemPreferences":function(e){return e.data}.bind(this)}})},update:function(e,r,t,s){return this.api("systempreferences.setMultiple",{keys:r.length?r:this._createKeyValueArray(r)},{type:"POST",dataType:"json bool",converters:{"json bool":function(e){if(e.data&&Object.prototype.hasOwnProperty.call(r,"keys"))for(var t=0;t<r.keys.length;t++)this.cache[r.keys[t].alias]&&(this.cache[r.keys[t].alias]=r.keys[t].value);return e.data}.bind(this)},success:t,error:s})},apply:function(e){return this.api("systempreferences.set",e,{type:"POST",dataType:"json bool",converters:{"json bool":function(r){return r.data&&e&&e.cache&&(this.cache[e.alias]=e.value),r.data}.bind(this)}})},remove:function(e){return this.api("systempreferences.delete",{alias:e},{type:"POST",dataType:"json bool",converters:{"json bool":function(r){return delete this.cache[e],r.data}.bind(this)}})}},{});',address:e.uri}),r.global.require=t,r.global.define=s,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/user_model*/
define("lib/models/user_model",["module","@loader","require"],function(e,t,r){t.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var n=t.global.define,r=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'var f=Frog.Utilities.Functional,pluck=f.pluck,pluckFrom=f.pluckFrom,equalTo=f.equalTo,flow=f.flow,not=f.not,isString=f.typeIs("string"),isObject=f.typeIs("object"),isUndefined=f.typeIs("undefined"),concat=function(e,t){return[].concat(e).concat(t)},BASIC_INFO_CATEGORY="basic_information";Frog.Model.extend("Lib.Models.User",{attributes:{uuid:"string",username:"string",authentication:"string",displayname:"string",source:"string",active:"Boolean",details:"Lib.Models.UserDetails.model",profile:"Lib.Models.UserProfile.model"},findAll:function(e){var t=this;return $.isArray(e.uuid)&&(e.uuid=JSON.stringify(e.uuid)),this.api("users.getSummary",e,{type:"POST",dataType:"json users",converters:{"json users":function(e){return t.models(e)}}})},findOne:function(e){var t=this;return this.api("users.getOne",e,{type:"GET",dataType:"json user",converters:{"json user":function(e){return t.model(e)}}})},findChildren:function(e){var t=this;return this.api("users.getChildren",e,{type:"GET",dataType:"json users",converters:{"json users":function(e){return t.models(e.data)}}})},filter:function(e){var t=this,r=e&&!1===e.return_matches?"non-matches":"matches";return this.api("users.filterByExtendedDataDefinition",e,{type:"POST",dataType:"json users",converters:{"json users":function(e){return t.models(e.data[r]?e.data[r]:null)}}})},getAvailableExtendedDataLabels:function(e){return this.api("users.getAvailableExtendedDataLabels",e,{type:"GET",dataType:"json extendeddatalabels",converters:{"json extendeddatalabels":function(e){return e.data}}})}},{_searchForValue:function(e,t){var r=this;return[e.map(pluckFrom(r)).filter(isString),isObject(this.details)?e.map(pluckFrom(r.details)):[],e.map(function(n){var i=r.getExtendedData(t,n);return 1==e.length&&Array.isArray(i)?i.shift():i})].reduce(concat,[]).filter(not(isUndefined))},getExtendedData:function(e,t){return(this.categories||[]).filter(flow([pluck("name"),equalTo(e)])).map(pluck("fields")).reduce(concat,[]).filter(flow([pluck("label"),equalTo(t)])).map(pluck("value"))},getThumbnail:function(){return this._searchForValue(["thumbnail"],BASIC_INFO_CATEGORY).filter(isString)[0], console.log("Got: " + this._searchForValue(["thumbnail"],BASIC_INFO_CATEGORY).filter(isString)[0])},getGender:function(){return this._searchForValue(["gender"],BASIC_INFO_CATEGORY).filter(isString)[0]},getFirstName:function(){return this._searchForValue(["forename"],BASIC_INFO_CATEGORY).filter(isString)[0]},getForename:function(){return this.getFirstName()},getMiddleName:function(){return this._searchForValue(["middle_name"],BASIC_INFO_CATEGORY).filter(isString)[0]},getLastName:function(){return this._searchForValue(["surname"],BASIC_INFO_CATEGORY).filter(isString)[0]},getSurname:function(){return this.getLastName()},getEmail:function(){return this._searchForValue(["email"],BASIC_INFO_CATEGORY).filter(isString)[0]}});',address:e.uri}),t.global.require=r,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/assignment/group_model*/
define("lib/models/assignment/group_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Lib.Models.Assignment.Group",{attributes:{group:"string",users:"Lib.Models.Assignment.Group.User.models"}},{});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/resource_model*/
define("lib/models/resource_model",["module","@loader","require"],function(e,t,r){t.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var i=t.global.define,r=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Resource",{id:"uuid",attributes:{author_uuid:"string",folder_uuid:"string",is_linkable:"boolean",target_uuid:"string",type:"string",uuid:"string",attachment:"Lib.Models.Resource.Attachment.model",name:"string"},getByUuid:function(e,t){return this.api("resources.getOfType",{uuid:e,type:t},{type:"GET",dataType:"json resource",converters:{"json resource":function(e){return Lib.Models.Resource.model(Object.values(e.data.resources)[0])}}})},doConvert:function(e,t,r){var i=this;return this.api("resources.copy",{resource:e,type:r,quiet:t},{type:"POST",dataType:"json resource",converters:{"json resource":function(e){return i.model(e.data)}}})},update:function(e,t,r,i){return this.api("resources.edit",{resource:e,folder:t.folder_uuid,name:t.attachment.name,description:t.description},{type:"POST",dataType:"json resource",converters:{"json resource":function(e){return e.data}},success:r,error:i})},destroy:function(e,t,r){return this.api("resources.delete",{resource:e},{type:"POST",success:t,error:r})},restore:function(e,t,r,i){return this.api("resources.restore",{resource:e,location:t},{type:"POST",success:r,error:i})},_copy:function(e,t,r){return this.api("resources.copy",e,{type:"POST",dataType:"json resource",converters:{"json resource":function(e){return new Lib.Models.Resource(e.data)}},success:t,error:r})},_unpack:function(e,t,r){return this.api("resources.files.unpack",e,{type:"POST",dataType:"json resource",converters:{"json resource":function(e){return e.data}},success:t,error:r})}},{setup:function(e){(e=e||{}).name=e.name?e.name:e.attachment?e.attachment.name:"",this._super(e)},copy:function(e,t){var r={resource:this.uuid,type:this.type,folder:this.folder_uuid};return this.Class._copy(r,e,t)},send:function(e){var t=$.extend({},e,{resource:this.attr("uuid"),type:"personal"});return this.Class.api("resources.copy",t,{type:"POST"})},copyToFolder:function(e,t,r){var i={resource:this.uuid,type:e.type,folder:e.folder_uuid,quiet:e.quiet||!1,name:e.name||this.name,description:e.description||this.description};return this.Class._copy(i,t,r)},share:function(e,t,r){var i=$.extend({},e,{resource:this.uuid,type:"personal"});return this.Class._copy(i,t,r)},resourceTypes:{html:"document",msword:"document","octet-stream":"document",pdf:"document",plain:"document",rtf:"document",richtext:"document","vnd.openxmlformats-officedocument.wordprocessingml.document":"document","x-msword":"document","x-pdf":"document","x-rtf":"document"},mimeTypeReg:/(\\w+)\\/(\\w+)/g,getResourceType:function(e){return e?this.resourceTypes[e.replace(this.mimeTypeReg,"$2")]:"file"},getUuid:function(){return this.uuid},getMimeType:function(){if(this.attachment&&this.attachment.file&&this.attachment.file.mime)return this.attr("attachment").attr("file").attr("mime").attr("mime")},getExtension:function(){if(this.attachment&&this.attachment.file&&this.attachment.file.mime&&this.attachment.file.mime.ext)return this.attr("attachment").attr("file").attr("mime").attr("ext")},getUrl:function(){if(this.attachment)return"file/resource/"+this.attr("uuid")},getName:function(){return this.attachment?this.attachment.name:this.name?this.name:this.title?this.title:""},getPreviewUrl:function(){return this.attr("attachment")&&this.attr("attachment").attr("file")&&this.attr("attachment").attr("file").attr("preview_url")?this.attr("attachment").attr("file").attr("preview_url"):this.url},unpack:function(e,t,r){var i={resource:this.uuid,type:this.type};return this.Class._unpack(i,t,r)},canEdit:function(e){var t=this.share_data&&this.share_data.permission?this.share_data.permission:null;return this.attr("author_uuid")===e.attr("uuid")||"admin"===t},setName:function(e){return this.attachment&&(this.attachment.name=e),e},getUpdatedOn:function(){return this.attachment?new Date(1e3*this.attachment.attr("updated")):null},isMutable:function(e){var t=this.share_data&&this.share_data.permission?this.share_data.permission:null;return t?"admin"===t||"edit"===t:this.isDeletable(e)},isOfficeDoc:function(){var e=this.getMimeType(),t=["application/msonenote","application/vnd.visio"];return e.indexOf("officedocument")>-1||t.indexOf(e)>-1},canCopy:function(e){return"function"==typeof this.copyToFolder&&void 0===this.external_id},canDrop:function(e){return!("googledrive"===e.type||"googledrive.sharedwithme"===e.type||"onedrivebusiness"===e.type)},roleCheck:function(e){var t=this.attr("author_uuid")===e,r=t?"own":"other";if(this.uuid===Lib.Models.Folder.STAFFDOCUMENTS)return!1;switch(this.root_uuid){case Lib.Models.Folder.SCHOOLDOCUMENTS:return _Roles.hasOr("app.resource.manager.documents.staff.delete."+r,"app.resource.manager.documents.company.delete."+r,"app.resource.manager.schooldocuments.delete."+r);case Lib.Models.Folder.SHAREDWITHME:return t;case Lib.Models.Folder.MYDOCUMENTS:return!0;case Lib.Models.Folder.LESSONRESOURCES:return _Roles.has("app.resource.manager.lesson.resources.delete."+r);default:return t}},canExtract:function(e){return this.canDuplicate(e)},canDuplicate:function(e){return!("native"!==this.source)&&(this.hasShare()?this.isMutable(e):this.root_uuid!==Lib.Models.Folder.SCHOOLDOCUMENTS||_Roles.hasOr("app.resource.manager.documents.staff.add","app.resource.manager.schooldocuments.add","app.resource.manager.documents.company.add"))},canSendCopy:function(e){if(!("native"===this.source))return!1;if(this.isDeletable(e))return!0;if(this.root_uuid===Lib.Models.Folder.SCHOOLDOCUMENTS){var t=this.attr("author_uuid")===e?"own":"other";return _Roles.has("app.resource.manager.sendcopy.schooldocuments."+t)}return!1},isDeletable:function(e){return this.hasShare()?this.isMutable(e):this.roleCheck(e)},isReplaceable:function(e){return"native"===this.source&&this.canEdit(e)&&"scorm"!==this.type},canMoveTo:function(e,t){return this.isDeletable(e)},isSharable:function(e){var t=this.getResourceType();return("folder"===t||"site"===t)&&(this.hasShare()?!("admin"!==this.share_data.permission||!this.isShareRoot()):this.roleCheck(e))},hasShare:function(){return void 0!==this.share_data},isShareRoot:function(){return!(!this.share_data||1!==parseInt(this.share_data.is_root,10))},hasJpgEncoding:function(){return!!(this.attachment&&this.attachment.file&&this.attachment.file.mime&&"image"==this.attachment.file.mime.type)||!!(this.attachment&&this.attachment.file&&this.attachment.file.encodings&&"done"==this.attachment.file.encodings.doctoimg)},jpgEncodingInProgress:function(){return this.attachment&&this.attachment.file&&this.attachment.file.encodings&&/^\\d+$/.test(this.attachment.file.encodings.doctoimg)}}),Frog.Model.extend("Lib.Models.Resource.Attachment",{id:"id",attributes:{id:"id",deleted:"frogboolean",name:"string",updated:"number",file:"Lib.Models.Resource.File.model"}},{getType:function(){if(this.file&&this.file.mime)return this.attr("file").attr("mime").attr("type")},getMime:function(){if(this.file&&this.file.mime)return this.attr("file").attr("mime").attr("mime")}}),Frog.Model.extend("Lib.Models.Resource.File",{attributes:{size:"number",uri:"string",external_url:"string",mime:"Lib.Models.Resource.Mime.model"}},{}),Frog.Model.extend("Lib.Models.Resource.Mime",{attributes:{ext:"string",mime:"string",type:"string"}},{isZip:function(){var e=["application/zip","application/x-zip","application/x-zip-compressed","application/octet-stream","application/x-compress","application/x-compressed","multipart/x-zip"];return this.ext&&"zip"==this.ext.toLowerCase()&&-1!=$.inArray(this.mime,e)}});',address:e.uri}),t.global.require=r,t.global.define=i,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/note_model*/
define("lib/models/note_model",["module","@loader","require"],function(e,r,o){r.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var t=r.global.define,o=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Lib.Models.Abstract.Fdp.extend("Lib.Models.Note",{id:"uuid",attributes:{uuid:"string",content:"string",created_on:"moment",created_by:"string"},create:function(e,t,n){return this.api({data:e,url:"note/create",type:"POST",dataType:"json note",converters:{"json note":function(e){return e.response}},success:t,error:n})}},{});',address:e.uri}),r.global.require=o,r.global.define=t,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/user_award_model*/
define("lib/models/user_award_model",["module","@loader","require"],function(e,i,r){i.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var a=i.global.define,r=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'Frog.Model.extend("Lib.Models.UserAward",{attributes:{uuid:"uuid",user:"uuid",award:"Lib.Models.Award.model",achieved:"number",expires:"number",qualification_id:"string"},init:function(){this.validate("expires",function(){if(null===moment.unix(this.expires))return"error.label.expired_achieved_order"}),this.validate("achieved",function(){if(!moment.unix(this.achieved).isValid()||moment.unix(this.achieved).isAfter(moment.unix(this.expires)))return"error.label.obtained_on"})},findAll:function(e){return e=e||{},this.api("award.getForIdentity",e,{dataType:"json userAward",converters:{"json userAward":function(e){return Lib.Models.UserAward.models(e)}}})},create:function(e,i,r){var a={user:e.user,award:e.award.uuid,achieved:e.achieved,qualification_id:e.qualification_id};return this.api("award.grant",a,{type:"POST",success:function(e){"function"==typeof i&&i({uuid:e.data.uuid,expires:e.data.expires})},error:r})},update:function(e,i,r,a){return this.api("award.grant",{uuid:i.uuid,award:i.award.uuid,user:i.user,achieved:i.achieved,qualification_id:i.qualification_id},{type:"POST",success:r,error:a})},destroy:function(e,i,r){return this.api("award.revoke",{award_identity:e},{type:"POST",success:i,error:r})}},{});',address:e.uri}),i.global.require=r,i.global.define=a,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/curriculum/learning_locker_resource_model*/
define("lib/models/curriculum/learning_locker_resource_model",["module","@loader","require"],function(e,r,o){r.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var l=r.global.define,o=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Lib.Models.Resource.extend("Lib.Models.Curriculum.LearningLockerResource",{attributes:{approved:"moment",approved_author:"Lib.Models.User.model",author:"Lib.Models.User.model",notes:"string",source:"string",overlay_path:"string",blacklisted:"boolean",resource:"Lib.Models.Resource.model"}},{getName:function(){return"function"==typeof this.resource.getName?this.resource.getName():""}});',address:e.uri}),r.global.require=o,r.global.define=l,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/assignment/group/user_model*/
define("lib/models/assignment/group/user_model",["module","@loader","require"],function(e,l,r){l.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var o=l.global.define,r=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Lib.Models.Assignment.Group.User",{attributes:{group:"string",users:"Lib.Models.Assignment.Group.User.models"}},{});',address:e.uri}),l.global.require=r,l.global.define=o,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/external_resource_model*/
define("lib/models/external_resource_model",["module","@loader","require"],function(e,r,o){r.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var t=r.global.define,o=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Lib.Models.Resource.extend("Lib.Models.ExternalResource",{attributes:$.extend({},Lib.Models.Resource.attributes,{}),invalidOneDriveBusinessChars:["<",">",":",\'"\',"/","\\\\","|","?","*"],_getTemplate:function(e){return{docx:"word",pptx:"powerpoint",xslx:"excel"}[e]},_parseCreateParams:function(e){return{name:e.attachment.name,source:e.source,template:this._getTemplate(e.attachment.file.mime.ext)||e.template,type:e.type,folder_uuid:e.folder_uuid||null,external_folder_id:e.external_folder_id||null,is_local:!0===e.is_local}},create:function(e,r,t){return this.api("resourcesexternal.create","object"==typeof e.attachment?this._parseCreateParams(e):e,{type:"POST",dataType:"json resource",converters:{"json resource":function(e){return e.data}},success:r,error:t})},destroy:function(e,r,t){return this.api("resourcesexternal.delete",e instanceof Array?{resources:e}:{resources:[e]},{type:"POST",dataType:"json boolean",converters:{"json boolean":function(e){return e.data}},success:r,error:t})},update:function(e,r,t,o){return this.api("resourcesexternal.edit",{resource_uuid:r.uuid,folder_uuid:r.folder_uuid,name:r.name,external_folder_id:r.external_folder_id,rename_after_create:r.rename_after_create?r.rename_after_create:null,link_in_folder:!!r.link_in_folder&&r.link_in_folder,remove_from_parent:!!r.remove_from_parent&&r.remove_from_parent},{type:"POST",dataType:"json resource",converters:{"json resource":function(e){return e.data}},success:t,error:o})},copyToSource:function(e){return e=$.extend({target_source:"native"},e),this.api("resources.copyToSource",e,{type:"POST",dataType:"json resource",converters:{"json resource":function(e){return new Lib.Models.Resource(e.data)}}})},copyToLocalFolder:function(e){return this.api("resourcesExternal.copy",{resource_uuid:e.uuid,folder_uuid:e.folder_uuid},{type:"POST",dataType:"json resource",converters:{"json resource":function(e){return new Lib.Models.Resource(e.data)}}})},getGoogleRootFolder:function(){return this.fdpapi({url:"googledrive/getRootFolder",type:"GET",dataType:"json resource",converters:{"json resource":function(e){return e.response}}})},getOneDriveBusinessRootFolder:function(){return this.fdpapi({url:"onedrive/business/getRootFolder",type:"GET",dataType:"json resource",converters:{"json resource":function(e){return e.response}}})}},{destroy:function(e,r){var t=this;return this.Class.destroy(this.serialize(),e,r).done(function(){t.destroyed()})},removeFromParent:function(e,r){var t=this.serialize();return t.remove_from_parent=!0,this.Class.update(t.uuid,t,e,r).done(function(e){e&&this.destroyed()}.bind(this))},copyToSource:function(e){return e=$.extend(this.serialize(),e),this.Class.copyToSource(e)},getUrl:function(){return this.external_url},getResourceType:function(e){return"googledrive"===this.source||"onedrivebusiness"===this.source?this.is_folder?"folder":"file":this._super(e)},canDuplicate:function(e){return!!("googledrive"!==this.source&&"onedrivebusiness"!==this.source||this.is_local)&&this._super(e)},isSharable:function(e){return("googledrive"!==this.source&&"onedrivebusiness"!==this.source||!this.is_folder)&&this._super(e)},isGoogleNative:function(e){return"googledrive"===this.source&&("sharedwithme"===this.external_id||(e?-1!==this.getMimeType().indexOf("google")&&-1!==this.getMimeType().indexOf(e):-1!==this.getMimeType().indexOf("google")))},isOfficeDoc:function(e){var r=["docx","pptx","xlsx"],t=this.getExtension&&r.indexOf(this.getExtension())>-1;return(e&&t||!e)&&this._super()},copyToLocalFolder:function(e){return e=$.extend(this.serialize(),e),this.Class.copyToLocalFolder(e)},canDrop:function(e){return this.is_local?!("googledrive"===e.page||"onedrivebusiness"===e.page):"googledrive"===this.source?this.is_folder?"null"===e.folder&&("googledrive"===e.type||"googledrive.sharedwithme"===e.type):"onedrivebusiness"!==e.type:"onedrivebusiness"===this.source?this.is_folder?"null"===e.folder&&"onedrivebusiness"===e.type:"googledrive"!==e.type:void 0},canEdit:function(e){return("googledrive"!==this.source||!this.is_local||!0===this.attr("rename_after_create"))&&(("onedrivebusiness"!==this.source||!this.is_local||!0===this.attr("rename_after_create"))&&this._super(e))},canShareOnGoogle:function(){return"googledrive"===this.source&&("owner"===this.role||"writer"===this.role&&!1!==this.writers_can_share)},isDownloadable:function(){return("googledrive"===this.source||"onedrivebusiness"===this.source)&&(this.is_downloadable&&this.isCopyable())},isCopyable:function(){return("googledrive"===this.source||"onedrivebusiness"===this.source)&&("owner"===this.role||this.is_copyable)},hasValidName:function(){var e=new RegExp("["+this.Class.invalidOneDriveBusinessChars.join("")+"]");return!!this.isGoogleNative()||!e.test(this.attr("name"))}});',address:e.uri}),r.global.require=o,r.global.define=t,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/user/details_model*/
define("lib/models/user/details_model",["module","@loader","require"],function(e,l,i){l.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var r=l.global.define,i=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Lib.Models.UserDetails",{attributes:{forename:"string",surname:"string",gender:"string",mis_linked:"boolean",thumbnail:"string"}},{getThumbnail:function(){var e;if(this.thumbnail)return this.thumbnail;switch(this.gender&&(e=this.gender),e){case"male":return"public/image/default_male.png";case"female":return"public/image/default_female.png";default:return"public/image/default_no_gender.png"}}});',address:e.uri}),l.global.require=i,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/user/profile_model*/
define("lib/models/user/profile_model",["module","@loader","require"],function(e,r,l){r.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var t=r.global.define,l=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.UserProfile",{attributes:{type:"string",name:"string"},cache:null,findAll:function(t,e,r){var i=this;return t=t||{},this.cache?this.cache:this.cache=this.api("profiles.getAll",t,{dataType:"json profiles",converters:{"json profiles":function(t){var e=[];for(var r in t.data)e.push(t.data[r]);return i.models(e)}}})}},{isExternal:function(){return this.attr("type")&&"profile-external-"===this.attr("type").substring(0,17)}});',address:e.uri}),r.global.require=l,r.global.define=t,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/user/auth_model*/
define("lib/models/user/auth_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Lib.Models.User.extend("Lib.Models.User.Auth",{whoAmI:function(){return this.api("auth.whoami",{},{dataType:"json user",converters:{"json user":function(e){return this.model(e.data)}.bind(this)}})}},{});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/group/type_model*/
define("lib/models/group/type_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Lib.Models.GroupType",{id:"uuid",attributes:{uuid:"uuid",name:"string",type:"string"}},{});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/group_model*/
define("lib/models/group_model",["module","@loader","require"],function(e,r,t){r.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var o=r.global.define,t=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.Group",{id:"uuid",attributes:{uuid:"uuid",name:"string",members:"Lib.Models.User.models",member_count:"number",type:"ProfileType",policy_priority:"number",has_policy:"boolean",leaders:"array",source:"string"},convert:{ProfileType:function(e){return"string"==typeof e&&(e={type:e,name:e}),new Lib.Models.GroupType(e)}},findOne:function(e){return this.api("groups.getByUuid",e,{type:"GET",dataType:"json group",converters:{"json group":function(e){return Lib.Models.Group.model(e.data)}}})},getMembers:function(e,r,t,o,s){var u={uuid:e,excludeLeaders:r,excludeInactive:s};return t&&(u.extended_data=t),o&&(u.profile=o),this.api("groups.getMembers",u,{dataType:"json users",converters:{"json users":function(e){return Lib.Models.User.models(e)}}})},getMemberCounts:function(e){return Lib.Models.Abstract.Fdp.api({path:"../api/fdp/1/",url:"group/memberCountsByProfile",data:{uuid:e},type:"GET"})},search:function(e){return this.api("groups.search",e,{type:"GET",dataType:"json group",converters:{"json group":function(e){return Lib.Models.Group.models(e.data)}}})},searchWithMeta:function(e){return this.api("groups.searchWithMeta",e,{type:"GET",dataType:"json group",converters:{"json group":function(e){return e.data.forEach(function(e){e.group.is_favourited=e.group_meta.is_favourited_by_current_user,e.group.meta=e.group_meta}),Lib.Models.Group.models(e.data)}}})},getMine:function(e){return this.api("groups.mine",e,{type:"GET",dataType:"json group",converters:{"json group":function(e){return e.data.forEach(function(e){e.group.is_favourited=e.group_meta.is_favourited_by_current_user,e.group.meta=e.group_meta}),Lib.Models.Group.models(e.data)}}})},favourite:function(e,r){var t=e?"add":"remove",o=r.is_favourited;return this.api("groups.favourites."+t,{group:r.uuid},{type:"POST",dataType:"json favourite",converters:{"json favourite":function(t){var s=e;if("ok"===t.data)return o!==s&&r.attr("is_favourited",s),r}}})},findAllProfiles:function(){return this.api("profiles.getAll",null,{type:"GET",dataType:"json group",converters:{"json group":function(e){var r=Object.keys(e.data).map(function(r){return e.data[r]});return Lib.Models.Group.models(r)}}})}},{initMembers:function(e){var r=this,t=$.Deferred();return this.members instanceof Lib.Models.User.List&&this.members.length?t.resolve().promise():this.users&&"object"==typeof this.users?(this.members=Lib.Models.User.models(this.users.length?this.users:Object.values(this.users)),this.member_count=this.members.length,t.resolve().promise()):(this.Class.getMembers(this.attr("uuid"),null,null,null,e).done(function(e){r.attr("members",e),t.resolve()}),t.promise())},favourite:function(e){this.Class.favourite(e,this)},setup:function(e){e.group_members&&(e.members=e.group_members,delete e.group_members),this._super(e)}});',address:e.uri}),r.global.require=t,r.global.define=o,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/secure_gateway/config_model*/
define("lib/models/secure_gateway/config_model",["module","@loader","require"],function(e,a,r){a.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var t=a.global.define,r=a.global.require;return a.global.define=void 0,a.global.module=void 0,a.global.exports=void 0,a.__exec({source:'Frog.Model.extend("Lib.Models.SecureGateway.Config",{attributes:{"securegateway.enabled":"boolean","securegateway.external_ip":"string","securegateway.external_port":"string","securegateway.internal_ip":"string","securegateway.wmi_host":"string","securegateway.wmi_port":"string"},defaults:{"securegateway.enabled":"","securegateway.external_ip":"","securegateway.external_port":"","securegateway.internal_ip":"","securegateway.wmi_host":"","securegateway.wmi_port":""},init:function(){this.validate(["securegateway.external_ip","securegateway.external_port","securegateway.internal_ip","securegateway.wmi_host","securegateway.wmi_port"],function(e){return!e})},findOne:function(e){var t,a=this;return this.api("systempreferences.getAll",e,{dataType:"json preferences",converters:{"json preferences":function(e){var r={};for(t in e.data)t.match(/securegateway\\./gi)&&(r[t]=e.data[t]);return a.model(r)}}})},create:function(){return this.update.apply(this,arguments)},update:function(e,t,a){var r=[];e["securegateway.enabled"]=e["securegateway.enabled"]?1:0;for(var n in e)e.hasOwnProperty(n)&&r.push({alias:n,value:e[n]});return this.api("systempreferences.setMultiple",{keys:r},{type:"POST",dataType:"json preferences",converters:{"json preferences":function(e){}}}).done(t).fail(a)}},{setup:function(e){e["securegateway.enabled"]="1"===e["securegateway.enabled"],this._super(e)}});',address:e.uri}),a.global.require=r,a.global.define=t,a.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/secure_gateway/rule_model*/
define("lib/models/secure_gateway/rule_model",["module","@loader","require"],function(e,t,s){t.get("@@global-helpers").prepareGlobal({require:s,name:e.id,deps:[]});var r=t.global.define,s=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Lib.Models.Abstract.Fdp.extend("Lib.Models.SecureGateway.Rule",{attributes:{description:"string",hosts:"frogarray",identities:"mixed",uuid:"string",target_port:"string"},setup:function(){this.identityLookup={users:Lib.Models.User.models([]),groups:Lib.Models.Group.models([])},this._super.apply(this,arguments)},defaults:{hosts:[],identities:{},description:""},serialize:{frogarray:function(e){return $.extend([],e)}},findAll:function(e){var t=this;return this.api({url:"securegateway/getallrules",data:e,dataType:"json rules",converters:{"json rules":function(e){var s,r=[];e=e.response,t.setupLookupModels(e.identities);for(var i in e.rules)(s=$.extend({},e.rules[i])).uuid=i,r.push(s);return t.models(r)}}})},findAllForCurrentUser:function(){var e=this;return this.api({url:"securegateway/getforcurrentuser",dataType:"json rules",converters:{"json rules":function(t){var s,r=[],i=[];t=t.response,e.setupLookupModels(t.identities);for(s in t.enabled)t.enabled[s].uuid=t.enabled[s].rule_uuid,i.push(t.enabled[s]);for(s in t.rules)r.push(t.rules[s]);return t.enabled=e.models(i),t.rules=e.models(r),t}}})},enable:function(e){return this.api({url:"securegateway/enableruleforcurrentuser",data:{uuid:e.attr("uuid")},type:"POST",dataType:"json rule",converters:{"json rule":function(e){return e.response}}})},create:function(e,t,s){return this.update(void 0,e,t,s)},update:function(e,t,s,r){var i=this;return t.hosts.length>1&&delete t.target_port,this.api({url:"securegateway/saverule",type:"POST",data:t,dataType:"json rules",converters:{"json rules":function(e){return i.setupLookupModels(e.response.identities),i.model(e.response.rule)}}}).done(s).fail(r)},destroy:function(e,t,s){return this.api({url:"securegateway/deleterule",type:"POST",data:{uuid:e}}).done(t).fail(s)},setupLookupModels:function(e){for(var t in e)for(var s in e[t])if(!this.identityLookup[t].get(e[t][s].uuid).length){var r="users"===t?Lib.Models.User.model(e[t][s]):Lib.Models.Group.model(e[t][s]);this.identityLookup[t].push(r)}}},{setup:function(e){e.hosts=e.hosts||[],e.identities=e.identities||{},this._super(e)},getUsers:function(){for(var e,t=Lib.Models.User.models([]),s=0;s<this.identities.length;s++)(e=this.Class.identityLookup.users.get(this.identities[s])).length&&t.push(e[0]);return t},getGroups:function(){for(var e,t=Lib.Models.Group.models([]),s=0;s<this.identities.length;s++)(e=this.Class.identityLookup.groups.get(this.identities[s])).length&&t.push(e[0]);return t},enable:function(){return this.Class.enable(this)}});',address:e.uri}),t.global.require=s,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/course/assets_model*/
define("lib/models/course/assets_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var i=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Lib.Models.CourseAssets",{attributes:{sites:"Lib.Models.Site.models"},defaults:{sites:new Lib.Models.Site.List}},{count:function(){return this.sites.length}});',address:e.uri}),l.global.require=o,l.global.define=i,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/course/types_model*/
define("lib/models/course/types_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Lib.Models.CourseTypes",{findAll:function(e){return $.Deferred().resolve(["Apprentice","Customer","Development","HS&E","Induction","IS","Knowledge","Manager","Other","Professional","Skills","Technical"]).promise()}},{});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/user/category_model*/
define("lib/models/user/category_model",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var r=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.User.Category",{id:"uuid",attributes:{name:"string",uuid:"string",ordering:"number",fields:"",loaded:"boolean",valid:"boolean"},findOne:function(t,e){var i=this;return this.api("users.getDataInCategory",{user_uuid:t,name:e},{dataType:"json category",converters:{"json category":function(t){return i.model(t.data)}}})}},{setup:function(t){var e=new Frog.Model.List([]);t.fields&&$.each(t.fields,function(t,i){e.push(i)}),t.valid=!0,t.fields=e,this._super(t)},isDirty:function(){var t=!1;return this.attr("fields")&&"function"==typeof this.attr("fields").each&&this.attr("fields").each(function(e,i){i.isDirty()&&(t=!0)}),t},validate:function(){var t=!0;return this.attr("fields")&&"function"==typeof this.attr("fields").each&&this.attr("fields").each(function(e,i){i.validate()||(t=!1)}),this.attr("valid",t),t}});',address:e.uri}),t.global.require=i,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/resource_remote_model*/
define("lib/models/resource_remote_model",["module","@loader","require"],function(e,t,r){t.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var n=t.global.define,r=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Lib.Models.Resource.extend("Lib.Models.Resource.Remote",{id:"uuid",attributes:{type:"string",uuid:"string",name:"string",url:"string",created_on:"integer",created_by:"string",folder_uuid:"string",description:"string",attachment:"Lib.Models.Resource.Attachment.model",target_uuid:"string"},create:function(e,t,n){return this.api("links.create",e,{type:"POST",dataType:"json remote_resource",converters:{"json remote_resource":function(e){return e.data}}}).done(t).fail(n)},findOne:function(e,t,n){return this.api("links.getByUuid",{uuid:e},{type:"GET",dataType:"json remote_resource",converters:{"json remote_resource":function(e){return Lib.Models.Resource.Remote.model(e.data)}}}).done(t).fail(n)},update:function(e,t,n,r){return this.api("links.update",t,{type:"POST",dataType:"json remote_resource",converters:{"json remote_resource":function(e){return Lib.Models.Resource.Remote.model(e.data)}}}).done(n).fail(r)},delete:function(e,t,n){return this.api("links.delete",{uuid:e},{type:"POST",dataType:"json remote_resource",converters:{"json remote_resource":function(e){return e.data}}}).done(t).fail(n)},duplicate:function(e,t,n){return this.api("links.duplicate",e,{type:"POST",dataType:"json remote_resource",converters:{"json remote_resource":function(e){return Lib.Models.Resource.Remote.model(e.data)}}}).done(t).fail(n)},copyToFolder:function(e,t,n){return this.api("links.createFromResource",e,{type:"POST",dataType:"json remote_resource",converters:{"json remote_resource":function(e){return Lib.Models.Resource.Remote.model(e.data)}}}).done(t).fail(n)},send:function(e,t,n){return this.api("links.sendTo",e,{type:"POST"}).done(t).fail(n)}},{setup:function(e){e.author_uuid=e.created_by,e.source="native",e.attachment={file:{mime:{ext:"link",mime:"link",type:"link"}},name:e.name,type:"link",updated:e.created_on},this._super(e)},copy:function(e){return this.Class.duplicate($.extend({},e,{uuid:this.uuid}))},copyToFolder:function(e){return this.Class.copyToFolder($.extend({},e,{uuid:this.uuid}))},send:function(e){return this.Class.send($.extend({},e,{uuid:this.uuid,type:"personal"}))},destroy:function(e){return e&&e.uuid&&this.Class.api("timeline.deleteevent",{uuid:e.uuid},{type:"POST"}),this.Class.delete(this.uuid).done(function(){this.elements().trigger("resources.list.remove",this)}.bind(this))},isReplaceable:function(){return!1},canExtract:function(){return!1},getUuid:function(){return this.uuid},getName:function(){return this.name},getUrl:function(){return this.url},getCreatedOn:function(){return this.created_on},getCreatedBy:function(){return this.created_by},getFolderUuid:function(){return this.folder_uuid},getDescription:function(){return this.description},getTargetUuid:function(){return this.target_uuid}});',address:e.uri}),t.global.require=r,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/course_model*/
define("lib/models/course_model",["module","@loader","require"],function(e,r,t){r.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var s=r.global.define,t=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.Course",{attributes:{uuid:"string",name:"string",course_id:"string",type:"string",description:"string",duration:"number",provider:"string",cost:"number",award:"Lib.Models.Award.model",assets:"Lib.Models.CourseAssets.model",status:"string",start_date:"number",end_date:"number",location:"string",notify_all:"frogboolean",is_pending:"frogboolean",delegates:"Lib.Models.CourseDelegate.models",register_received:"number",template_uuid:"string",total_delegates_count:"number",marked_delegates_count:"number",is_completed:"frogboolean",recently_notified_delegates:"object"},defaults:{assets:new Lib.Models.CourseAssets,delegates:new Lib.Models.CourseDelegate.List,is_pending:!1},init:function(){var e=this;this.validate("name",function(e){var r=e&&e.replace(/^\\s+|\\s+$/g,"")||"";return e||r?0===$.trim(e).length&&0!==e.length?"course.model.error.name.spaces":r.length>=3&&r.length<=100?void 0:"course.model.error.invalid-name":"course.model.error.no-name"}),this.validate("course_id",function(e){if(e&&e.length>255)return"course.model.error.invalid-course_id"}),Lib.Models.CourseTypes.findAll().done(function(r){e.validate("type",function(e){return e?-1===$.inArray(e,r)?"course.model.error.invalid-type":void 0:"course.model.error.no-type"})}),this.validate("description",function(e){if(e&&e.length>255)return"course.model.error.invalid-description"}),this.validate("duration",function(e){if(e||isNaN(e)){if(e!=parseFloat(e).toFixed(2)&&e!=parseInt(e,10))return"course.model.error.invalid-duration";if(e>=1e3)return"course.model.error.duration-exceeded"}}),this.validate("provider",function(e){if(e&&e.length>255)return"course.model.error.invalid-provider"}),this.validate("location",function(e){if(e&&e.length>255)return"course.model.error.invalid-location"}),this.validate("cost",function(e){if(e||isNaN(e)){if(!Frog.Utilities.Validate.isInt(e))return"course.model.error.invalid-cost";if(e>999999999)return"course.model.error.cost-exceeded";if(e<0)return"course.model.error.invalid-cost"}}),this.validate("start_date",function(e){if(!e)return"course.model.error.start_date.required"}),this.validate("end_date",function(e){return e?this.attr("start_date")&&e<=this.attr("start_date")?"course.model.error.end_date.less_than_start":void 0:"course.model.error.end_date.required"})},_prepareData:function(e){var r={},t=[],s=[];if(e.assets){r.sites=[];for(var i in e.assets.sites)r.sites.push({uuid:e.assets.sites[i].uuid})}if(e.award?t=e.award.uuid:null===e.award&&(t=e.award),e.delegates)for(var o in e.delegates)s.push({uuid:e.delegates[o].user.uuid});return e.assets=r,e.award=t,e.delegates=s,e},findAll:function(e){var r=this;return this.api("course.getByStatus",e,{dataType:"json courses",converters:{"json courses":function(e){return r.models(e)}}})},findOne:function(e){var r=this;return this.api("course.get",e,{dataType:"json course",converters:{"json course":function(e){return r.model(e.data[0])}}})},findMyCourses:function(e,r,t){var s=this;return this.api("course.getMyCourses",e,{dataType:"json courses",converters:{"json courses":function(e){return s.models(e)}},success:r,error:t})},update:function(e,r,t,s){var i=this;return this.api("course.update",this._prepareData(r),{type:"POST",success:t,error:s,dataType:"json course",converters:{"json course":function(e){return i.model(e.data[0])}}})},create:function(e,r,t){var s=this;if(!e.template_uuid)throw new Error(\'Creating a course requires a "template_uuid"\');return this.api("course.schedule",this._prepareData(e),{type:"POST",success:r,error:t,dataType:"json course",converters:{"json course":function(e){return s.model(e.data[0])}}})},destroy:function(e,r,t){var s=this,i={uuid:e};this.api("course.cancel",i,{type:"POST",success:r,error:t,dataType:"json course",converters:{"json course":function(e){return s.model(e.data[0])}}})},_enableNotifications:function(e,r,t){var s=this,i={uuid:e};return this.api("course.notifyAllUsers",i,{type:"POST",success:r,error:t,dataType:"json courses",converters:{"json courses":function(e){return s.model(e.data)}}})},_prepareDelegatesForSaveMarks:function(e){var r=[];for(var t in e)r.push({uuid:e[t].uuid,attended:e[t].attended,passed:e[t].passed,qualification_id:e[t].qualification_id});return r},_saveMarks:function(e,r,t){var s=this,i={uuid:e.uuid,register_received:e.register_received||null,delegates:this._prepareDelegatesForSaveMarks(e.delegates)};return this.api("course.mark",i,{type:"POST",success:r,error:t,dataType:"json course",converters:{"json course":function(e){return s.model(e.data)}}})}},{enableNotifications:function(){var e=this;return this.attr("is_pending",!0),this.Class._enableNotifications(this.attr("uuid")).done(function(r){e.attr("delegates",r.attr("delegates")),e.attr("notify_all",!0),$.event.trigger("updated",e,Lib.Models.Course)}).always(function(){e.attr("is_pending",!1)})},saveMarks:function(){var e=this;return $.Deferred(function(r){e.Class._saveMarks(e.serialize(),function(t){e.attrs(t.attrs()),r.resolve()},function(){r.reject()})}).promise()},sortDelegates:function(){this.delegates.sort(function(e,r){var t=e.user.displayname,s=r.user.displayname;return t<s?-1:t>s?1:0})}});',address:e.uri}),r.global.require=t,r.global.define=s,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/course/template_model*/
define("lib/models/course/template_model",["module","@loader","require"],function(e,t,r){t.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var s=t.global.define,r=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.CourseTemplate",{attributes:{uuid:"string",name:"string",course_id:"string",type:"string",description:"string",duration:"number",provider:"string",cost:"number",award:"Lib.Models.Award.model",assets:"Lib.Models.CourseAssets.model",tags:"Lib.Models.Keyword.models"},defaults:{name:"",type:null,assets:new Lib.Models.CourseAssets},init:function(){var e=this;this.validate("name",function(e){return cleanName=e&&e.replace(/^\\s+|\\s+$/g,"")||"",e||cleanName?0===$.trim(e).length&&0!==e.length?"template.model.error.name.spaces":cleanName.length>=3&&cleanName.length<=100?void 0:"template.model.error.invalid-name":"template.model.error.no-name"}),this.validate("course_id",function(e){if(e&&e.length>255)return"template.model.error.invalid-course_id"}),Lib.Models.CourseTypes.findAll().done(function(t){e.validate("type",function(e){return e?-1===$.inArray(e,t)?"template.model.error.invalid-type":void 0:"template.model.error.no-type"})}),this.validate("description",function(e){if(e&&e.length>255)return"template.model.error.invalid-description"}),this.validate("duration",function(e){if(e){if(e!=parseFloat(e).toFixed(2)&&e!=parseInt(e,10))return"template.model.error.invalid-duration";if(e>=1e3)return"template.model.error.duration-exceeded"}else if(null!==e&&void 0!==e&&isNaN(e))return"template.model.error.invalid-duration"}),this.validate("provider",function(e){if(e&&e.length>255)return"template.model.error.invalid-provider"}),this.validate("cost",function(e){if(e){if(!Frog.Utilities.Validate.isInt(e))return"template.model.error.invalid-cost";if(e>999999999)return"template.model.error.cost-exceeded";if(e<0)return"template.model.error.invalid-cost"}else if(null!==e&&void 0!==e&&isNaN(e))return"template.model.error.invalid-cost"})},_prepareData:function(e){var t={},r=[];if(e.assets){t.sites=[];for(var s in e.assets.sites)t.sites.push({uuid:e.assets.sites[s].uuid})}return e.award?r=e.award.uuid:null===e.award&&(r=e.award),e.assets=t,e.award=r,e},findAll:function(e,t,r){var s=this;return this.api("course.getByStatus",e,{dataType:"json course_templates",converters:{"json course_templates":function(e){return s.models(e)}},success:t,error:r})},findOne:function(e,t,r){var s=this;return this.api("course.get",e,{dataType:"json course_template",converters:{"json course_template":function(e){return s.model(e.data[0])}},success:t,error:r})},hasDuplicate:function(e,t,r){return this.api("course.hasDuplicate",e,{dataType:"json course_template",converters:{"json course_template":function(e){return e.data}},success:t,error:r})},create:function(e,t,r){var s=this;return this.api("course.createTemplate",this._prepareData(e),{type:"POST",dataType:"json course_template",converters:{"json course_template":function(e){return s.model(e.data[0])}},success:t,error:r})},update:function(e,t,r,s){var a=this;return this.api("course.update",this._prepareData(t),{type:"POST",dataType:"json course_template",converters:{"json course_template":function(e){return a.model(e.data[0])}},success:r,error:s})},destroy:function(e,t,r){var s=this,a={uuid:e};this.api("course.deleteTemplate",a,{type:"POST",dataType:"json course_template",converters:{"json course_template":function(e){return s.model(e.data[0])}},success:t,error:r})}},{save:function(e,t){var r=this,s=this.isNew()?"created":"updated";return this._super(function(){"Lib.Models.CourseTemplate"!==r.constructor.fullName&&$.event.trigger(s,r,Lib.Models.CourseTemplate),"function"==typeof e&&e()},t)},destroy:function(e,t){var r=this;return this._super(function(){"Lib.Models.CourseTemplate"!==r.constructor.fullName&&$.event.trigger("destroyed",r,Lib.Models.CourseTemplate),"function"==typeof e&&e()},t)}});',address:e.uri}),t.global.require=r,t.global.define=s,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/network_drive_model*/
define("lib/models/network_drive_model",["module","@loader","require"],function(e,r,i){r.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var s=r.global.define,i=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.NetworkDrive",{attributes:{uuid:"string",alias:"string",drive_path:"string",show_in_frog_drive:"Lib.Models.UserProfile.models",show_in_widget:"Lib.Models.UserProfile.models"},defaults:{alias:"",drive_path:""},init:function(){this.validate("alias",function(e){if(void 0===e||0===e.length)return"error.alias.missing"}),this.validate("drive_path",function(e){if(void 0===e||e.length<3)return"error.drive_path.missing"})},findAll:function(e,r,i){var s=this;return this.api("networkshareddrives.getall",e,{success:r,error:i,dataType:"json networkdrive",converters:{"json networkdrive":function(e){return s.models(e.data)}}})},findOne:function(e,r,i){var s=this;return this.api("networkshareddrives.getByUuid",e,{success:r,error:i,dataType:"json networkdrive",converters:{"json networkdrive":function(e){return s.model(e.data)}}})},findByUser:function(e,r,i){var s=this;return this.api("networkshareddrives.getdrivesbyuser",e,{success:r,error:i,dataType:"json networkdrive",converters:{"json networkdrive":function(e){return s.models(e.data)}}})},create:function(e,r,i){return this.api("networkshareddrives.create",e,{type:"post",success:r,error:i,dataType:"json networkdrive",converters:{"json networkdrive":function(e){return e.data}}})},update:function(e,r,i,s){return this.api("networkshareddrives.update",r,{type:"post",success:i,error:s,dataType:"json networkdrive",converters:{"json networkdrive":function(e){return e.data}}})},destroy:function(e,r,i){return this.api("networkshareddrives.delete",{uuid:e},{type:"post",success:r,error:i})}},{setup:function(e){void 0===e.show_in_frog_drive&&(e.show_in_frog_drive=Lib.Models.UserProfile.models({})),void 0===e.show_in_widget&&(e.show_in_widget=Lib.Models.UserProfile.models({})),void 0!==e.user_uuid&&void 0===e.uuid&&(e.uuid="USER_DRIVE"),this._super(e)},getAlias:function(){var e=this.alias;return this.isDirty()||(e||"USER_DRIVE"!==this.uuid?!e&&this.uuid&&(e=this.Class._("menu.docs.network_drive.shared_drive.default",null,"resources")):e=this.Class._("menu.docs.network_drive.user_drive.default",null,"resources")),e}});',address:e.uri}),r.global.require=i,r.global.define=s,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/network/directory_model*/
define("lib/models/network/directory_model",["module","@loader","require"],function(e,r,t){r.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var o=r.global.define,t=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.Network.Directory",{id:"id",attributes:{id:"string",shared_drive_uuid:"string",path:"string",name:"string",date_added:"string",folders:"Lib.Models.Network.Directory.models",files:"Lib.Models.Network.File.models"},defaults:{path:null,name:null},findOne:function(e,r,t){var o=this,n=$.Deferred();return this.api("networkfiles.getdir",e,{dataType:"json directory",type:"POST",converters:{"json directory":function(r){var t,n,i=o.model($.extend(e,r.data)),s=i.attr("folders"),a=i.attr("files");for(t=0,n=s.length;t<n;t++)s[t].attr("shared_drive_uuid",e.shared_drive_uuid);for(t=0,n=a.length;t<n;t++)a[t].attr("shared_drive_uuid",e.shared_drive_uuid);return i}}}).done(function(e){n.resolve(e)}).fail(function(e,r,t){switch(JSON.parse(e.responseText||"null").status.code){case 4e3:n.reject("error.invalid.param");break;case 3e3:n.reject("error.access.denied");break;case 9e3:n.reject("error.folder.not.found");break;case 14e3:n.reject("error.account.locked");break;default:n.reject("error.authentication")}}),n.promise()},create:function(e,r,t){return this.api("networkfiles.addfolder",e,{type:"post",success:r,error:t,dataType:"json directory",converters:{"json directory":function(e){return e.data}}})},update:function(e,r,t,o){return this.api("networkfiles.renamefolder",r,{type:"post",success:t,error:o,dataType:"json directory",converters:{"json directory":function(e){return e.data}}})},_move:function(e){return this.api("networkfiles.movefolder",e,{type:"post",dataType:"json directory",converters:{"json directory":function(e){return e.data}}})},_deleteDirectory:function(e,r){var t=$.Deferred();return this.api("networkfiles.removefolder",{shared_drive_uuid:e.attr("shared_drive_uuid"),path:e.attr("path")},{dataType:"json directory",type:"POST",converters:{"json directory":function(e){return e}}}).done(function(e){t.resolve(e)}).fail(function(e,r,o){switch(JSON.parse(e.responseText||"null").status.code){case 2e3:t.reject("error.delete.authentication");break;case 3e3:t.reject("error.delete.access.denied");break;case 9e3:t.reject("error.delete.folder_not_found");break;case 14e3:t.reject("error.delete.account.locked");break;default:t.reject("error.unknown")}}),t.promise()}},{setup:function(e){void 0!==e.path&&(e.id=Frog.Utilities.generateSimpleId()),this._super(e)},deleteResource:function(e){return this.Class._deleteDirectory(this)},move:function(e){var r=this.attrs();return e instanceof Lib.Models.Network.Directory?r.path_to=e.attr("path"):r.path_to=e,this.Class._move(r)}});',address:e.uri}),r.global.require=t,r.global.define=o,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/network/file_model*/
define("lib/models/network/file_model",["module","@loader","require"],function(e,r,t){r.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var o=r.global.define,t=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.Network.File",{id:"id",escapeIdentity:!0,attributes:{id:"string",shared_drive_uuid:"string",path:"string",name:"string",filename:"string",mime:"Lib.Models.File.Mime.model",size:"string",date_added:"number",resource:"Lib.Models.Resource.model"},_rename:function(e){return this.api("networkfiles.renamefile",e,{type:"post",dataType:"json file",converters:{"json file":function(e){return e.data}}})},_move:function(e){var r=$.Deferred();return this.api("networkfiles.movefile",e,{type:"post"}).done(function(e){r.resolve(e.data)}).fail(function(e,t,o){switch(JSON.parse(e.responseText||"null").status.code){case 2e3:r.reject("error.move.authentication");break;case 3e3:r.reject("error.move.access.denied");break;case 14e3:r.reject("error.move.account.locked");break;case 9e3:r.reject("error.move.file_not_found");break;default:r.reject("error.unknown")}}),r.promise()},createFromResource:function(e){var r=$.Deferred();return this.api("networkfiles.addfilefromresource",{resource:e.resource.attr("uuid"),shared_drive_uuid:e.shared_drive_uuid,path:e.path},{type:"POST"}).done(function(e){r.resolve(e.data.new_file_name)}).fail(function(e,t,o){switch(JSON.parse(e.responseText||"null").status.code){case 2e3:r.reject("error.upload.resource.authentication");break;case 3e3:r.reject("error.upload.resource.access.denied");break;case 14e3:r.reject("error.upload.resource.account.locked");break;case 9e3:r.reject("error.upload.resource.file_not_found");break;default:r.reject("error.unknown")}}),r.promise()},_downloadToResource:function(e,r){var t=$.Deferred();return this.api("networkfiles.downloadfiletoresource",{shared_drive_uuid:e.attr("shared_drive_uuid"),file_path:e.attr("path").concat("/",e.attr("filename")),type:r.type},{dataType:"json file",type:"POST",converters:{"json file":function(r){return e.attr("resource",r.data[0]),$.event.trigger("created",new Lib.Models.Resource(r.data[0]),Lib.Models.Resource,!0),e}}}).done(function(e){t.resolve(e)}).fail(function(e,r,o){switch(JSON.parse(e.responseText||"null").status.code){case 2e3:t.reject("error.download.authentication");break;case 3e3:t.reject("error.download.access.denied");break;case 9e3:t.reject("error.download.file_not_found");break;case 14e3:t.reject("error.download.account.locked");break;case 15e3:t.reject("error.download.unsupported.filetype");break;default:t.reject("error.unknown")}}),t.promise()},_deleteFile:function(e,r){var t=$.Deferred();return this.api("networkfiles.removeFile",{shared_drive_uuid:e.attr("shared_drive_uuid"),path:e.attr("path").concat("/",e.attr("filename"))},{dataType:"json file",type:"POST",converters:{"json file":function(e){return e}}}).done(function(e){t.resolve(e)}).fail(function(e,r,o){switch(JSON.parse(e.responseText||"null").status.code){case 2e3:t.reject("error.delete.authentication");break;case 3e3:t.reject("error.delete.access.denied");break;case 9e3:t.reject("error.delete.file_not_found");break;case 14e3:t.reject("error.delete.account.locked");break;default:t.reject("error.delete.unknown")}}),t.promise()},_copy:function(e){var r=$.Deferred();return this.api("networkfiles.copyFile",{shared_drive_uuid:e.attr("shared_drive_uuid"),path:e.attr("path").concat("/",e.attr("filename"))},{dataType:"json file",type:"POST",converters:{"json file":function(e){return e}}}).done(function(e){r.resolve(e)}).fail(function(e,t,o){switch(JSON.parse(e.responseText||"null").status.code){case 2e3:r.reject("error.copy.authentication");break;case 3e3:r.reject("error.copy.access.denied");break;case 4e3:r.reject("error.copy.unsupported.filetype");break;case 9e3:r.reject("error.copy.file_not_found");break;case 14e3:r.reject("error.copy.account.locked");break;default:r.reject("error.unknown")}}),r.promise()}},{setup:function(e){void 0!==e.path&&(e.id=Frog.Utilities.generateSimpleId()),this._super(e)},downloadToResource:function(e){e.type;return this.Class._downloadToResource(this,e)},deleteResource:function(e){return this.Class._deleteFile(this)},copy:function(e){return this.Class._copy(this)},move:function(e){var r=this.serialize();return r.path=r.path.concat("/",r.filename),e instanceof Lib.Models.Network.Directory?r.path_to=e.attr("path"):r.path_to=e,this.Class._move(r)},rename:function(e){var r=this.serialize();return r.path_to=r.path.concat("/",e),r.path=r.path.concat("/",r.filename),this.Class._rename(r)}});',address:e.uri}),r.global.require=t,r.global.define=o,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/site/condition_model*/
define("lib/models/site/condition_model",["module","@loader","require"],function(t,e,n){e.get("@@global-helpers").prepareGlobal({require:n,name:t.id,deps:[]});var i=e.global.define,n=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'Frog.Model.extend("Lib.Models.Site.Condition.Base",{attributes:{uuid:"string",unless:"unlessc"},defaults:{unless:!1},convert:{unlessc:function(t){return!1===t||!0===t?new Lib.Models.Site.Condition.Direction({unless:t,uuid:this.arguments&&this.arguments.length&&this.arguments[0].uuid||null}):t instanceof Lib.Models.Site.Condition.Direction&&t}},serialize:{unlessc:function(t){return"undefined"!==t.unless?!t.unless:t}},id:"uuid",setup:function(){var t=!1;if(this.sprintf=jQuery.i18n.printf,this.prototype.sprintf=jQuery.i18n.printf,"Base"!==this.shortName&&(jQuery.isFunction(this.findOne)||(t="findOne"),t))throw console.error("Interface Error: %s does not have a %s method",this.fullName,t),new TypeError(this.printf("%1 not implemented",[t]));this._super.apply(this,arguments)},findOne:!1},{getDirection:function(){return this.unless.serialize().unless},trigger:function(t,n){$.event.trigger(t,n,this,!0)}}),Frog.Model.List.extend("Lib.Models.Site.Condition.List",{},{removeRule:function(t){var n=this.indexOf(t);return this.splice(n,1)}}),Lib.Models.Site.Condition.Base.extend("Lib.Models.Site.Condition.Group",{defaults:{groups:[],type:"group",unless:"false"},attributes:{groups:"Lib.Models.Group.models",unless:"unlessc"},findOne:function(){},init:function(){this.validate("groups",function(t){return t instanceof Lib.Models.Group.List?t.length?null:"siteactions.validation.groups.length":"siteactions.validation.groups.list_type"})}},{serialize:function(){for(var t=this._super(),n=[],e=0,i=t.groups.length;e<i;e++)n.push(t.groups[e].uuid);return t.content=n.join(","),t},getGroups:function(){return this.groups},setGroup:function(t){this.groups.push(t)},removeGroup:function(t){this.groups.remove(t)},attrs:function(t){var n,e,i;return t&&t.content&&t.content.length>0&&(!t.groups||0===t.groups.length)&&(i=t.content,-1!==(n=$.inArray("export",i))&&(e={uuid:0,name:this.Class._("viewrules.ruleset.label.unknown_group",null,"frogui"),type:{type:"unknown"}},i.splice(n,1),i.push(Lib.Models.Group.model(e))),t.groups=i),this._super(t)}}),Lib.Models.Site.Condition.Base.extend("Lib.Models.Site.Condition.Date",{defaults:{time_context:"between",type:"date",content:null,unless:"false"},attributes:{content:"DateContent",unless:"unlessc"},convert:{DateContent:function(t){var n;return"string"==typeof t&&t.search(",")>0?(n=t.split(","),{before:moment.unix(n[0]),after:moment.unix(n[1])}):(n=moment.unix(t)).isValid()?n:t}},findOne:function(){},init:function(){this.validate("content",function(t){if(-1!==jQuery.inArray(this.time_context,["between"])&&Array.isArray(t)&&t.length<=1)return"siteactions.validation.date.content_format"})}},{serialize:function(){var t=this._super();return jQuery.isPlainObject(this.content)?(moment.isMoment(this.content.before)?t.content.before=this.content.before.unix():t.content.before=this.content.before,moment.isMoment(this.content.after)?t.content.after=this.content.after.unix():t.content.after=this.content.after):t.content=moment.isMoment(this.content)?this.content.unix():this.content,jQuery.extend(!0,{},t)},getDate:function(){return moment.isMoment(this.content)?this.content:jQuery.isPlainObject(this.content)?this.content:moment.unix(this.content)},setDate:function(t){this.content=t},getTimeContext:function(){return"date"===this.type?this.time_context:this.type.substring("4")},isNew:function(){var t=this[this.constructor.id];return void 0===t||null===t||""===t||t.search("_")>-1}}),Lib.Models.Site.Condition.Base.extend("Lib.Models.Site.Condition.Loggedin",{defaults:{type:"loggedin",unless:"false",content:"true"},attributes:{unless:"unlessc"},findOne:function(){},init:function(){}},{isNew:function(){var t=this[this.constructor.id];return void 0===t||null===t||""===t||t.search("_")>-1}}),Lib.Models.Site.Condition.Base.extend("Lib.Models.Site.Condition.Keyword",{defaults:{type:"keyword",unless:"false",content:""},attributes:{unless:"unlessc"},init:function(){this.validate("content",function(){if(0==this.content.length)return"siteactions.validation.keyword.length"})}},{isNew:function(){var t=this[this.constructor.id];return void 0===t||null===t||""===t||t.search("_")>-1},setKeyword:function(t){this.content=t},getContent:function(){return this.content},init:function(){}}),Lib.Models.Site.Condition.Base.extend("Lib.Models.Site.Condition.Mobile",{defaults:{type:"mobile",unless:"false",content:"true"},attributes:{unless:"unlessc"},findOne:function(){},init:function(){}},{isNew:function(){var t=this[this.constructor.id];return void 0===t||null===t||""===t||t.search("_")>-1}}),Frog.Model.extend("Lib.Models.Site.Condition.Direction",{defaults:{unless:!1},attributes:{unless:"frogboolean"}},{id:"uuid",serialize:function(){var t=this._super();return t.unless=!t.unless,t},attrs:function(t){return t&&(t.unless=!t.unless),this._super(t)}});',address:t.uri}),e.global.require=n,e.global.define=i,e.get("@@global-helpers").retrieveGlobal(t.id,void 0)});
/*lib/models/site/rule_model*/
define("lib/models/site/rule_model",["module","@loader","require"],function(t,e,i){e.get("@@global-helpers").prepareGlobal({require:i,name:t.id,deps:[]});var r=e.global.define,i=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'Array.lastElement=function(t){return t[t.length-1]},Frog.Model.extend("Lib.Models.Site.Rule",{attributes:{context_uuid:"string",applies_to:"string",rules:"Conditions",disabled:"frogboolean",is_incomplete:"frogboolean"},defaults:{rules:[],disabled:!1,is_incomplete:!1},convert:{Conditions:function(t){var e=[];return jQuery.each(t,function(t,i){switch(i.type){case"group":e.push(new Lib.Models.Site.Condition.Group(i));break;case"date":e.push(new Lib.Models.Site.Condition.Date(i));break;case"loggedin":e.push(new Lib.Models.Site.Condition.Loggedin(i));break;case"keyword":e.push(new Lib.Models.Site.Condition.Keyword(i));break;case"mobile":e.push(new Lib.Models.Site.Condition.Mobile(i));break;default:return}}),new Lib.Models.Site.Condition.List(e)}},init:function(){this.validate("rules",function(t){return t instanceof Lib.Models.Site.Condition.List?t.length?null:"siteactions.validation.rules.length":"siteactions.validation.rules.list_type"}),this.validate("applies_to",function(t){return"string"==typeof t?-1===jQuery.inArray(t,["show","hide"])?"siteactions.validation.applies_to.content":null:"siteactions.validation.applies_to.type"}),this.validate("rules",function(t){var e;if(t instanceof Lib.Models.Site.Condition.List&&t.length&&(e=t.map(function(t,e){var i=t.errors();if(Object.size(i))return{rule:t,errors:i}}),Array.isArray(e)&&e.length))return e})},cache:{__cache:{},__lastItem:null,registerSite:function(t){var e=this;return t in this.__cache||(this.__cache[t]={}),{site_uuid:t,registerContext:function(t){return e.registerContext(this.site_uuid,t)},removeContext:function(t){return e.removeContext(this.site_uuid,t)},put:function(t,i){return e.put(this.site_uuid,t,i)},get:function(t,i){return e.get(this.site_uuid,t,i)},update:function(t,i){return e.update(this.site_uuid,t,i)}}},removeSite:function(t){return t in this.__cache&&delete this.__cache[t],this.scope()},registerContext:function(t,e){var i=this;return t in this.__cache||this.registerSite(t),e in this.__cache[t]||(this.__cache[t][e]=[]),{site_uuid:t,context_uuid:e,context:this.__cache[t][e],put:function(t){return i.put(this.site_uuid,this.context_uuid,t)},get:function(t){return i.get(this.site_uuid,this.context_uuid,t)},update:function(t){return i.update(this.site_uuid,this.context_uuid,t)},remove:function(t){return i.remove(this.site_uuid,this.context_uuid,t)}}},removeContext:function(t,e){return t in this.__cache&&e in this.__cache[t]&&delete this.__cache[t][e],this.scope()},get:function(t,e,i){if(!arguments.length)return null;if(!(t in this.__cache))return null;if(!i)return this.__cache[t][e];for(var r in this.__cache[t][e]){var n=this.__cache[t][e][r];if("uuid"in n&&n.uuid===i)return n}return null},put:function(t,e,i){return Array.isArray(this.__cache[t][e])||(this.__cache[t][e]=[]),Array.isArray(i)?jQuery.merge(this.__cache[t][e],i):this.__cache[t][e].push(i),this.__lastItem=Array.lastElement(this.__cache[t][e]),this.scope()},update:function(t,e,i){var r=this.get(t,e);return r.forEach(function(t,e,r){i.uuid===t.uuid&&r.splice(e,1,i)}),i.uuid===this.__lastItem.uuid&&(this.__lastItem=Array.lastElement(r)),this.scope()},remove:function(t,e,i){var r=this.get(t,e);return r.forEach(function(t,e,r){i.uuid===t.uuid&&r.splice(e,1)}),i.uuid===this.__lastItem.uuid&&(this.__lastItem=Array.lastElement(r)),this.scope()},scope:function(){return{get:this.get.bind(this),registerSite:this.registerSite.bind(this),registerContext:this.registerContext.bind(this),remove:this.remove.bind(this),removeContext:this.removeContext.bind(this),removeSite:this.removeSite.bind(this),put:this.put.bind(this),update:this.update.bind(this)}}},findAll:function(t){var e,i=this;if(t=t||{},2===Object.keys(t).length){if(e=this.cache.get(t.site_uuid,t.uuid))return jQuery.Deferred().resolve(this.models(e)).promise();this.cache.registerSite(t.site_uuid).registerContext(t.uuid)}return this.api("rules.getRulesForContext",t,{dataType:"json rules",converters:{"json rules":function(t){var e=t.data.rulesets,r=t.params.uuid,n=t.params.site_uuid,s=i.cache.registerSite(n).registerContext(r);return e.length&&s.put(e),i.models(e)}}})},findOne:function(t){var e=this;return t=t||{},this.api("rules.getRuleset",t,{dataType:"json ruleset",converters:{"json ruleset":function(t){var i=t.data,r=t.data.context_uuid,n=t.params.site_uuid;return e.cache.registerSite(n).registerContext(r).update(i),e.model(i)}}})},findLast:function(t){var e=this;return t=t||{},this.api("rules.getLastRulesetForContext",t,{dataType:"json ruleset",converters:{"json ruleset":function(t){var i=t.data;return e.model(i)}}})},siteHasActitiviesWithRules:function(t,e){var i={};return t&&(i.uuid=t),e&&(i.page=e),this.api("rules.siteHasActitiviesWithRules",i,{dataType:"json response",converters:{"json response":function(t){return t.data}}})},create:function(t,e,i){var r=this;this.api("rules.create",t,{type:"POST",dataType:"json rules",converters:{"json rules":function(t){var i=t.params.site_uuid,n=t.params.context_uuid;r.cache.registerSite(i).registerContext(n).put(t.data),e(t.data)}}})},update:function(t,e,i,r){var n=this;this.api("rules.update",e,{type:"POST",dataType:"json rules",converters:{"json rules":function(t){var e=t.params.site_uuid,r=t.params.context_uuid;n.cache.registerSite(e).registerContext(r).update(t.data),i(t.data)}}})},duplicate:function(t){var e=this;if(!t||void 0===t)throw new RangeError(jQuery.i18n.printf("Missing parameter. Expected \'context_uuid\' but found %1",[typeof t]));return this.api("rules.duplicate",{context_uuid:t},{type:"POST",dataType:"json ruleset",converters:{"json ruleset":function(t){var i=t.data;return e.model(i)}}})},copyRulesToNewContext:function(t,e){return this.api("rules.copyRulesToNewContext",{from_uuid:t,to_uuid:e},{type:"POST",dataType:"json copied",converters:{"json copied":function(t){return t.data}}})},getCache:function(){return this.cache.scope()}},{remove:function(){var t=this;return this.Class.api("rules.delete",{uuid:this.attr("uuid")},{type:"post"}).done(function(){t.Class.cache.remove(t.site_uuid,t.context_uuid,t.serialize()),t.destroy()})},checkForUpdates:function(t){var e=this;return jQuery.extend(t,{uuid:this.attr("uuid")}),this.Class.findOne(t).done(function(t){jQuery.extend(!0,e,t)})},isEnabled:function(){return!this.disabled},isDisabled:function(){return this.disabled},save:function(t,e,i){var r=this.errors();if(Object.size(r))return i(r);this.rules.each(function(t,e){e.uuid&&-1!==e.uuid.indexOf("_")&&delete e.uuid}),this._super(t,e)}}),Frog.Model.List.extend("Lib.Models.Site.Rule.List",{setup:function(t,e){this._super(t,e),this.prototype.DuplicateRuleError=function(t,e,i){this.name="DuplicateRuleError",this.message=t||"There rule added is a exactly duplicate of a pre-existing rule.",this.original=jQuery.extend(!0,{},e)||{},this.duplicate=jQuery.extend(!0,{},i)||{}},this.prototype.DuplicateRuleError.prototype=new Error,this.prototype.DuplicateRuleError.prototype.constructor=this.prototype.DuplicateRuleError,this.prototype.NonExistentRuleError=function(t,e){this.name="NonExistentRuleError",this.message=t||"This rule does not exist in this list",this.rule=jQuery.extend(!0,{},e)},this.prototype.NonExistentRuleError.prototype=new Error,this.prototype.NonExistentRuleError.prototype.constructor=this.prototype.NonExistentRuleError}},{deleteRule:function(t){var e=this;return t.remove().done(function(){e.remove(t)})},addRule:function(t){var e=this.grep(function(e){return e.serialize()==t.serialize()});if(e.length)throw new this.DuplicateRuleError("Tried to add duplicate rule to list",e,t);this.push(t)},updateRule:function(t){var e,i=this.grep(function(e){return e==t});if(!i.length)throw new this.NonExistentRuleError("Could not find matching rule",t);if(i.length>1)throw new this.DuplicateRuleError("Expected one but found duplicates of rule",i,t);e=i.get(t)[0],jQuery.extend(!0,e,t)}});',address:t.uri}),e.global.require=i,e.global.define=r,e.get("@@global-helpers").retrieveGlobal(t.id,void 0)});
/*resources/models/site_model*/
define("resources/models/site_model",["module","@loader","require"],function(e,t,s){t.get("@@global-helpers").prepareGlobal({require:s,name:e.id,deps:[]});var i=t.global.define,s=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Lib.Models.Abstract.Api.Cache.extend("Resources.Models.Site",{cacheable:["sites.search","sites.getSitesByAssociation","sites.getTeacherSubjects","sites.getSitesAndChildrenForTag","sites.getSitesByCategoryAndGroupForTag"],attributes:{name:"string",description:"string",associations:"array",cocurricular:"array",subjects:"array",year:"array",folder_uuid:"string",root_folder:"string",icon:"string",icon_uri:"string",icon_name:"string",theme:"string",author:"Os.Models.User.model",lastUpdated:"date",is_template:"number",is_favourite:"boolean"},invalidateCaches:function(e){e="string"==typeof e&&e||"sites.",this._super(e)},defaults:{is_favourite:!1},convert:{date:function(e){return new Date(1e3*e)}},serialize:{date:function(e){return e/1e3}},findAll:function(e){return this.api("sites.search",e,{dataType:"json sites",converters:{"json sites":function(e){return Resources.Models.Parent.model({children:e.data.sites,more:e.data.more})}}})},findOne:function(e){return this.api("sites.search",e,{dataType:"json sites",converters:{"json sites":function(t){for(var s in t.data.sites)if(t.data.sites[s].uuid===e.site_uuid)return Resources.Models.Site.model(t.data.sites[s])}}})},getAssociated:function(e){return this.api("sites.getSitesByAssociation",e,{dataType:"json sites",type:"GET",converters:{"json sites":function(t){var s=t.data[0];if(e&&"self"===e.type)for(var i in s.children)s.children[i].root_uuid=Lib.Models.Folder.MYDOCUMENTS;return Resources.Models.Parent.model(s)}}})},getSitegroups:function(e){return this.api("sitegroups.get",$.extend(e,{type:"eportfolio"}),{dataType:"json sitegroups",type:"GET",converters:{"json sitegroups":function(e){return $.isEmptyObject(e.data)?[]:e.params.uuid?Resources.Models.Sitegroup.model(e.data):Resources.Models.Sitegroup.models(Object.values(e.data))}}})},deleteSitegroup:function(e){return this.api("sitegroups.delete",e,{type:"POST"})},changeOwnerSitegroup:function(e){return this.api("sitegroups.changeCreator",e,{type:"POST"})},getSitegroupRecipients:function(e){return this.api("sites.getSitesByAssociation",e,{dataType:"json sites",type:"GET",converters:{"json sites":function(e){return Resources.Models.Parent.model(e.data[0])}}})},getTeacherSubjects:function(e){return this.api("sites.getTeacherSubjects",{tag_uuid:e},{dataType:"json sites",converters:{"json sites":function(e){return Resources.Models.Subject.models(e.data)}}})},getSitesAndChildrenForTag:function(e){var t={uk:"sites.getSitesByCategoryAndGroupForTag",my:"sites.getSitesAndChildrenForTag"}[(e=$.extend({},e)).locale||"uk"];return delete e.locale,this.api(t,e,{dataType:"json sites",converters:{"json sites":function(e){return Resources.Models.Subject.model(e.data)}}})},getThemes:function(e){return this.api("sites.getThemes",{},{dataType:"json themes",converters:{"json themes":function(e){return e.data}}})},getFromStore:function(e){return this.api("sites.fetch",e,{dataType:"json sites",type:"get",converters:{"json sites":function(e){return e.data}}}).done(this.invalidateCaches.bind(this))},searchSites:function(e){return this.api("sites.search",e,{type:"get",dataType:"json sitesresult",converters:{"json sitesresult":function(e){return{sites:Resources.Models.Site.models(e.data.sites),count:e.data.count}}}})},create:function(e,t,s){return e.page=JSON.stringify([{operation:"add",layout:"F7B77DAF2002B37FD67E3F8F9EF9F50BFFB6EE2C088C91F6",uuid:"PAGE_1328806787447",name:self._("label.new.tab",null,"resources"),parent:null,sequence:0,show_by_default:!0}]),this.api("sites.create",e,{type:"POST",dataType:"json site",converters:{"json site":function(e){return new Resources.Models.Site(e.data.site)}}}).done(this.invalidateCaches.bind(this)).done(t).fail(s)},update:function(e,t,s,i){return this.api("sites.update",{uuid:e,folder_uuid:t.folder_uuid},{type:"POST"}).done(this.invalidateCaches.bind(this)).done(s).fail(i)},createDuplicate:function(e,t,s){return this.api("sites.duplicate",{site_uuid:e.uuid,site_name:e.name,site_description:e.description,folder:e.folder_uuid,root_folder:e.root_folder,type:e.type,is_template:e.is_template,quiet:e.quiet},{type:"POST",dataType:"json siteresult",converters:{"json siteresult":function(e){return Resources.Models.Site.model(e.data)}}}).done(this.invalidateCaches.bind(this)).done(t).fail(s)},restoreSite:function(e){return this.api("sites.restore",{uuid:e.uuid},{type:"POST"}).done(this.invalidateCaches.bind(this))},deleteSite:function(e){return this.api("sites.delete",{uuid:e.uuid},{type:"POST"}).done(this.invalidateCaches.bind(this))},changeOwner:function(e){return this.api("sites.changeOwner",{site_uuids:e.site_uuids,new_owner_uuid:e.new_owner_uuid},{type:"POST"}).done(this.invalidateCaches.bind(this))},saveSite:function(e,t,s){var i={};return i.uuid=s,i.is_template=t.template?1:0,e&&(i.data=$.toJSON(e)),i.associations=t,this.api("sites.update",i,{type:"POST",dataType:"json sites",converters:{"json sites":function(e){return Resources.Models.Site.model(e.data.site)}}}).done(this.invalidateCaches.bind(this))},importSites:function(e){return this.api("sites.import",{uuids:e.uuids,strip_tags:void 0!==e.strip_tags&&!0===e.strip_tags,strip_keywords:void 0!==e.strip_keywords&&!0===e.strip_keywords},{type:"GET"})},init:function(){var e=this;this.validate("name",function(){var t=$.trim(this.name);return this.name.length>255?e._("label.configure.name.toolong"):0===t.length?this.name.length>t.length&&0===t.length?e._("label.configure.name.space"):e._("label.configure.name.empty"):void 0})},getTermsAndConditionsText:function(e){return this.api("terms.gettermsandconditionstext",e,{type:"get",dataType:"json termsresponse",converters:{"json termsresponse":function(e){return e.data}}})}},{setup:function(e){(e=e||{}).updated&&(e.lastUpdated=e.updated,delete e.updated),e.share&&(e.share_data={date_shared:e.share.date,modified_by:e.share.mod_by,modified_by_name:e.share.mod_name,permission:e.share.perm,is_root:e.share.root},delete e.share),this._super(e)},getResourceType:function(){return"site"},getUpdated:function(){return this.lastUpdated},getUpdatedOn:function(){return+this.getUpdated()/1e3},getIcon:function(){return this.icon?this.icon:"public/icon/sites/site-default.svg"},getDescription:function(){return this.description},getPlainDescription:function(){return this.description.replace(/(<([^>]+)>)/gi,"")},getName:function(){return this.name||this.title},getAuthor:function(){return this.author},isOwnerChangeable:function(e){return!("personal"===this.dashboard_type||this.is_dashboard&&this.has_timeline||!(this.ownerIs(e)&&_Roles.has("app.sites.changeowner.own")||_Roles.has("app.sites.changeowner.all"))||this.folder_uuid!==Lib.Models.Folder.SCHOOLDOCUMENTS&&this.folder_uuid!==Lib.Models.Folder.MYDOCUMENTS&&null!==this.folder_uuid&&!_Roles.has("app.sites.changeowner.all"))},ownerIs:function(e){return this.author.uuid===e},getUuid:function(e){return this.uuid},isFavourite:function(){return this.attr("is_favourite")},setFavourite:function(e){this.attr("is_favourite",e),this.num_favs=!0===e?"1":null},isMutable:function(e){var t=this.share_data&&this.share_data.permission?this.share_data.permission:null;return t?"admin"===t||"edit"===t:this.isDeletable(e)},canCopy:function(){return _Roles.has("app.sites.duplicate")&&"function"==typeof this.copyToFolder&&void 0===this.external_id},canDrop:function(e){return"googledrive"!==e.type&&"googledrive.sharedwithme"!==e.type},roleCheck:function(e){var t=this.ownerIs(e);return this.root_uuid===Lib.Models.Folder.SCHOOLDOCUMENTS?t?_Roles.hasOr("app.resource.manager.documents.staff.delete.own","app.resource.manager.documents.company.delete.own","app.resource.manager.schooldocuments.delete.own"):_Roles.hasOr("app.resource.manager.documents.staff.delete.other","app.resource.manager.documents.company.delete.other","app.resource.manager.schooldocuments.delete.other"):this.root_uuid===Lib.Models.Folder.SHAREDWITHME?t:this.root_uuid===Lib.Models.Folder.MYDOCUMENTS||(_Roles.has("app.sites.manage.all")||t&&_Roles.has("app.sites.delete"))},isDeletable:function(e){var t=this.roleCheck(e),s=this.hasShare()&&this.share_data.permission;return!("frogstore"!==this.source&&!_Roles.has("app.sites.delete")||"frogstore"===this.source&&!_Roles.has("app.sites.delete.frogstore"))&&(!(!this.hasShare()||!t&&"admin"!==s&&"edit"!==s)||t)},canMoveTo:function(e,t){return _Roles.has("app.resource.manager.sites.move")&&this.isDeletable(e)},isSharable:function(e){var t=this.getResourceType();return("folder"===t||"site"===t)&&(!!_Roles.has("app.sites.share")&&(this.hasShare()?!("admin"!==this.share_data.permission||!this.isShareRoot()):this.roleCheck(e)))},hasShare:function(){return this.share_data&&Object.keys(this.share_data).some(function(e){return!!this.share_data[e]}.bind(this))},isShareRoot:function(){return!(!this.share_data||1!==parseInt(this.share_data.is_root,10))},copy:function(e,t){return this.Class.createDuplicate({uuid:this.uuid,name:this.name,description:this.description,folder_uuid:this.folder_uuid,root_folder:this.root_folder,is_template:this.is_template},e,t).done(function(e){$.event.trigger("copied",e,Resources.Models.Site)})},copyToFolder:function(e,t,s){var i=this;return this.Class.createDuplicate({uuid:this.uuid,name:e.name||this.name,description:e.description||this.description,folder_uuid:e.folder_uuid,root_folder:this.root_folder,type:e.type,quiet:e.quiet||!1},t,s).done(function(e){e.attr("author",i.author),$.event.trigger("copied",e,Resources.Models.Site)})}}),Frog.Model.extend("Resources.Models.Parent",{id:"uuid",attributes:{name:"string",uuid:"string",children:"Resources.Models.Site.models",icon:"string",more:"bool"}},{getId:function(){return this.getUuid()},getUuid:function(){return this.uuid},getName:function(){return this.name},getSites:function(){return this.children},getCssClass:function(){return $.trim(this.getName()).replace(/[^\\w\\s\\-]/g,"").replace(/\\s+/g,"-").toLowerCase()},getIcon:function(){return this.icon}}),Frog.Model.extend("Resources.Models.Sitegroup",{id:"uuid",attributes:{uuid:"string",source_uuid:"string",name:"string",name_template:"object",description:"string",recipients:"object",shares:"object",preferences:"object",created_by:"string",created_on:"string"},default:{uuid:null,source_uuid:null,name:"",name_template:[],description:"",recipients:{},shares:{},preferences:{},created_by:null,created_on:null}},{getUuid:function(){return this.uuid},getSourceUuid:function(){return this.source_uuid},getName:function(){return this.name},getNameTemplate:function(){return this.name_template},getDescription:function(){return this.description},getRecipients:function(){return{users:this.recipients&&this.recipients.users||[],groups:this.recipients&&this.recipients.groups||[]}},hasRecipients:function(){return!!Object.keys(this.recipients||[]).length},getShares:function(){return{users:this.shares&&this.shares.users||[],groups:this.shares&&this.shares.groups||[]}},getPreferences:function(){return this.preferences},getCreatedBy:function(){return this.author},getCreatedOn:function(){return this.created_on}}),Frog.Model.extend("Resources.Models.Subject",{id:"uuid",attributes:{name:"string",uuid:"string",sites:"Resources.Models.Site.models",tags:"Resources.Models.Subject.models",icon:"string"}},{setup:function(e){e.tags=e.tags||[],e.sites=e.sites||[],this._super(e)},getId:function(){return this.getUuid()},getTags:function(){return this.tags},getSites:function(){return this.sites},getUuid:function(){return this.uuid},getName:function(){return this.name},getCssClass:function(){return $.trim(this.getName()).replace(/[^\\w\\s\\-]/g,"").replace(/\\s+/g,"-").toLowerCase()},getIcon:function(){return this.icon},flattenTree:function(){var e=this.sites.slice(),t=function(s){s.getTags().each(function(e,s){t(s)}),e.push(s.getSites())};return this.getTags().each(function(e,s){t(s)}),e}});',address:e.uri}),t.global.require=s,t.global.define=i,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/resources/share_model*/
define("lib/models/resources/share_model",["module","@loader","require"],function(e,r,s){r.get("@@global-helpers").prepareGlobal({require:s,name:e.id,deps:[]});var l=r.global.define,s=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.Resources.Share",{deferred:null,findAll:function(e){var r=this;return null!==this.deferred&&"resolved"!==this.deferred.state()||(e=e||{},this.deferred=this.api("timeline.searchFilter",{copy:!0,query:e.query},{dataType:"json share_results",converters:{"json share_results":function(s){s=s.data;var u=[];for(var i in s.users)u.push({label:r._("selectusers.profile."+s.users[i].profile.name.toLowerCase(),null,"frogui")+": "+s.users[i].displayname,value:s.users[i].displayname,uuid:s.users[i].uuid,type:"user",profile:s.users[i].profile,username:s.users[i].username});if(e.user&&"student"!==e.user.attr("profile").type||void 0===e.user)for(var a in s.groups)u.push({label:r._("share.label.group",[s.groups[a].name],"frogui"),value:s.groups[a].name,uuid:s.groups[a].uuid,type:"group"});for(var l in s.sites)u.push({label:r._("share.label.site",[s.sites[l].name],"frogui"),value:s.sites[l].name,uuid:s.sites[l].uuid,type:"site"});return u}}})),this.deferred}},{});',address:e.uri}),r.global.require=s,r.global.define=l,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/resources/report_model*/
define("lib/models/resources/report_model",["module","@loader","require"],function(e,r,o){r.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var l=r.global.define,o=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Lib.Models.Resource.extend("Lib.Models.Resource.Report",{attributes:{author_uuid:"string",folder_uuid:"string",is_linkable:"boolean",target_uuid:"string",type:"string",uuid:"string",attachment:"Lib.Models.Resource.Attachment.model",name:"string"}},{getResourceType:function(){return"report"},roleCheck:function(e){return!1},getName:function(){return this.Class._(this._super(),null,"reporting")}});',address:e.uri}),r.global.require=o,r.global.define=l,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/resources/package_model*/
define("lib/models/resources/package_model",["module","@loader","require"],function(e,r,l){r.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var o=r.global.define,l=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Lib.Models.Resource.extend("Lib.Models.Resource.Package",{attributes:{author_uuid:"string",folder_uuid:"string",is_linkable:"boolean",target_uuid:"string",type:"string",uuid:"string",attachment:"Lib.Models.Resource.Attachment.model",name:"string"}},{getResourceType:function(){return"package"},roleCheck:function(e){return!1}});',address:e.uri}),r.global.require=l,r.global.define=o,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/frogcode/file_model*/
define("lib/models/frogcode/file_model",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var r=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Frogcode.File",{defaults:{lang:"javascript"},attributes:{code:"string",lang:"string",filename:"string"},id:"uuid",getModel:function(e){var t=jQuery.String.capitalize(e.split("_")[0]);return Lib.Models.Frogcode.File.hasOwnProperty(t)?new Lib.Models.Frogcode.File[t]:this.model({})}},{setup:function(e){e=e||{},this._super(e),this.backup()},save:function(){return jQuery.Deferred().done(function(){this.backup()}.bind(this)).resolve().promise()},destroy:function(){return this.Class.api("frogcode.delete",{uuid:this.uuid},{type:"POST",dataType:"json resp",converters:{"json resp":function(e){return e.data.files_deleted.files}}})},getType:function(){return this.type||this.Class.shortName.toLowerCase()},getFileType:function(){return this.Class.shortName.toLowerCase()},getFilename:function(){return this.filename||this.name.toLowerCase().replace(" ","_").concat(".js")},restoreContent:function(){return this.isDirty()?(this.code=this._backupStore.code,this):this}});',address:e.uri}),t.global.require=i,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/frogcode/files/html_widget_file_model*/
define("lib/models/frogcode/files/html_widget_file_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var i=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Lib.Models.Frogcode.File.extend("Lib.Models.Frogcode.File.Html",{defaults:{lang:"htmlmixed",type:"html"}},{save:function(){return this._super()},getFilename:function(){return this.filename||this.name.toLowerCase().replace(" ","_").concat(".html")}});',address:e.uri}),l.global.require=o,l.global.define=i,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/frogcode/files/report_file_model*/
define("lib/models/frogcode/files/report_file_model",["module","@loader","require"],function(e,r,t){r.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var o=r.global.define,t=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Lib.Models.Frogcode.File.extend("Lib.Models.Frogcode.File.Report",{attributes:{name:"string",filename:"string",title:"string",code:"string",readonly:"boolean",lang:"string"},defaults:{lang:"javascript",readonly:!1},create:function(e,t,r){var n={type:"frogcode.report",name:e.name,filename:e.name.replace(" ","_").toLowerCase()+".js",content:e.code||"",source:"string",metadata:{category:e.additional_data.type.toLowerCase(),type:"report"}};this.api("frogcode.createresource",n,{dataType:"json file",type:"POST",converters:{"json file":function(e){var r=e.data.result;t({uuid:r.uuid,filename:r.external_url},r)}}}).fail(function(e){r(e)})},update:function(e,t,r,n){var o={uuid:e,content:t.code};this.api("frogcode.updateresource",o,{type:"POST",dataType:"json response",converters:{"json response":function(e){e.data.result;r({})}}}).fail(function(e){n(e)})}},{save:function(){var e=new jQuery.Deferred;return $.Model.prototype.save.call(this,function(t){this.backup(),e.resolve(t)}.bind(this),function(t){e.reject(t)}),e.promise()},createResource:function(){var e=new jQuery.Deferred;return this.Class.create(this.serialize(),function(t,r){this.backup(),e.resolve(new Lib.Models.Resource(r))}.bind(this),function(t){e.reject(t)}),e.promise()}});',address:e.uri}),r.global.require=t,r.global.define=o,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/frogcode/files/snippet_file_model*/
define("lib/models/frogcode/files/snippet_file_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var i=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'var getExtension=function(e){var t;switch(e){case"python":t=".py";break;default:t=".js"}return t};Lib.Models.Frogcode.File.extend("Lib.Models.Frogcode.File.Snippet",{},{save:function(){return this._super()},getFilename:function(){return this.filename||this.name.toLowerCase().replace(" ","_").concat(getExtension(this.lang))}});',address:e.uri}),l.global.require=o,l.global.define=i,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/frogcode/files/packaged_file_model*/
define("lib/models/frogcode/files/packaged_file_model",["module","@loader","require"],function(e,r,t){r.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var n=r.global.define,t=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Lib.Models.Frogcode.File.extend("Lib.Models.Frogcode.File.Packaged",{attributes:{name:"string",filename:"string",title:"string",code:"string",readonly:"boolean",lang:"string"},defaults:{lang:"javascript",readonly:!1},create:function(e,t,n){var r={name:e.name,type:e.type};this.api("frogcode.createresource",r,{dataType:"json file",type:"POST",converters:{"json file":function(e){var n=e.data.result;t({uuid:n.uuid,filename:n.external_url},n)}}}).fail(function(e){n(e)})},update:function(e,t,n,r){var i={uuid:e,content:t.code,type:"frogcode.package.widget"};this.api("frogcode.updateresource",i,{type:"POST",dataType:"json response",converters:{"json response":function(e){e.data.result;n({})}}}).fail(function(e){r(e)})}},{save:function(){var e=new jQuery.Deferred;return $.Model.prototype.save.call(this,function(t){this.backup(),e.resolve(t)}.bind(this),function(t){e.reject(t)}),e.promise()},createResource:function(){var e=new jQuery.Deferred;return this.Class.create(this.serialize(),function(t,n){this.backup(),e.resolve(new Lib.Models.Resource(n))}.bind(this),function(t){e.reject(t)}),e.promise()}});',address:e.uri}),r.global.require=t,r.global.define=n,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/frogcode/preference_model*/
define("lib/models/frogcode/preference_model",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var r=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Frogcode.Preference",{attributes:{uuid:"string",metadata:"Object",name:"string",filesize:"number",file_path:"string",last_edited:"moment",author:"string"},defaults:{metadata:{},name:"",file_path:"",filesize:0,last_edited:"",author:void 0},findOne:function(t,e){return this.api("frogcode.getproperties",{uuid:t,type:e},{type:"GET",dataType:"json properties",converters:{"json properties":function(e){var i=e.data.properties,r=e.data.errors||{};return Object.keys(r).forEach(function(t){i[t]=null}),i.uuid=t,"report"===i.metadata.type?this.Report.model(i):this.model(i)}.bind(this)}})},id:"uuid"},{setup:function(t){this._super(t),Object.keys(this.metadata).forEach(function(t){var e=jQuery.String.camelize("get_"+t);this[e]||(this[e]=function(){return this.metadata[t]})}.bind(this))},getAuthor:function(){return this.author||"frog"!==this.getSource()?this.author?this.author:this.Class._("prefs.author.unknown",null,"frogcode"):this.Class._("core.frog")},getFilesize:function(){var t=Math.log(this.filesize)/Math.log(1024)|0;return(this.filesize/Math.pow(1024,t)).toFixed(2)+" "+(0==t?"bytes":"KMGTPEZY"[t-1]+"B")},getLastEdited:function(){return this.last_edited.format(this.Class._("format.datetime.long"))},isMutable:function(){return!0},getPublished:function(){return Boolean(parseInt(this.metadata.published,10))},setPublished:function(t){return this.metadata.published=t?"1":"0",this}});',address:e.uri}),t.global.require=i,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/frogcode/preferences/report_preference_model*/
define("lib/models/frogcode/preferences/report_preference_model",["module","@loader","require"],function(e,r,t){r.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var o=r.global.define,t=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Lib.Models.Frogcode.Preference.extend("Lib.Models.Frogcode.Preference.Report",{attributes:{uuid:"string",metadata:"Object",name:"string",filesize:"number",file_path:"string",last_edited:"moment"},defaults:{metadata:{},name:"",file_path:"",filesize:0,last_edited:""},update:function(e,t,r,a){var n={uuid:e,metadata:t.metadata};this.api("frogcode.updateresource",n,{type:"POST",dataType:"json response",converters:{"json response":function(e){e.data.result;r({})}}}).fail(function(e){a(e)})}},{save:function(){var e=new jQuery.Deferred;return $.Model.prototype.save.call(this,function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise()},getName:function(){return this.Class._(this.name,null,"reporting")},isMutable:function(){return"frog"!==this.attr("source")}});',address:e.uri}),r.global.require=t,r.global.define=o,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/frogconnect_model*/
define("lib/models/frogconnect_model",["module","@loader","require"],function(t,e,n){e.get("@@global-helpers").prepareGlobal({require:n,name:t.id,deps:[]});var o=e.global.define,n=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'Frog.Model.extend("Lib.Models.Frogconnect",{attributes:{school:"Lib.Models.Frogconnect.School.model",request:"Lib.Models.Frogconnect.Request.model",source:"string",is_setup:"string"},findAll:function(t){return this.api("frogconnect.getConnections",t,{dataType:"json connections",converters:{"json connections":function(t){return this.models(t.data)}.bind(this)}})},findOne:function(t){return this.api("frogconnect.getConnectionDetails",{company_uuid:t},{dataType:"json connectionDetails",converters:{"json connectionDetails":function(t){return Lib.Models.Frogconnect.Details.model(t.data)}}})},create:function(t,n,o){this.api("frogconnect.submitConnection",t,{dataType:"json connection",type:"POST",converters:{"json connection":function(t){n(this.model(t.data))}.bind(this)}}).fail(o)},destroy:function(t,n,o){return this.api("frogconnect.deleteConnection",{company_uuid:t.attr("school").attr("school_uuid")},{type:"POST"}).done(n).fail(o)},approveConnection:function(t){return this.api("frogconnect.approveConnection",{company_uuid:t},{dataType:"json connection",type:"POST",converters:{"json connection":function(t){return this.model(t.data)}.bind(this)}})}},{destroy:function(t,n){return this.Class.destroy(this,t,n)},getCompanyUuid:function(){return this.attr("school").attr("school_uuid")},getSchoolName:function(){return this.attr("school").attr("school_name")},getUrl:function(){return this.attr("school").attr("school_url")}}),Frog.Model.extend("Lib.Models.Frogconnect.School",{id:"school_uuid",attributes:{school_uuid:"string",school_name:"string",school_url:"string"}},{}),Frog.Model.extend("Lib.Models.Frogconnect.Request",{attributes:{submitted:"number",accepted:"number"}},{}),Frog.Model.extend("Lib.Models.Frogconnect.Details",{attributes:{profile_access:"Lib.Models.Frogconnect.Access.models"},update:function(t){return this.api("frogconnect.updateConnectionDetails",t,{type:"POST"})}},{backup:function(){this._super(),this.attr("profile_access").each(function(t,n){n.backup()})},isDirty:function(){return this._super()||this.attr("profile_access").isDirty()},isSetup:function(){return Boolean(this.attr("profile_access").grep(function(t){return t.attr("maps_to")}.bind(this)).length)},profileMatches:function(t){return this.attr("profile_access").grep(function(n){return n.attr("source")===t}.bind(this))[0]},restore:function(){var t=this._super();return"profile_access"in t&&t.profile_access.restore(),t},setup:function(t){return this._super(t),this.backup(),this},save:function(t){var n=new $.Deferred,o=[];return this.attr("profile_access").each(function(t,n){n.isDirty()&&o.push({maps_to:n.attr("maps_to")||null,maps_to_group:n.attr("group")&&n.attr("group").attr("uuid")||null,source:n.attr("source")})}),this.Class.update({company_uuid:t,changes:{profile_access:o}}).done(function(){this.backup(),n.resolve.apply(this,arguments)}.bind(this)).fail(function(){n.reject.apply(this,arguments)}.bind(this)),n.promise()}}),Frog.Model.extend("Lib.Models.Frogconnect.Access",{attributes:{source:"string",maps_to:"string",maps_to_group:"string"},defaults:{maps_to:null,maps_to_group:null}},{setup:function(t){return this._super(t),this.backup(),this}});',address:t.uri}),e.global.require=n,e.global.define=o,e.get("@@global-helpers").retrieveGlobal(t.id,void 0)});
/*lib/models/category_model*/
define("lib/models/category_model",["module","@loader","require"],function(e,t,r){t.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var n=t.global.define,r=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Category",{attributes:{uuid:"string",name:"string",is_enabled:"boolean",created_by:"string",created_on:"string",updated_by:"string",updated_on:"string"},findAll:function(e){var t=this;return void 0===(e=e||{}).is_enabled&&(e.is_enabled=!0),this.api("training.categories.getBy",e,{type:"GET",dataType:"json categories",converters:{"json categories":function(r){var n=r.data;return e.limitToCategories&&(n=n.filter(function(t){return e.limitToCategories.indexOf(t.uuid)>-1})),t.models(n)}}})},findAllUnfiltered:function(){var e=this;return this.api("training.categories.getAll",{},{type:"GET",dataType:"json categories",converters:{"json categories":function(t){return e.models(t.data)}}})},create:function(e,t,r){var n=this;return this.api("training.categories.create",e,{type:"POST",dataType:"json category",converters:{"json category":function(e){return n.model(e.data)}},success:t,error:r})},update:function(e,t,r){var n=this;return this.api("training.categories.update",e,{type:"POST",dataType:"json category",converters:{"json category":function(e){return n.model(e.data)}},success:t,error:r})},destroy:function(e,t,r){var n={uuid:e};return this.api("training.categories.delete",n,{type:"POST",dataType:"json frogboolean",converters:{"json frogboolean":function(e){return e.data}},success:t,error:r})}},{getEnabled:function(){return this.is_enabled}});',address:e.uri}),t.global.require=r,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/training/activity_model*/
define("lib/models/training/activity_model",["module","@loader","require"],function(i,t,e){t.get("@@global-helpers").prepareGlobal({require:e,name:i.id,deps:[]});var r=t.global.define,e=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Training.Activity",{attributes:{activity_submitted:"string",activity_uuid:"string",altered:"boolean",assignment_returned:"string",response:"string",result:"string",result_history:"array",user_uuid:"string"},submitActivity:function(t){return this.api("training.activities.submitActivity",t,{type:"POST",dataType:"json activities",converters:{"json activities":function(t){return this.models(t.data)}.bind(this)}})},getActivityResponse:function(t){return this.api("training.activities.getActivityResponse",t,{type:"GET",dataType:"json activities",converters:{"json activities":function(t){return this.models(t.data)}.bind(this)}})}},{});',address:i.uri}),t.global.require=e,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(i.id,void 0)});
/*lib/models/training/location_model*/
define("lib/models/training/location_model",["module","@loader","require"],function(e,t,n){t.get("@@global-helpers").prepareGlobal({require:n,name:e.id,deps:[]});var o=t.global.define,n=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Training.Location",{attributes:{uuid:"string",name:"string",is_enabled:"boolean",created_by:"string",created_on:"string",updated_by:"string",updated_on:"string"},findAll:function(t){var n="training.locations.getAll";return void 0!==t&&Object.keys(t).length&&(n="training.locations.getBy"),this.api(n,t,{type:"GET",dataType:"json locations",converters:{"json locations":function(t){return this.models(t.data)}.bind(this)}})},create:function(t,n,e){return this.api("training.locations.create",t,{type:"POST",dataType:"json location",converters:{"json location":function(t){return this.model(t.data)}.bind(this)},success:n,error:e})},update:function(t,n,e){return this.api("training.locations.update",t,{type:"POST",dataType:"json location",converters:{"json location":function(t){return this.model(t.data)}.bind(this)},success:n,error:e})},destroy:function(t,n,e){var o={uuid:t};return this.api("training.locations.delete",o,{type:"POST",dataType:"json frogboolean",converters:{"json frogboolean":function(t){return t.data}},success:n,error:e})}},{getEnabled:function(){return this.is_enabled}});',address:e.uri}),t.global.require=n,t.global.define=o,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/training/module_model*/
define("lib/models/training/module_model",["module","@loader","require"],function(e,t,a){t.get("@@global-helpers").prepareGlobal({require:a,name:e.id,deps:[]});var n=t.global.define,a=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Training.Module",{PARTICIPANT_STATUSES:{ALL:"all",NOT_STARTED:"not_started",NOT_STARTED_AND_IN_PROGRESS:"not_started_and_in_progress",IN_PROGRESS:"in_progress",IN_PROGRESS_AND_COMPLETE:"in_progress_and_complete",COMPLETE:"complete"},id:"uuid",AWARD_TYPES:["none","complete","pass"],AWARD_EXPIRIES:["0","3","5"],attributes:{uuid:"string",name:"string",description:"string",icon:"string",available_from:"moment",available_to:"moment",due_by:"string",user_due_date:"moment",audience:"frogobject",participant:"Lib.Models.Training.Participant.model",categories:"Lib.Models.Category.models",keywords:"frogarray",users:"Lib.Models.User.models",groups:"Lib.Models.Group.models",departments:"Lib.Models.Departmentcontainer.models",search:"$.Model.models",award_type:"string",include_in_sync:"boolean",created_on:"moment",notifications_on:"string"},defaults:{uuid:null,name:"",description:"",icon:null,available_from:null,available_to:null,due_by:null,user_due_date:null,audience:{},participant:null,categories:[],keywords:[],users:[],groups:[],departments:[],search:[],award_type:"none",award_expiry:"0",include_in_sync:!1,notifications_on:null},getOneForLearner:function(e){return this.api("training.catalogue.getOne",{training_module_uuid:e},{dataType:"json module",converters:{"json module":function(e){return this.model(this.parseModule(e.data))}.bind(this)}})},getForLearner:function(e){var t=this;return this.api("training.catalogue.get",e,{dataType:"json modules",type:"GET",converters:{"json modules":function(a){return e.group_by_category?t.categoriseModules(a):a.data.modules.map(function(e){return t.model(t.parseModule({module:e,audience:a.data.audience&&a.data.audience[e.uuid],participant:a.data.participant&&a.data.participant[e.uuid],user_due_date:a.data.user_due_date&&a.data.user_due_date[e.uuid]}))})}}})},getOneForEdit:function(e){return this.api("training.modules.getOneForEdit",e,{dataType:"json module",converters:{"json module":function(e){return this.model(this.parseModule(e.data))}.bind(this)}})},getForAdmin:function(e){var t=this;return this.api("training.catalogue.getForAdmin",e,{dataType:"json modules",type:"GET",converters:{"json modules":function(a){return e.group_by_category?t.categoriseModules(a):a.data.modules.map(function(e){return t.model(t.parseModule({module:e,audience:a.data.audience&&a.data.audience[e.uuid],participant:a.data.participant&&a.data.participant[e.uuid],user_due_date:a.data.user_due_date&&a.data.user_due_date[e.uuid]}))})}}})},emailParticipants:function(e){return this.api("training.modules.emailParticipants",e,{type:"POST",dataType:"json module",converters:{"json module":function(e){return e.data}}})},create:function(e,t,a){return this.api("training.modules.create",this.parseParams(e),{type:"POST",dataType:"json module",converters:{"json module":function(e){return e.data}},success:t,error:a})},update:function(e,t,a,n){return this.api("training.modules.update",this.parseParams(t),{type:"POST",dataType:"json module",converters:{"json module":function(e){return e.data}},success:a,error:n})},delete:function(e){return this.api("training.modules.delete",{uuid:e},{type:"POST",dataType:"json module",converters:{"json module":function(e){return e.data}}})},categoriseModules:function(e){var t=this,a=e.data.modules,n=e.data.categories,r=e.data.category_links,i={categories:n||[],categorised:{}};return a.forEach(function(a){Object.keys(r).filter(function(e){return-1!==r[e].indexOf(a.uuid)}).forEach(function(n){Array.isArray(i.categorised[n])||(i.categorised[n]=[]),i.categorised[n].push(t.model(t.parseModule({module:a,audience:e.data.audience?e.data.audience[a.uuid]:null,participant:e.data.participant?e.data.participant[a.uuid]:null,user_due_date:e.data.user_due_date?e.data.user_due_date[a.uuid]:null})))})}),i},parseParams:function(e){return delete e.users,delete e.groups,delete e.departments,delete e.search,e.supporting_resources=e.supporting_resources.length?e.supporting_resources.map(function(e){return e.uuid}):null,e.categories=e.categories.length?e.categories.map(function(e){return e.uuid}):null,e},parseModule:function(e){return $.extend(e.module,{users:e.users,groups:e.groups,departments:e.departments,search:e.search,audience:e.audience,participant:e.participant,categories:e.categories,user_due_date:e.user_due_date,total_targets:e.total_targets})}},{getUuid:function(){return this.uuid},getName:function(){return this.name},getDescription:function(){return this.description},getAvailableFrom:function(){return this.available_from},getAvailableTo:function(){return this.available_to},getDueBy:function(){return this.due_by},getUserDueDate:function(){return this.user_due_date},getFormattedUserDueBy:function(){var e=this.getActualUserDueBy();return e?moment.duration(e.startOf("day").diff(moment().startOf("day"))).humanize(!0):null},getUserDueByStatus:function(){var e=this.getActualUserDueBy();return e?e.isBefore()?"late_due_by":"early_due_by":null},getActualUserDueBy:function(){return this.getDueBy()&&this.getIsMandatory()?this.participant&&this.participant.due_by?this.participant.due_by:this.getUserDueDate():null},getCreatedOn:function(){return this.created_on},getCreatedBy:function(){return this.created_by},getUpdatedOn:function(){return this.updated_on},getUpdatedBy:function(){return this.updated_on},getAudience:function(){return this.audience},getParticipant:function(){return this.participant},getAwardType:function(){return this.award_type},getStatus:function(){return this.getParticipant()&&this.getParticipant().getStartedOn()?this.getParticipant().getCompletedOn()?"completed":"in_progress":"not_started"},getIsMandatory:function(){var e=this.getAudience();return!(!e||"boolean"!=typeof e.is_mandatory)&&e.is_mandatory}});',address:e.uri}),t.global.require=a,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/training/session_model*/
define("lib/models/training/session_model",["module","@loader","require"],function(n,e,t){e.get("@@global-helpers").prepareGlobal({require:t,name:n.id,deps:[]});var r=e.global.define,t=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'Frog.Model.extend("Lib.Models.Training.Session",{attributes:{uuid:"string",parent_identity_uuid:"string",parent_identity_type:"string",start_on:"localmoment",end_on:"localmoment",enrol_by:"localmoment",cancel_by:"localmoment",max_enrolments:"number",location:"Lib.Models.Training.Location.model",enrolment:"Lib.Models.Training.Session.Enrolment.model",enrolment_stats:"object",requires_manager_approval:"frogboolean",mark_attended_automatically:"frogboolean",user_approval:"string",is_deleted:"frogboolean",created_on:"localmoment",created_by:"string"},defaults:{start_on:null,end_on:null,enrol_by:null,cancel_by:null,max_enrolments:0,location:"",enrolment:null,enrolment_stats:{enrolled:0,interested:0},requires_manager_approval:!1,mark_attended_automatically:!1,user_approval:null,is_deleted:!1,created_on:null,created_by:null},create:function(n,t,e){return this.api("training.modules.sessions.create",this.parseParams(n),{type:"POST",dataType:"json session",converters:{"json session":function(n){return this.model(n.data)}.bind(this)},success:t,error:e})},update:function(n,t,e,r){return this.api("training.modules.sessions.update",this.parseParams(t),{type:"POST",dataType:"json session",converters:{"json session":function(n){return this.model(n.data)}.bind(this)},success:e,error:r})},delete:function(n){return this.api("training.modules.sessions.delete",{uuid:n},{type:"POST",dataType:"json session",converters:{"json session":function(n){return this.model(n.data)}.bind(this)}})},cancel:function(n){return this.api("training.modules.sessions.cancel",{uuid:n},{type:"POST"})},getOne:function(n){return this.api("training.modules.sessions.getOne",{uuid:n},{dataType:"json session",converters:{"json session":function(n){return n.data.session.enrolment_stats=n.data.enrolment_stats,n.data.session.location=n.data.location,this.model(n.data)}.bind(this)}})},findAll:function(n){var t=this;return this.api("training.modules.sessions.getByParent",{parent_identity_uuid:n},{dataType:"json session",converters:{"json session":function(n){var e=[];return n.data.sessions.forEach(function(r){r.enrolment_stats=n.data.enrolment_stats[r.uuid]||{},r.location=n.data.locations[r.location_uuid]||null,e.push(t.model(r))}),e}}})},findAllForLearner:function(n){var t=this;return this.api("training.modules.sessions.getByParentForLearner",{parent_identity_uuid:n},{dataType:"json session",converters:{"json session":function(n){var e=[];return n.data.sessions.forEach(function(r){r.enrolment_stats=n.data.enrolment_stats[r.uuid]||{},r.location=n.data.locations[r.location_uuid]||null,r.enrolment=n.data.enrolments[r.uuid]||null,e.push(t.model(r))}),e}}})},parseParams:function(n){var t=n.enrol_by.endOf("day").unix(),e=n.cancel_by.endOf("day").unix();return n.start_on=n.start_on.unix(),n.end_on=n.end_on.unix(),n.enrol_by=t>=n.start_on?n.start_on-1:t,n.cancel_by=e>=n.start_on?n.start_on-1:e,n.location_uuid=n.location?n.location.uuid:null,delete n.created_on,delete n.created_by,delete n.location,n}},{setup:function(n){return this._super(n)},getUuid:function(){return this.uuid},getTrainingModuleUuid:function(){return this.training_module_uuid},getStartOn:function(){return this.start_on},getEndOn:function(){return this.end_on},getEnrolBy:function(){return this.enrol_by},getCancelBy:function(){return this.cancel_by},getMaxEnrolments:function(){return this.max_enrolments},getLocation:function(){return this.location},getEnrolment:function(){return this.enrolment},getEnrolmentStats:function(){return this.enrolment_stats},getRequiresManagerApproval:function(){return this.requires_manager_approval},getMarkAttendedAutomatically:function(){return this.mark_attended_automatically},getUserApproval:function(){return this.user_approval},isDeleted:function(){return this.is_deleted},getCreatedOn:function(){return this.created_on},getCreatedBy:function(){return this.created_by},_requiresApproval:function(){return this.requires_manager_approval||!!this.user_approval},_isEnrolled:function(){var n=this.getEnrolment(),t=this._requiresApproval();return null!==n&&n.enrolled_on&&(!t||t&&!!n.approved_on)},_isPendingApproval:function(){var n=this.getEnrolment();return null!==n&&n.enrolled_on&&this._requiresApproval()&&!n.approved_on},_isInterested:function(){var n=this.getEnrolment();return null!==n&&!n.enrolled_on&&n.invited_by===FrogOS.getUser().getUuid()},_canCancel:function(){return this.getCancelBy().diff(moment())>0},_canEnrol:function(){return this.getEnrolBy().diff(moment())>0&&this._getRemainingEnrolments()>0},_getRemainingEnrolments:function(){var n=this.getMaxEnrolments()-this.getEnrolmentStats().enrolled;return n>=0?n:0},delete:function(){return this.Class.delete(this.uuid)},cancel:function(){return this.Class.cancel(this.uuid)}});',address:n.uri}),e.global.require=t,e.global.define=r,e.get("@@global-helpers").retrieveGlobal(n.id,void 0)});
/*lib/models/training/award_model*/
define("lib/models/training/award_model",["module","@loader","require"],function(e,r,o){r.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var i=r.global.define,o=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.Training.Award",{attributes:{module:"Lib.Models.Training.Module.model",resource:"Lib.Models.Resource.model"},getForLearner:function(e){return this.api("training.awards.getForLearner",e,{dataType:"json awards",converters:{"json awards":function(e){return this.models(e.data)}.bind(this)}})}},{getModule:function(){return this.module},getResource:function(){return this.resource}});',address:e.uri}),r.global.require=o,r.global.define=i,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/training/participant_model*/
define("lib/models/training/participant_model",["module","@loader","require"],function(t,n,e){n.get("@@global-helpers").prepareGlobal({require:e,name:t.id,deps:[]});var i=n.global.define,e=n.global.require;return n.global.define=void 0,n.global.module=void 0,n.global.exports=void 0,n.__exec({source:'Frog.Model.extend("Lib.Models.Training.Participant",{attributes:{uuid:"string",training_module_uuid:"string",user_uuid:"string",due_by:"moment",started_on:"moment",completed_on:"moment",score:"number",is_mandatory:"frogboolean"},defaults:{is_mandatory:!1},updateState:function(t,n){return this.api("training.participant."+n,{uuid:t.uuid},{type:"POST",dataType:"json participant",converters:{"json participant":function(n){t.attr("started_on",n.data.started_on?moment(1e3*n.data.started_on):null),t.attr("completed_on",n.data.completed_on?moment(1e3*n.data.completed_on):null)}.bind(this)}})},enrol:function(t){return this.api("training.participant.enrol",{training_module_uuid:t},{type:"POST",dataType:"json participant",converters:{"json participant":function(t){return this.model(t.data)}.bind(this)}})},findOne:function(t){var n=this;return this.api("training.participant.get",t,{type:"GET",dataType:"json participant",converters:{"json participant":function(t){return n.model(t.data)}}})}},{getUuid:function(){return this.uuid},getTrainingModuleUuid:function(){return this.training_module_uuid},getUserUuid:function(){return this.user_uuid},getDueBy:function(){return this.due_by},getStartedOn:function(){return this.started_on},getCompletedOn:function(){return this.completed_on},getScore:function(){return this.score},getIsMandatory:function(){return this.is_mandatory},updateState:function(t){return this.Class.updateState(this,t,this.getUuid())}});',address:t.uri}),n.global.require=e,n.global.define=i,n.get("@@global-helpers").retrieveGlobal(t.id,void 0)});
/*lib/models/training/session/enrolment_model*/
define("lib/models/training/session/enrolment_model",["module","@loader","require"],function(n,e,t){e.get("@@global-helpers").prepareGlobal({require:t,name:n.id,deps:[]});var s=e.global.define,t=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'Frog.Model.extend("Lib.Models.Training.Session.Enrolment",{attributes:{uuid:"string",session_uuid:"string",user_uuid:"string",approved_by:"string",approved_on:"localmoment",attendance_status_uuid:"string",enrolled_by:"string",enrolled_on:"localmoment",invited_by:"string",invited_on:"localmoment"},enrol:function(n,e){return this.api("training.modules.sessions.enrolments.enroluser",{session_uuid:n,learner_uuid:e},{type:"POST",dataType:"json enrolment",converters:{"json enrolment":function(n){return this.model(n.data)}.bind(this)}})},selfEnrol:function(n){return this.api("training.modules.sessions.enrolments.selfenrol",{session_uuid:n},{type:"POST",dataType:"json enrolment",converters:{"json enrolment":function(n){return this.model(n.data)}.bind(this)}})},approve:function(n,e){return this.api("training.modules.sessions.enrolments.approve",{session_uuid:n,learner_uuid:e},{type:"POST",dataType:"json enrolment",converters:{"json enrolment":function(n){return this.model(n.data)}.bind(this)}})},approveAuthorised:function(n,e){return this.api("training.modules.sessions.enrolments.approveauthorised",{session_uuid:n,learner_uuid:e},{type:"POST",dataType:"json enrolment",converters:{"json enrolment":function(n){return this.model(n.data)}.bind(this)}})},cancel:function(n,e){return this.api("training.modules.sessions.enrolments.canceluser",{session_uuid:n,learner_uuid:e},{type:"POST",dataType:"json enrolment",converters:{"json enrolment":function(n){return this.model(n.data)}.bind(this)}})},cancelAuthorised:function(n,e){return this.api("training.modules.sessions.enrolments.cancelauthoriseduser",{session_uuid:n,learner_uuid:e},{type:"POST",dataType:"json enrolment",converters:{"json enrolment":function(n){return this.model(n.data)}.bind(this)}})},selfCancel:function(n){return this.api("training.modules.sessions.enrolments.selfcancel",{session_uuid:n},{type:"POST",dataType:"json enrolment",converters:{"json enrolment":function(n){return this.model(n.data)}.bind(this)}})},invite:function(n,e){return this.api("training.modules.sessions.enrolments.invite",{session_uuid:n,learner_uuid:e},{type:"POST",dataType:"json enrolment",converters:{"json enrolment":function(n){return this.model(n.data)}.bind(this)}})},selfRegisterInterest:function(n){return this.api("training.modules.sessions.enrolments.invite",{session_uuid:n,learner_uuid:this.getUser().uuid},{type:"POST",dataType:"json enrolment",converters:{"json enrolment":function(n){return this.model(n.data)}.bind(this)}})},getForSession:function(n){return this.api("training.modules.sessions.enrolments.getForSession",{session_uuid:n},{dataType:"json data",converters:{"json data":function(n){return n.data.users=Os.Models.User.models(n.data.users),n.data.enrolments=this.models(n.data.enrolments),n.data}.bind(this)}})},setAttendanceStatus:function(n,e,t){return this.api("training.modules.sessions.enrolments.setAttendanceStatus",{session_uuid:n,learner_uuid:e,attendance_status_uuid:t},{type:"POST",dataType:"json data",converters:{"json data":function(n){return n.data}.bind(this)}})},getPendingAuthorisations:function(n){return this.api("training.modules.sessions.enrolments.getPendingAuthorisations",{user_uuid:n},{dataType:"json enrolments",converters:{"json enrolments":function(n){return n.data.users=Os.Models.User.models(n.data.users),n.data.enrolments=this.models(n.data.enrolments),n.data.sessions=Lib.Models.Training.Session.models(n.data.sessions),n.data.modules=Lib.Models.Training.Module.models(n.data.modules),n.data}.bind(this)}})}},{getUuid:function(){return this.uuid},getSessionUuid:function(){return this.session_uuid},getUserUuid:function(){return this.user_uuid},getApprovedBy:function(){return this.approved_by},getApprovedOn:function(){return this.approved_on},getAttendanceStatusUuid:function(){return this.attendance_status_uuid},getEnrolledBy:function(){return this.enrolled_by},getEnrolledOn:function(){return this.enrolled_on},getInvitedBy:function(){return this.invited_by},getInvitedOn:function(){return this.invited_on},approve:function(){return this.Class.approve(this.session_uuid,this.user_uuid)},approveAuthorised:function(){return this.Class.approveAuthorised(this.session_uuid,this.user_uuid)},cancel:function(){return this.Class.cancel(this.session_uuid,this.user_uuid)},cancelAuthorised:function(){return this.Class.cancelAuthorised(this.session_uuid,this.user_uuid)},setAttendanceStatus:function(n){return this.Class.setAttendanceStatus(this.session_uuid,this.user_uuid,n).done(function(n){this.attendance_status_uuid=n.uuid}.bind(this))}});',address:n.uri}),e.global.require=t,e.global.define=s,e.get("@@global-helpers").retrieveGlobal(n.id,void 0)});
/*lib/models/training/session/attendance_status_model*/
define("lib/models/training/session/attendance_status_model",["module","@loader","require"],function(e,t,n){t.get("@@global-helpers").prepareGlobal({require:n,name:e.id,deps:[]});var s=t.global.define,n=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Training.Session.AttendanceStatus",{attributes:{uuid:"string",name:"string",is_target:"boolean",is_enabled:"boolean",created_by:"string",created_on:"string",updated_by:"string",updated_on:"string"},findAll:function(t,e,n){var s="training.modules.sessions.attendancestatuses.getAll";return t&&(s="training.modules.sessions.attendancestatuses.getBy"),this.api(s,t,{type:"GET",dataType:"json attendance_status",converters:{"json attendance_status":function(t){return this.models(t.data)}.bind(this)}})},create:function(t,e,n){var s=this;return this.api("training.modules.sessions.attendancestatuses.create",t,{type:"POST",dataType:"json attendance_status",converters:{"json attendance_status":function(t){return s.model(t.data)}},success:e,error:n})},update:function(t,e,n){var s=this;return this.api("training.modules.sessions.attendancestatuses.update",t,{type:"POST",dataType:"json attendance_status",converters:{"json attendance_status":function(t){return s.model(t.data)}},success:e,error:n})},destroy:function(t,e,n){var s={uuid:t};return this.api("training.modules.sessions.attendancestatuses.delete",s,{type:"POST",dataType:"json frogboolean",converters:{"json frogboolean":function(t){return t.data}},success:e,error:n})}},{getEnabled:function(){return this.is_enabled},isTarget:function(){return this.is_target}});',address:e.uri}),t.global.require=n,t.global.define=s,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/training/notification_model*/
define("lib/models/training/notification_model",["module","@loader","require"],function(e,n,i){n.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var o=n.global.define,i=n.global.require;return n.global.define=void 0,n.global.module=void 0,n.global.exports=void 0,n.__exec({source:'Frog.Model.extend("Lib.Models.Training.Notification",{attributes:{dueDateCronSchedule:"number",sessionReminderCronSchedule:"number"},defaults:{dueDateCronSchedule:null,sessionReminderCronSchedule:null},getAll:function(){return this.api("training.notifications.getAll",null,{dataType:"json schedule",type:"GET",converters:{"json schedule":function(e){return e.data}}})},save:function(e){return this.api("training.notifications.save",e,{dataType:"json schedule",type:"POST",converters:{"json schedule":function(e){return e.data}}})}},{getDueDateCronSchedule:function(){return this.dueDateCronSchedule},getSessionReminderCronSchedule:function(){return this.sessionReminderCronSchedule}});',address:e.uri}),n.global.require=i,n.global.define=o,n.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/departmentcontainer_model*/
define("lib/models/departmentcontainer_model",["module","@loader","require"],function(e,t,r){t.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var i=t.global.define,r=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Departmentcontainer",{id:"uuid",attributes:{uuid:"string",title:"string",parent_uuid:"string",children:"Lib.Models.Departmentcontainer.models",type:"string"}},{setup:function(e){e.department?this._super({uuid:e.department.uuid,title:e.department.title,parent_uuid:e.department.parent_uuid,children:e.children,type:"department"}):this._super(e)},convertToIndividuals:function(){var e=this;return e.Class.api("search.search",{type:e.type||"department",category:"user",term:e.uuid},{type:"GET",dataType:"json users",converters:{"json users":function(e){return Lib.Models.User.models(Object.values(e.data))}}})},getId:function(){return this.attr("uuid")}});',address:e.uri}),t.global.require=r,t.global.define=i,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/filedrop_model*/
define("lib/models/filedrop_model",["module","@loader","require"],function(e,i,t){i.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var r=i.global.define,t=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'Frog.Model("Lib.Models.Filedrop.File",{id:"uuid",attributes:{uuid:"string",name:"string",ext:"string"}},{getUuid:function(){return this.uuid},getName:function(){return this.name},getExt:function(){return this.ext},getPreviewUrl:function(){return Frog.Utilities.getBaseUrl()+"/app/file/resource/"+this.attr("uuid")}}),Frog.Model("Lib.Models.Filedrop.User",{id:"uuid",attributes:{firstname:"string",surname:"string",uuid:"string"}},{getUuid:function(){return this.uuid},getFirstName:function(){return this.firstname},getSurname:function(){return this.surname},getFullName:function(){return this.getFirstName()+" "+this.getSurname()}}),Frog.Model("Lib.Models.Filedrop.Resource",{id:"uuid",attributes:{file:"Lib.Models.Filedrop.File.model",user:"Lib.Models.Filedrop.User.model",added:"date",can_delete:"boolean"},convert:{date:function(e){return Frog.Utilities.formatTime(e)}},findAll:function(e,t){var i={filedrop:e};return t&&(i.user_uuid=t),this.api("filedrop.get",i,{dataType:"json filedrops",converters:{"json filedrops":function(e){var i=Lib.Models.Filedrop.Resource.models(e.data.resources);return t&&(i=$.grep(i,function(e,i){return e.getUser().getUuid()===t})),{list:i,hasFeedback:e.data.hasFeedback}}}})},addImport:function(e,t,i){return this.api("filedrop.add",e,{type:"POST",success:t,error:i})},destroy:function(e,t,i){return this.api("filedrop.remove",{resource:e},{type:"POST",success:t,error:i})}},{setup:function(e){this.uuid=e.file.uuid,this._super(e)},getFile:function(){return this.file},getUser:function(){return this.user},getAdded:function(){return this.added},getFormattedAdded:function(){return Frog.Utilities.formatTime(this.added/1e3,"dd/mm/yy")},getCanDelete:function(){return this.can_delete}});',address:e.uri}),i.global.require=t,i.global.define=r,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/valuescontainer_model*/
define("lib/models/valuescontainer_model",["module","@loader","require"],function(e,t,r){t.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var i=t.global.define,r=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Valuescontainer",{id:"id",attributes:{id:"string",identifier:"string",type:"string",value:"string",title:"string"},computeIdentifier:function(e){return e.type+":"+e.value}},{setup:function(e){this._super({id:this.escapeIdString(e.value)+"-"+this.escapeIdString(e.type),identifier:this.Class.computeIdentifier(e),type:e.type,value:e.value,title:e.value})},escapeIdString:function(e){return e.replace(/[\\W]$/,"").replace(/[\\W]+/g,"_").toLowerCase()},convertToIndividuals:function(){var e=this;return e.Class.api("search.search",{type:e.type,category:"user",term:e.title},{type:"GET",dataType:"json users",converters:{"json users":function(e){return Lib.Models.User.models(Object.values(e.data))}}})}});',address:e.uri}),t.global.require=r,t.global.define=i,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/compoundcontainer_model*/
define("lib/models/compoundcontainer_model",["module","@loader","require"],function(e,t,r){t.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var n=t.global.define,r=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Lib.Models.Compoundcontainer",{id:"id",attributes:{id:"string",groups:"Frog.Model.models",title:"string"},allowedModels:["departmentcontainer","valuescontainer","group"]},{setup:function(e){var t=this,r=t.Class.allowedModels.join(", ");e.groups.each(function(e,n){if(!t.Class.allowedModels.includes(n.Class._shortName))throw new Error("All groups must be one of the following model types: "+r)}),e.id=this.generateId(e.groups),t._super(e)},convertToIndividuals:function(){var e=this,t=[],r={compoundcontainer:"compound",departmentcontainer:"department",group:"group",user:"user",valuescontainer:"search"};return this.groups.each(function(e,n){t.push({type:r[n.Class._shortName],value:n.attr("identifier")||n.attr(n.Class.id)})}),e.Class.api("training.audience.getUsers",{type:"compound",identity:JSON.stringify(t)},{type:"GET",dataType:"json users",converters:{"json users":function(e){return Lib.Models.User.models(e.data)}}})},generateId:function(e){var t=[];return e.each(function(e,r){t.push(r.attr("uuid")||r.attr("id"))}),t.sort().join("-")},getTitle:function(){var e="";return this.groups.each(function(t,r){t>0&&(e+=$.i18n._("os","compound.and")),e+=r.name||r.title||""}),e},getTitleText:function(){return Frog.Utilities.stripHtml(this.attr("title"))},getValue:function(){var e=[],t={compoundcontainer:"compound",departmentcontainer:"department",group:"group",user:"user",valuescontainer:"search"};return this.groups.each(function(r,n){e.push({type:t[n.Class._shortName],value:n.attr("identifier")||n.attr(n.Class.id)})}),e},setGroups:function(e){return e.sort(function(e,t){var r,n,o=["group"].concat(Lib.Models.AdvancedUserSearch.DEFAULT_TYPES),s=e.type,i=t.type;return"group"===e.Class._shortName&&(s="group"),"group"===t.Class._shortName&&(i="group"),r=o.indexOf(s),n=o.indexOf(i),r<n?-1:r>n?1:0})}});',address:e.uri}),t.global.require=r,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/advancedusersearch_model*/
define("lib/models/advancedusersearch_model",["module","@loader","require"],function(e,r,a){r.get("@@global-helpers").prepareGlobal({require:a,name:e.id,deps:[]});var o=r.global.define,a=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Lib.Models.AdvancedUserSearch",{DEFAULT_TYPES:["job_title","contract_type","contract_category","department","location"],attributes:{title:"string",type:"string"},getInfo:function(e){var t=this;return e=e||this.DEFAULT_TYPES,t.api("search.getInfo",{type:e},{dataType:"json drivers",converters:{"json drivers":function(e){var r=[];return $.each(e.data,function(e,n){var a=n.values;if("department"===e)a=Lib.Models.Departmentcontainer.models(a);else{a=Object.values(a);for(var o=0;o<a.length;o++)a[o]=Frogui.Models.Components.AdvancedUserSearch.Valuescontainer.model({type:e,value:a[o]})}r.push(t.model({title:n.name,type:n.type,values:a}))}),r}}})}},{});',address:e.uri}),r.global.require=a,r.global.define=o,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/models*/
define("lib/models/models",["jquery/jquery","jquery/model/model","public/js/libs/moment/moment.min","public/js/libs/jquery-i18n/jquery.i18n","lib/vendor/i18n/extensions","lib/models/abstract/fdp_model","lib/models/abstract/api/cache_model","lib/frog_model","lib/models/app_model","lib/models/appevents_model","lib/models/assign_model","lib/models/assignment_model","lib/models/config_model","lib/models/course/delegate_model","lib/models/curriculum/curriculum_model","lib/models/curriculum/association_model","lib/models/curriculum/exemplar_standard_model","lib/models/curriculum/learn_evidence_model","lib/models/curriculum/learning_objective_model","lib/models/curriculum/learning_objective_change_model","lib/models/curriculum/learning_objective_group_model","lib/models/curriculum/learning_objective_group_update_model","lib/models/curriculum/period_model","lib/models/mapdatasource_model","lib/models/mychild/mychild_model","lib/models/studenttracker/statustype_model","lib/models/studenttracker/time_period_model","lib/models/defaultsite_model","lib/models/dictionary_model","lib/models/file/mime_model","lib/models/folder_model","lib/models/geocode_model","lib/models/i18n_model","lib/models/keyword_model","lib/models/moment_model","lib/models/package_model","lib/models/profilepreferences_model","lib/models/preferences_model","lib/models/quicklaunch_model","lib/models/resourcelist_model","lib/models/systempreferences/models","lib/models/userpreferences_model","lib/models/timetable_model","lib/models/tour_model","lib/models/widgets_model","lib/models/config_model","lib/models/app_model","lib/models/profilepreferences_model","lib/models/linkeddocuments_model","lib/models/linkeddocumentcategories_model","lib/models/curriculum/learning_objective_resource_model","lib/models/share_model","lib/models/orgips_model","lib/models/extendeddata_model","lib/models/form_model","lib/models/mark_scheme_model","lib/models/subject_model","lib/models/quiz_model","lib/models/i18n/externalapps_i18n_model","lib/models/site_model","lib/models/assignment/activity_model","lib/models/award_model","lib/models/curriculum/curriculum_type_model","lib/models/curriculum/learning_objective_model","lib/models/systempreferences_model","lib/models/user_model","lib/models/assignment/group_model","lib/models/resource_model","lib/models/note_model","lib/models/user_award_model","lib/models/curriculum/learning_locker_resource_model","lib/models/assignment/group/user_model","lib/models/external_resource_model","lib/models/user/details_model","lib/models/user/profile_model","lib/models/user/auth_model","lib/models/curriculum/learning_locker_resource_model","lib/models/award_model","lib/models/group/type_model","lib/models/user_model","lib/models/group_model","lib/models/secure_gateway/config_model","lib/models/secure_gateway/rule_model","lib/models/resource_model","lib/models/site_model","lib/models/user_award_model","lib/models/course/assets_model","lib/models/course/types_model","lib/models/user/details_model","lib/models/user/profile_model","lib/models/user/category_model","lib/models/resource_remote_model","lib/models/course_model","lib/models/course/template_model","lib/models/network_drive_model","lib/models/network/directory_model","lib/models/network/file_model","lib/models/site/condition_model","lib/models/site/rule_model","resources/models/site_model","lib/models/resources/share_model","lib/models/resources/report_model","lib/models/resources/package_model","lib/models/frogcode/file_model","lib/models/frogcode/files/html_widget_file_model","lib/models/frogcode/files/report_file_model","lib/models/frogcode/files/snippet_file_model","lib/models/frogcode/files/packaged_file_model","lib/models/frogcode/preference_model","lib/models/frogcode/preferences/report_preference_model","lib/models/frogconnect_model","lib/models/category_model","lib/models/training/activity_model","lib/models/training/location_model","lib/models/training/module_model","lib/models/training/session_model","lib/models/training/award_model","lib/models/training/participant_model","lib/models/training/session/enrolment_model","lib/models/training/session/attendance_status_model","lib/models/training/notification_model","lib/models/departmentcontainer_model","lib/models/filedrop_model","lib/models/valuescontainer_model","lib/models/compoundcontainer_model","lib/models/advancedusersearch_model"],function(e,l,o){window.moment=o});
/*lib/packaging/controllers/abstract_controller*/
define("lib/packaging/controllers/abstract_controller",["module","@loader","require"],function(t,e,r){e.get("@@global-helpers").prepareGlobal({require:r,name:t.id,deps:[]});var s=e.global.define,r=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'$.Controller.extend("Com.Frog.Controllers.Abstract",{defaults:{dblclick:$.support.touch?"doubletap":"dblclick",click:$.support.touch?"tap":"click"}},{_:function(t,e,s,r){return s=s||this.packageID,Frog.Controller.prototype._.call(this,t,e,s,r)},model:function(t){return function(){return window[this.packageID].Models[t]}.call(this)},view:function(t,e,s){var r=sprintf(Frog.Utilities.getBaseUrl()+"/app/package/%s/%s/",this.packageType,this.packageID),i=$.extend({},{app:this},e);if((s=s||{}).pwd||(s.pwd=r),"./"===t.substr(0,2))t=r+t.substr(2);else{if("~/"===t.substr(0,2))return t=Frog.Utilities.getBaseUrl()+"/app/"+t.substr(2),Frog.Controller.prototype.view(t,e,s,!0);"//"!==t.substr(0,2)?t=r+"assets/views/"+t:"//"===t.substr(0,2)&&(t=t.replace("//",""))}return can.view.render(t,i,s)},getFunction:function(t,e,s){return t in this.Class.prototype?this[t]:this[t]=function(){return s&&setTimeout(function(){this[t]=null,delete this[t]}.bind(this)),e.apply(this,arguments)}.bind(this)}});',address:t.uri}),e.global.require=r,e.global.define=s,e.get("@@global-helpers").retrieveGlobal(t.id,void 0)});
/*lib/packaging/controllers/controller*/
define("lib/packaging/controllers/controller",["module","@loader","require"],function(o,t,r){t.get("@@global-helpers").prepareGlobal({require:r,name:o.id,deps:[]});var e=t.global.define,r=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Com.Frog.Controllers.Abstract.extend("Com.Frog.Controller",{},{setup:Frog.Controller.prototype.setup,_:Com.Frog.Controllers.Abstract.prototype._,view:Com.Frog.Controllers.Abstract.prototype.view,trigger:Frog.Controller.prototype.trigger,triggerHandler:Frog.Controller.prototype.triggerHandler,alert:function(){this.getFunction("_bindOK",Frog.Controller.prototype._bindOK,!0),this.getFunction("bsmodal",this.modal,!1),Frog.Controller.prototype.alert.apply(this,arguments)},confirm:function(){return this.getFunction("bsmodal",this.modal,!1),this.getFunction("_bindCustom",Frog.Controller.prototype._bindCustom,!0),this.getFunction("_bindOK",Frog.Controller.prototype._bindOK,!0),this.getFunction("_bindCancel",Frog.Controller.prototype._bindCancel,!0),Frog.Controller.prototype.confirm.apply(this,arguments)},prompt:function(){return this.getFunction("bsmodal",this.modal,!1),this.getFunction("_bindPromptInput",Frog.Controller.prototype._bindPromptInput,!0),this.getFunction("_bindPromptConfirm",Frog.Controller.prototype._bindPromptConfirm,!0),this.getFunction("_bindCancel",Frog.Controller.prototype._bindCancel,!0),Frog.Controller.prototype.prompt.apply(this,arguments)},modal:function(){return this.getFunction("_getAppDialogElement",Frog.Controller.prototype._getAppDialogElement,!0),this.getFunction("hideModal",Frog.Controller.prototype.hideModal,!0),Frog.Controller.prototype.bsmodal.apply(this,arguments)},hideModal:Frog.Controller.prototype.hideModal,showLoader:function(o,t,r){var e=new $.Deferred;return o||this.getFunction("_getAppDialogElement",Frog.Controller.prototype._getAppDialogElement,!0),Frog.Controller.prototype.showLoader.call(this,e.resolve,o,t,r),e.promise()},updateLoader:function(o,t){return!o||o instanceof $.fn.init||(t=o),o||this.getFunction("_getAppDialogElement",Frog.Controller.prototype._getAppDialogElement,!0),Frog.Controller.prototype.updateLoader.call(this,o,t)},hideLoader:function(o){var t=new $.Deferred;return o||this.getFunction("_getAppDialogElement",Frog.Controller.prototype._getAppDialogElement,!0),Frog.Controller.prototype.hideLoader.call(this,t.resolve,o),t.promise()},model:Com.Frog.Controllers.Abstract.prototype.model}),Com.Frog.Controller.prototype.alert.toString=function(){return"alert (message, callback, options)"},Com.Frog.Controller.prototype.confirm.toString=function(){return"confirm (body, callback, options) => $modal"},Com.Frog.Controller.prototype.prompt.toString=function(){return"prompt (message, callback, options)"},Com.Frog.Controller.prototype.trigger.toString=function(){return"trigger (api, data)"},Com.Frog.Controller.prototype.triggerHandler.toString=function(){return"triggerHandler (api, data) => Mixed"},Com.Frog.Controller.prototype.modal.toString=function(){return"modal (title, content, classes, options) => $modal"},Com.Frog.Controller.prototype.hideModal.toString=function(){return"hideModal (modal)"},Com.Frog.Controller.prototype.showLoader.toString=function(){return"showLoader (element, theme, text) => Promise"},Com.Frog.Controller.prototype.updateLoader.toString=function(){return"updateLoader (element, text)"},Com.Frog.Controller.prototype.hideLoader.toString=function(){return"hideLoader (element) => Promise"};',address:o.uri}),t.global.require=r,t.global.define=e,t.get("@@global-helpers").retrieveGlobal(o.id,void 0)});
/*lib/packaging/controllers/widget_controller*/
define("lib/packaging/controllers/widget_controller",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var o=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'!function(){var t=function(){this.element.html($(\'<div class="alert alert-error"></div>\').append($("<strong />").text(this._("widget.disabled"))).append(this._("widget.disabled.message")))};Com.Frog.Controller.extend("Com.Frog.Controllers.Widget",{setup:function(){window.Os&&Os.Models&&Os.Models.Environment.get("safemode")&&(this.prototype["widget.live"]=t,this.prototype["widget.edit"]=t),this._super.apply(this,arguments)}},{packageType:"widgets",setup:function(e,i,o){return this.state="edit",i.disabled&&(this["widget.live"]=t.bind(this),this["widget.edit"]=t.bind(this)),Frog.Widget.Controller.prototype.setup.call(this,e,i,o)},"widget.edit":function(t,e){},"widget.live":function(t,e){},"widget.save":function(t,e){this.element.triggerHandler("widget.updated")},"widget.updated":function(t,e){},"assignment.submitted":function(t,e){e.stopPropagation()},getPreferences:function(){return this.prefs},getWidgetLabel:Frog.Widget.Controller.prototype.getWidgetLabel,getSubmissionState:Frog.Widget.Controller.prototype.getSubmissionState,getSubmitFunction:Frog.Widget.Controller.prototype.getSubmitFunction,_:Com.Frog.Controller.prototype._,view:Com.Frog.Controller.prototype.view,model:function(t){return function(){return this.Class.Models[t]}.call(this)}})}();',address:e.uri}),t.global.require=i,t.global.define=o,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/packaging/controllers/application_controller*/
define("lib/packaging/controllers/application_controller",["module","@loader","require"],function(t,e,o){e.get("@@global-helpers").prepareGlobal({require:o,name:t.id,deps:[]});var n=e.global.define,o=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'!function(){var t=function(){this.element.html($("<div></div>").addClass("app-disabled").append($("<strong />").text(this._("app.disabled"))).append(this._("app.disabled.message")))};Com.Frog.Controller.extend("Com.Frog.Controllers.Application",{listensTo:["app.launch","app.close","app.blur","app.focus"],setup:function(){window.Os&&Os.Models&&Os.Models.Environment.get("safemode")&&(this.prototype.init=t),this._super.apply(this,arguments)}},{packageType:"applications",toast:Frog.Controller.prototype.growl,"app.launch":function(t,o,e){"onLaunch"in this&&this.onLaunch(e),this.setContextMenu(),setTimeout(function(t){var o="externalapps/icon/"+this.packageID;t&&(o+="?staged"),this.appTrayItem||(this.appTrayItem={text:this._("app.title"),element:this.element,iconImage:o})}.bind(this,this.options.appModel.extended_data.staged))},"app.close":function(t,o){"onClose"in this?this.onClose(function(){this.trigger("os.app.close")}.bind(this)):this.trigger("os.app.close")},"app.blur":function(t,o){"onBlur"in this?this.onBlur(function(){this.triggerHandler("os.app.blur")}.bind(this)):this.triggerHandler("os.app.blur")},"app.focus":function(t,o){"onFocus"in this&&this.onFocus(),this.setContextMenu()},setContextMenu:function(){this.contextMenu||(this.contextMenu={label:this._("app.title")}),this.trigger("os.contextmenu.set",this.contextMenu)},_onOrientationChange:Frog.Controller.prototype._onOrientationChange,_:Com.Frog.Controller.prototype._,view:Com.Frog.Controller.prototype.view,_validateAllowOnMobile:function(){return!0}}),Com.Frog.Controllers.Application.prototype.toast.toString=function(){return"toast (message, title, app_name, options)"},Com.Frog.Controllers.Application.prototype.setContextMenu.toString=function(){return"setContextMenu ()"}}();',address:t.uri}),e.global.require=o,e.global.define=n,e.get("@@global-helpers").retrieveGlobal(t.id,void 0)});
/*lib/packaging/controllers/controllers*/
define("lib/packaging/controllers/controllers",["./abstract_controller","./controller","./widget_controller","./application_controller"]);
/*lib/packaging/models/model*/
define("lib/packaging/models/model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Com.Frog.Model",{},{});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/packaging/models/models*/
define("lib/packaging/models/models",["./model"]);
/*lib/packaging/utilities/require*/
define("lib/packaging/utilities/require",function(e,t,r){!function(e){var t=function(){return{then:window.Com.Frog.Utils.require,forgetFile:window.Com.Frog.Utils.forgetFile}},r=function(e,t){switch(e.getExtension()){case".js":return n(e,t);case".css":return i(e,t);case".ejs":var r=new $.Deferred;return System.load(e.getStealable().replace(/^BASEURL/,Frog.Utilities.getBaseUrl())+"!can/view/ejs/system").then(r.resolve).catch(r.reject),r.promise();default:return $.get(e,t)}},n=function(e,t){var r=new $.Deferred,n=r.promise();return $.get(e.normalize(),$.extend({dataType:"text"},t)).done(function(e){/Com\.Frog\.Utils\.require\(/g.test(e)?new Function("return "+e).call(window).then(r.resolve,r.reject):r.resolve()}),n},i=function(e,t){var r=document.createElement("style"),n=new $.Deferred,i=n.promise();return r.setAttribute("type","text/css"),$.get(e.normalize(),$.extend({dataType:"text"}.options)).done(function(e){r.innerHTML=e,document.head.appendChild(r)}).then(n.resolve,n.reject),i},o={},s=function(e){this.constructor.name="URI",this.uri=e};s.prototype.isRelative=function(){return!(this.isAbsolute()||this.isFromRoot())},s.prototype.isAbsolute=function(){return/^http[s]*\:\/\//g.test(this.uri)},s.prototype.isFromRoot=function(){return/^\/\//g.test(this.uri)},s.prototype.getStealable=function(){return this.isFromRoot()?this.uri.slice(2):this.uri},s.prototype.getExtension=function(){return(this.uri.match(/\.([\w]+)$/gm)||[])[0]},s.prototype.normalize=function(){return this.isAbsolute()?this.uri:this.uri.match(/^BASEURL/)?this.uri.replace(/^BASEURL/,Frog.Utilities.getBaseUrl()):this.uri.match(/^\/\//)?this.uri.replace(/^\/\//,Frog.Utilities.getBaseUrl()):this.isFromRoot()?Frog.Utilities.getBaseUrl()+"/app/"+this.uri.slice(2):void 0},s.prototype.toString=function(){return this.uri};var c=function(e){return Object.keys(o).filter(function(t){return new RegExp(t,"g").test(e)}).map(function(e){return{test:e,rewrite:o[e]}}).forEach(function(t){e=e.replace(new RegExp(t.test,"g"),t.rewrite)}),e},u=function(){this.constructor.name="Loader",this.cache={}};u.prototype.get=function(e,t){return e in this.cache?this.cache[e]:(this.cache[e]=r(new s(e),t))&&this.cache[e]},u.prototype.remove=function(e){},e.require=function(){var e,t=a||(a=new u)&&a,r=Array.prototype.filter.call(arguments,function(e){return/^\/\/package\//gim.test(e)}),n=Array.prototype.filter.call(arguments,function(e){return!/^\/\/package\//gim.test(e)});return e=r.map(function(e){return"string"==typeof e?(e=e.replace(/^\/\//,"BASEURL/app/"),o&&(e=c(e))):"Object"===e.constructor.name&&(e.src=e.src.replace(/^\/\//,"BASEURL/app/"),o&&(e.src=c(e.src))),e}).map(t.get.bind(t)),e=e.concat(n.map(function(e){var t=e.split("/").slice(-2),r=new $.Deferred;return new RegExp(t[0]+".js").test(t[1])&&(e=e.replace(/\.js$/,"!frog-component")),e=e.replace(/^\/\//,""),steal.import(e).then(r.resolve).catch(r.reject),r.promise()})),$.when.apply($,e)},e.forgetFile=function(){var e=Object.keys(steal.loader._loader.modules);return Array.prototype.forEach.call(arguments,function(t){e.filter(function(e){return new RegExp(t,"g").test(e)}).forEach(function(e){steal.loader.delete(e),delete steal.System.defined[e]})}),t()},e.rewrite=function(e,t){o[e]=t},e.removeRewrite=function(e){o.hasOwnProperty(e)&&delete o[e]};var a=!1}($.String.getObject("Com.Frog.Utils",window,!0))});
/*lib/packaging/packaging*/
define("lib/packaging/packaging",["./controllers/controllers","./models/models","./utilities/require"]);
/*lib/controller/abstract_tour_controller*/
define("lib/controller/abstract_tour_controller",["module","@loader","require"],function(e,o,l){o.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var r=o.global.define,l=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:'Frog.Controller.extend("Lib.Controllers.Abstract.Tour",{tour:null},{launchTour:function(o,t,r){var e,l,n=window;if(this.Class.tour||t){e=(t||this.Class.tour).split(".");for(var u=0;u<e.length;u++){if(!n[e[u]])return void console.error("Unable to find "+e[u]+" on the ",n," object");n=n[e[u]]}l=n,element=void 0===r?this.element:r,this.loadTour(new Curriculummanager.Models.Tour(l),element,null,o)}else console.error("launchTour expects this.Class.tour to be set")},\'[data-action="launchTour"] {click}\':function(o,t){t.stopPropagation(),this.launchTour(!0)}});',address:e.uri}),o.global.require=l,o.global.define=r,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*public/js/libs/fancybox/jquery.mousewheel-3.0.4.pack*/
define("public/js/libs/fancybox/jquery.mousewheel-3.0.4.pack",["module","@loader","require"],function(e,l,t){l.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var n=l.global.define,t=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'!function(e){function t(t){var n=t||window.event,l=[].slice.call(arguments,1),i=0,s=0,h=0;return t=e.event.fix(n),t.type="mousewheel",t.wheelDelta&&(i=t.wheelDelta/120),t.detail&&(i=-t.detail/3),h=i,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(h=0,s=-1*i),void 0!==n.wheelDeltaY&&(h=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(s=-1*n.wheelDeltaX/120),l.unshift(t,i,s,h),e.event.handle.apply(this,l)}var n=["DOMMouseScroll","mousewheel"];e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery);',address:e.uri}),l.global.require=t,l.global.define=n,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*public/js/libs/fancybox/jquery.fancybox-1.3.4.pack*/
define("public/js/libs/fancybox/jquery.fancybox-1.3.4.pack",["module","@loader","require"],function(t,e,i){e.get("@@global-helpers").prepareGlobal({require:i,name:t.id,deps:[]});var n=e.global.define,i=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'!function(t){var e,i,n,a,o,d,c,s,r,h,l,f,p,g=0,b={},y=[],u=0,w={},x=[],m=null,v=new Image,I=/\\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,C=/[^\\.]\\.(swf)\\s*$/i,k=1,O=0,j="",T=!1,D=t.extend(t("<div/>")[0],{prop:0}),S=t.browser.msie&&t.browser.version<7&&!window.XMLHttpRequest,A=function(){i.hide(),v.onerror=v.onload=null,m&&m.abort(),e.empty()},E=function(){!1===b.onError(y,g,b)?(i.hide(),T=!1):(b.titleShow=!1,b.width="auto",b.height="auto",e.html(\'<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>\'),N())},F=function(){var n,a,o,c,s,r,h=y[g];if(A(),b=t.extend({},t.fn.fancybox.defaults,void 0===t(h).data("fancybox")?b:t(h).data("fancybox")),!1===(r=b.onStart(y,g,b)))T=!1;else if("object"==typeof r&&(b=t.extend(b,r)),o=b.title||(h.nodeName?t(h).attr("title"):h.title)||"",h.nodeName&&!b.orig&&(b.orig=t(h).children("img:first").length?t(h).children("img:first"):t(h)),""===o&&b.orig&&b.titleFromAlt&&(o=b.orig.attr("alt")),n=b.href||(h.nodeName?t(h).attr("href"):h.href)||null,(/^(?:javascript)/i.test(n)||"#"==n)&&(n=null),b.type?(a=b.type,n||(n=b.content)):b.content?a="html":n&&(a=n.match(I)?"image":n.match(C)?"swf":t(h).hasClass("iframe")?"iframe":0===n.indexOf("#")?"inline":"ajax"),a)switch("inline"==a&&(h=n.substr(n.indexOf("#")),a=t(h).length>0?"inline":"ajax"),b.type=a,b.href=n,b.title=o,b.autoDimensions&&("html"==b.type||"inline"==b.type||"ajax"==b.type?(b.width="auto",b.height="auto"):b.autoDimensions=!1),b.modal&&(b.overlayShow=!0,b.hideOnOverlayClick=!1,b.hideOnContentClick=!1,b.enableEscapeButton=!1,b.showCloseButton=!1),b.padding=parseInt(b.padding,10),b.margin=parseInt(b.margin,10),e.css("padding",b.padding+b.margin),t(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){t(this).replaceWith(d.children())}),a){case"html":e.html(b.content),N();break;case"inline":if(!0===t(h).parent().is("#fancybox-content")){T=!1;break}t(\'<div class="fancybox-inline-tmp" />\').hide().insertBefore(t(h)).bind("fancybox-cleanup",function(){t(this).replaceWith(d.children())}).bind("fancybox-cancel",function(){t(this).replaceWith(e.children())}),t(h).appendTo(e),N();break;case"image":T=!1,t.fancybox.showActivity(),(v=new Image).onerror=function(){E()},v.onload=function(){T=!0,v.onerror=v.onload=null,b.width=v.width,b.height=v.height,t("<img />").attr({id:"fancybox-img",src:v.src,alt:b.title}).appendTo(e),B()},v.src=n;break;case"swf":b.scrolling="no",c=\'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="\'+b.width+\'" height="\'+b.height+\'"><param name="movie" value="\'+n+\'"></param>\',s="",t.each(b.swf,function(t,e){c+=\'<param name="\'+t+\'" value="\'+e+\'"></param>\',s+=" "+t+\'="\'+e+\'"\'}),c+=\'<embed src="\'+n+\'" type="application/x-shockwave-flash" width="\'+b.width+\'" height="\'+b.height+\'"\'+s+"></embed></object>",e.html(c),N();break;case"ajax":T=!1,t.fancybox.showActivity(),b.ajax.win=b.ajax.success,m=t.ajax(t.extend({},b.ajax,{url:n,data:b.ajax.data||{},error:function(t){t.status>0&&E()},success:function(t,a,o){if(200==("object"==typeof o?o:m).status){if("function"==typeof b.ajax.win){if(!1===(r=b.ajax.win(n,t,a,o)))return void i.hide();"string"!=typeof r&&"object"!=typeof r||(t=r)}e.html(t),N()}}}));break;case"iframe":B()}else E()},N=function(){var i=b.width,n=b.height;i=i.toString().indexOf("%")>-1?parseInt((t(window).width()-2*b.margin)*parseFloat(i)/100,10)+"px":"auto"==i?"auto":i+"px",n=n.toString().indexOf("%")>-1?parseInt((t(window).height()-2*b.margin)*parseFloat(n)/100,10)+"px":"auto"==n?"auto":n+"px",e.wrapInner(\'<div style="width:\'+i+";height:"+n+";overflow: "+("auto"==b.scrolling?"auto":"yes"==b.scrolling?"scroll":"hidden")+\';position:relative;"></div>\'),b.width=e.width(),b.height=e.height(),B()},B=function(){var l,m;if(i.hide(),a.is(":visible")&&!1===w.onCleanup(x,u,w))t.event.trigger("fancybox-cancel"),T=!1;else{if(T=!0,t(d.add(n)).unbind(),t(window).unbind("resize.fb scroll.fb"),t(document).unbind("keydown.fb"),a.is(":visible")&&"outside"!==w.titlePosition&&a.css("height",a.height()),x=y,u=g,(w=b).overlayShow?(n.css({"background-color":w.overlayColor,opacity:w.overlayOpacity,cursor:w.hideOnOverlayClick?"pointer":"auto",height:t(document).height()}),n.is(":visible")||(S&&t("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),n.show())):n.hide(),p=H(),j=w.title||"",O=0,s.empty().removeAttr("style").removeClass(),!1!==w.titleShow&&(l=t.isFunction(w.titleFormat)?w.titleFormat(j,x,u,w):!(!j||!j.length)&&("float"==w.titlePosition?\'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">\'+j+\'</td><td id="fancybox-title-float-right"></td></tr></table>\':\'<div id="fancybox-title-\'+w.titlePosition+\'">\'+j+"</div>"),(j=l)&&""!==j))switch(s.addClass("fancybox-title-"+w.titlePosition).html(j).appendTo("body").show(),w.titlePosition){case"inside":s.css({width:p.width-2*w.padding,marginLeft:w.padding,marginRight:w.padding}),O=s.outerHeight(!0),s.appendTo(o),p.height+=O;break;case"over":s.css({marginLeft:w.padding,width:p.width-2*w.padding,bottom:w.padding}).appendTo(o);break;case"float":s.css("left",-1*parseInt((s.width()-p.width-40)/2,10)).appendTo(a);break;default:s.css({width:p.width-2*w.padding,paddingLeft:w.padding,paddingRight:w.padding}).appendTo(a)}s.hide(),a.is(":visible")?(t(c.add(r).add(h)).hide(),l=a.position(),f={top:l.top,left:l.left,width:a.width(),height:a.height()},m=f.width==p.width&&f.height==p.height,d.fadeTo(w.changeFade,.3,function(){var i=function(){d.html(e.contents()).fadeTo(w.changeFade,1,L)};t.event.trigger("fancybox-change"),d.empty().removeAttr("filter").css({"border-width":w.padding,width:p.width-2*w.padding,height:b.autoDimensions?"auto":p.height-O-2*w.padding}),m?i():(D.prop=0,t(D).animate({prop:1},{duration:w.changeSpeed,easing:w.easingChange,step:M,complete:i}))})):(a.removeAttr("style"),d.css("border-width",w.padding),"elastic"==w.transitionIn?(f=R(),d.html(e.contents()),a.show(),w.opacity&&(p.opacity=0),D.prop=0,t(D).animate({prop:1},{duration:w.speedIn,easing:w.easingIn,step:M,complete:L})):("inside"==w.titlePosition&&O>0&&s.show(),d.css({width:p.width-2*w.padding,height:b.autoDimensions?"auto":p.height-O-2*w.padding}).html(e.contents()),a.css(p).fadeIn("none"==w.transitionIn?0:w.speedIn,L)))}},P=function(){(w.enableEscapeButton||w.enableKeyboardNav)&&t(document).bind("keydown.fb",function(e){27==e.keyCode&&w.enableEscapeButton?(e.preventDefault(),t.fancybox.close()):37!=e.keyCode&&39!=e.keyCode||!w.enableKeyboardNav||"INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||"SELECT"===e.target.tagName||(e.preventDefault(),t.fancybox[37==e.keyCode?"prev":"next"]())}),w.showNavArrows?((w.cyclic&&x.length>1||0!==u)&&r.show(),(w.cyclic&&x.length>1||u!=x.length-1)&&h.show()):(r.hide(),h.hide())},L=function(){t.support.opacity||(d.get(0).style.removeAttribute("filter"),a.get(0).style.removeAttribute("filter")),b.autoDimensions&&d.css("height","auto"),a.css("height","auto"),j&&j.length&&s.show(),w.showCloseButton&&c.show(),P(),w.hideOnContentClick&&d.bind("click",t.fancybox.close),w.hideOnOverlayClick&&n.bind("click",t.fancybox.close),t(window).bind("resize.fb",t.fancybox.resize),w.centerOnScroll&&t(window).bind("scroll.fb",t.fancybox.center),"iframe"==w.type&&t(\'<iframe id="fancybox-frame" name="fancybox-frame\'+(new Date).getTime()+\'" frameborder="0" hspace="0" \'+(t.browser.msie?\'allowtransparency="true""\':"")+\' scrolling="\'+b.scrolling+\'" src="\'+w.href+\'"></iframe>\').appendTo(d),a.show(),T=!1,t.fancybox.center(),w.onComplete(x,u,w);var e;x.length-1>u&&void 0!==(e=x[u+1].href)&&e.match(I)&&((new Image).src=e),u>0&&void 0!==(e=x[u-1].href)&&e.match(I)&&((new Image).src=e)},M=function(t){var e={width:parseInt(f.width+(p.width-f.width)*t,10),height:parseInt(f.height+(p.height-f.height)*t,10),top:parseInt(f.top+(p.top-f.top)*t,10),left:parseInt(f.left+(p.left-f.left)*t,10)};void 0!==p.opacity&&(e.opacity=t<.5?.5:t),a.css(e),d.css({width:e.width-2*w.padding,height:e.height-O*t-2*w.padding})},z=function(){return[t(window).width()-2*w.margin,t(window).height()-2*w.margin,t(document).scrollLeft()+w.margin,t(document).scrollTop()+w.margin]},H=function(){var t=z(),e={},i=w.autoScale,n=2*w.padding;return e.width=w.width.toString().indexOf("%")>-1?parseInt(t[0]*parseFloat(w.width)/100,10):w.width+n,e.height=w.height.toString().indexOf("%")>-1?parseInt(t[1]*parseFloat(w.height)/100,10):w.height+n,i&&(e.width>t[0]||e.height>t[1])&&("image"==b.type||"swf"==b.type?(i=w.width/w.height,e.width>t[0]&&(e.width=t[0],e.height=parseInt((e.width-n)/i+n,10)),e.height>t[1]&&(e.height=t[1],e.width=parseInt((e.height-n)*i+n,10))):(e.width=Math.min(e.width,t[0]),e.height=Math.min(e.height,t[1]))),e.top=parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-e.height-40)),10),e.left=parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-e.width-40)),10),e},R=function(){var e=!!b.orig&&t(b.orig),i={};return e&&e.length?((i=e.offset()).top+=parseInt(e.css("paddingTop"),10)||0,i.left+=parseInt(e.css("paddingLeft"),10)||0,i.top+=parseInt(e.css("border-top-width"),10)||0,i.left+=parseInt(e.css("border-left-width"),10)||0,i.width=e.width(),i.height=e.height(),i={width:i.width+2*w.padding,height:i.height+2*w.padding,top:i.top-w.padding-20,left:i.left-w.padding-20}):(e=z(),i={width:2*w.padding,height:2*w.padding,top:parseInt(e[3]+.5*e[1],10),left:parseInt(e[2]+.5*e[0],10)}),i},K=function(){i.is(":visible")?(t("div",i).css("top",-40*k+"px"),k=(k+1)%12):clearInterval(l)};t.fn.fancybox=function(e){return t(this).length?(t(this).data("fancybox",t.extend({},e,t.metadata?t(this).metadata():{})).unbind("click.fb").bind("click.fb",function(e){e.preventDefault(),T||(T=!0,t(this).blur(),y=[],g=0,(e=t(this).attr("rel")||"")&&""!=e&&"nofollow"!==e?(y=t("a[rel="+e+"], area[rel="+e+"]"),g=y.index(this)):y.push(this),F())}),this):this},t.fancybox=function(e,i){var n;if(!T){if(T=!0,n=void 0!==i?i:{},y=[],g=parseInt(n.index,10)||0,t.isArray(e)){for(var a=0,o=e.length;a<o;a++)"object"==typeof e[a]?t(e[a]).data("fancybox",t.extend({},n,e[a])):e[a]=t({}).data("fancybox",t.extend({content:e[a]},n));y=jQuery.merge(y,e)}else"object"==typeof e?t(e).data("fancybox",t.extend({},n,e)):e=t({}).data("fancybox",t.extend({content:e},n)),y.push(e);(g>y.length||g<0)&&(g=0),F()}},t.fancybox.showActivity=function(){clearInterval(l),i.show(),l=setInterval(K,66)},t.fancybox.hideActivity=function(){i.hide()},t.fancybox.next=function(){return t.fancybox.pos(u+1)},t.fancybox.prev=function(){return t.fancybox.pos(u-1)},t.fancybox.pos=function(t){T||(t=parseInt(t),y=x,t>-1&&t<x.length?(g=t,F()):w.cyclic&&x.length>1&&(g=t>=x.length?0:x.length-1,F()))},t.fancybox.cancel=function(){T||(T=!0,t.event.trigger("fancybox-cancel"),A(),b.onCancel(y,g,b),T=!1)},t.fancybox.close=function(){function e(){n.fadeOut("fast"),s.empty().hide(),a.hide(),t.event.trigger("fancybox-cleanup"),d.empty(),w.onClosed(x,u,w),x=b=[],u=g=0,w=b={},T=!1}if(!T&&!a.is(":hidden"))if(T=!0,w&&!1===w.onCleanup(x,u,w))T=!1;else if(A(),t(c.add(r).add(h)).hide(),t(d.add(n)).unbind(),t(window).unbind("resize.fb scroll.fb"),t(document).unbind("keydown.fb"),d.find("iframe").attr("src",S&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==w.titlePosition&&s.empty(),a.stop(),"elastic"==w.transitionOut){f=R();var i=a.position();p={top:i.top,left:i.left,width:a.width(),height:a.height()},w.opacity&&(p.opacity=1),s.empty().hide(),D.prop=1,t(D).animate({prop:0},{duration:w.speedOut,easing:w.easingOut,step:M,complete:e})}else a.fadeOut("none"==w.transitionOut?0:w.speedOut,e)},t.fancybox.resize=function(){n.is(":visible")&&n.css("height",t(document).height()),t.fancybox.center(!0)},t.fancybox.center=function(t){if(!$.support.touch){var e,i;T||(i=!0===t?1:0,e=z(),!i&&(a.width()>e[0]||a.height()>e[1])||a.stop().animate({top:parseInt(Math.max(e[3]-20,e[3]+.5*(e[1]-d.height()-40)-w.padding)),left:parseInt(Math.max(e[2]-20,e[2]+.5*(e[0]-d.width()-40)-w.padding))},"number"==typeof t?t:200))}},t.fancybox.init=function(){t("#fancybox-wrap").length||(t("body").append(e=t(\'<div id="fancybox-tmp"></div>\'),i=t(\'<div id="fancybox-loading"><div></div></div>\'),n=t(\'<div id="fancybox-overlay"></div>\'),a=t(\'<div id="fancybox-wrap"></div>\')),(o=t(\'<div id="fancybox-outer"></div>\').append(\'<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>\').appendTo(a)).append(d=t(\'<div id="fancybox-content"></div>\'),c=t(\'<a id="fancybox-close"></a>\'),s=t(\'<div id="fancybox-title"></div>\'),r=t(\'<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>\'),h=t(\'<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>\')),c.click(t.fancybox.close),i.click(t.fancybox.cancel),r.click(function(e){e.preventDefault(),t.fancybox.prev()}),h.click(function(e){e.preventDefault(),t.fancybox.next()}),t.fn.mousewheel&&a.bind("mousewheel.fb",function(e,i){T?e.preventDefault():0!=t(e.target).get(0).clientHeight&&t(e.target).get(0).scrollHeight!==t(e.target).get(0).clientHeight||(e.preventDefault(),e.originalEvent.wheelDelta?i=e.originalEvent.wheelDelta>0?1:0:e.originalEvent.detail&&(i=e.originalEvent.detail>0?0:1),t.fancybox[i>0?"prev":"next"]())}),t.support.opacity||a.addClass("fancybox-ie"),S&&(i.addClass("fancybox-ie6"),a.addClass("fancybox-ie6"),t(\'<iframe id="fancybox-hide-sel-frame" src="\'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+\'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>\').prependTo(o)))},t.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},t(document).ready(function(){t.fancybox.init()})}(jQuery);',address:t.uri}),e.global.require=i,e.global.define=n,e.get("@@global-helpers").retrieveGlobal(t.id,void 0)});
/*public/js/libs/fancybox/fancybox*/
define("public/js/libs/fancybox/fancybox",["jquery/jquery","public/js/libs/fancybox/jquery.mousewheel-3.0.4.pack","public/js/libs/fancybox/jquery.fancybox-1.3.4.pack"]);
/*steal-css*/
define("steal-css",["require","exports","module","@loader","@steal"],function(e,t,s){!function(e,t,s,n){function r(){if("undefined"!=typeof doneSsr&&doneSsr.globalDocument)return doneSsr.globalDocument;if("undefined"!=typeof document)return document;throw new Error("Unable to load CSS in an environment without a document.")}function o(){var e=r(),t=e.head||e.getElementsByTagName("head")[0];if(!t){var s=e.documentElement||e;t=e.createElement("head"),s.insertBefore(t,s.firstChild)}return t}function i(e,t){"object"==typeof e?(this.load=e,this.loader=t,this.address=this.load.address,this.source=this.load.source):(this.address=e,this.source=t)}var a=t("@loader"),d=t("@steal"),u="object"==typeof process&&"[object process]"==={}.toString.call(process),c=/@import [^uU]['"]?([^'"\)]*)['"]?/g,l=/url\(['"]?([^'"\)]*)['"]?\)/g,h=a.cssOptions&&a.cssOptions.timeout?parseInt(a.cssOptions.timeout,10):60,f=function(e,t){for(var s=r().styleSheets,n=s.length;n--;)if(s[n].href===e.href)return t();setTimeout(function(){f(e,t)})};i.prototype={injectLink:function(){if(this._loaded)return this._loaded;if(this.linkExists())return this._loaded=Promise.resolve(""),this._loaded;var e=r(),t=(e.styleSheets,this.address,this.link=e.createElement("link"));return t.type="text/css",t.rel="stylesheet",t.href=this.address,this._loaded=new Promise(function(e,s){var n=setTimeout(function(){s("Unable to load CSS")},1e3*h),r=function(o){clearTimeout(n),t.removeEventListener("load",r),t.removeEventListener("error",r),o&&"error"===o.type?s("Unable to load CSS"):e("")};"isApplicationInstalled"in navigator||!t.addEventListener?f(t,r):(t.addEventListener("load",r),t.addEventListener("error",r)),o().appendChild(t)}),this._loaded},injectStyle:function(){var e=r(),t=o(),s=this.style=e.createElement("style");s.type="text/css",s.styleSheet?s.styleSheet.cssText=this.source:s.appendChild(e.createTextNode(this.source)),t.appendChild(s)},updateURLs:function(){var e=this.source,t=this.address;return this.source=e.replace(c,function(e,s){return u?"@import url("+s+")":"@import url("+d.joinURIs(t,s)+")"}),u||(this.source=this.source+"/*# sourceURL="+t+" */",this.source=this.source.replace(l,function(e,s){return"url("+d.joinURIs(t,s)+")"})),this.source},getExistingNode:function(){var e=r(),t="[href='"+this.address+"']";return e.querySelector&&e.querySelector(t)},linkExists:function(){for(var e=r().styleSheets,t=0;t<e.length;++t)if(this.address===e[t].href)return!0;return!1},setupLiveReload:function(e,t){var s=o(),r=this;if(e.liveReloadInstalled){var i=e.import("live-reload",{name:n.id});Promise.resolve(i).then(function(n){e.import(t).then(function(){n.once("!dispose/"+t,function(){r.style.__isDirty=!0,n.once("!cycleComplete",function(){s.removeChild(r.style)})})})})}}},a.isEnv("production")?s.fetch=function(e){return new i(e.address).injectLink()}:s.instantiate=function(e){var t=this,s=new i(e.address,e.source);e.source=s.updateURLs(),e.metadata.deps=[],e.metadata.format="css",e.metadata.execute=function(){return r()&&(s.injectStyle(),s.setupLiveReload(t,e.name)),t.newModule({source:s.source})}},s.CSSModule=i,s.getDocument=r,s.getHead=o,s.locateScheme=!0,s.buildType="css",s.includeInBuild=!0}(0,e,t,s)});
/*jquery*/
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=fe.type(e);return"function"!==n&&!fe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){if(fe.isFunction(t))return fe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return fe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(we.test(t))return fe.filter(t,e,n);t=fe.filter(t,e)}return fe.grep(e,function(e){return fe.inArray(e,t)>-1!==n})}function i(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function o(e){var t={};return fe.each(e.match(ke)||[],function(e,n){t[n]=!0}),t}function a(){ne.addEventListener?(ne.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s)):(ne.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(ne.addEventListener||"load"===e.event.type||"complete"===ne.readyState)&&(a(),fe.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Le,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:je.test(n)?fe.parseJSON(n):n)}catch(e){}fe.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!fe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(De(e)){var i,o,a=fe.expando,s=e.nodeType,u=s?fe.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=te.pop()||fe.guid++:a),u[l]||(u[l]=s?{}:{toJSON:fe.noop}),"object"!=typeof t&&"function"!=typeof t||(r?u[l]=fe.extend(u[l],t):u[l].data=fe.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[fe.camelCase(t)]=n),"string"==typeof t?null==(i=o[t])&&(i=o[fe.camelCase(t)]):i=o,i}}function f(e,t,n){if(De(e)){var r,i,o=e.nodeType,a=o?fe.cache:e,s=o?e[fe.expando]:fe.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){i=(t=fe.isArray(t)?t.concat(fe.map(t,fe.camelCase)):t in r?[t]:(t=fe.camelCase(t))in r?[t]:t.split(" ")).length;for(;i--;)delete r[t[i]];if(n?!l(r):!fe.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?fe.cleanData([e],!0):ce.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}function d(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return fe.css(e,t,"")},u=s(),l=n&&n[3]||(fe.cssNumber[t]?"":"px"),c=(fe.cssNumber[t]||"px"!==l&&+u)&&qe.exec(fe.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do{c/=o=o||".5",fe.style(e,t,c+l)}while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function p(e){var t=We.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){var n,r,i=0,o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||fe.nodeName(r,t)?o.push(r):fe.merge(o,h(r,t));return void 0===t||t&&fe.nodeName(e,t)?fe.merge([e],o):o}function g(e,t){for(var n,r=0;null!=(n=e[r]);r++)fe._data(n,"globalEval",!t||fe._data(t[r],"globalEval"))}function m(e){Oe.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t,n,r,i){for(var o,a,s,u,l,c,f,d=e.length,v=p(t),y=[],x=0;x<d;x++)if((a=e[x])||0===a)if("object"===fe.type(a))fe.merge(y,a.nodeType?[a]:a);else if($e.test(a)){for(u=u||v.appendChild(t.createElement("div")),l=(Re.exec(a)||["",""])[1].toLowerCase(),f=Ie[l]||Ie._default,u.innerHTML=f[1]+fe.htmlPrefilter(a)+f[2],o=f[0];o--;)u=u.lastChild;if(!ce.leadingWhitespace&&Be.test(a)&&y.push(t.createTextNode(Be.exec(a)[0])),!ce.tbody)for(o=(a="table"!==l||ze.test(a)?"<table>"!==f[1]||ze.test(a)?0:u:u.firstChild)&&a.childNodes.length;o--;)fe.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(fe.merge(y,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=v.lastChild}else y.push(t.createTextNode(a));for(u&&v.removeChild(u),ce.appendChecked||fe.grep(h(y,"input"),m),x=0;a=y[x++];)if(r&&fe.inArray(a,r)>-1)i&&i.push(a);else if(s=fe.contains(a.ownerDocument,a),u=h(v.appendChild(a),"script"),s&&g(u),n)for(o=0;a=u[o++];)Pe.test(a.type||"")&&n.push(a);return u=null,v}function y(){return!0}function x(){return!1}function b(){try{return ne.activeElement}catch(e){}}function w(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)w(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=x;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return fe().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=fe.guid++)),e.each(function(){fe.event.add(this,t,i,r,n)})}function T(e,t){return fe.nodeName(e,"table")&&fe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function C(e){return e.type=(null!==fe.find.attr(e,"type"))+"/"+e.type,e}function E(e){var t=tt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function N(e,t){if(1===t.nodeType&&fe.hasData(e)){var n,r,i,o=fe._data(e),a=fe._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;r<i;r++)fe.event.add(t,n,s[n][r])}a.data&&(a.data=fe.extend({},a.data))}}function k(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ce.noCloneEvent&&t[fe.expando]){i=fe._data(t);for(r in i.events)fe.removeEvent(t,r,i.handle);t.removeAttribute(fe.expando)}"script"===n&&t.text!==e.text?(C(t).text=e.text,E(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ce.html5Clone&&e.innerHTML&&!fe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Oe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function S(e,t,n,r){t=ie.apply([],t);var i,o,a,s,u,l,c=0,f=e.length,d=f-1,p=t[0],g=fe.isFunction(p);if(g||f>1&&"string"==typeof p&&!ce.checkClone&&et.test(p))return e.each(function(i){var o=e.eq(i);g&&(t[0]=p.call(this,i,o.html())),S(o,t,n,r)});if(f&&(l=v(t,e[0].ownerDocument,!1,e,r),i=l.firstChild,1===l.childNodes.length&&(l=i),i||r)){for(a=(s=fe.map(h(l,"script"),C)).length;c<f;c++)o=l,c!==d&&(o=fe.clone(o,!0,!0),a&&fe.merge(s,h(o,"script"))),n.call(e[c],o,c);if(a)for(u=s[s.length-1].ownerDocument,fe.map(s,E),c=0;c<a;c++)o=s[c],Pe.test(o.type||"")&&!fe._data(o,"globalEval")&&fe.contains(u,o)&&(o.src?fe._evalUrl&&fe._evalUrl(o.src):fe.globalEval((o.text||o.textContent||o.innerHTML||"").replace(nt,"")));l=i=null}return e}function A(e,t,n){for(var r,i=t?fe.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||fe.cleanData(h(r)),r.parentNode&&(n&&fe.contains(r.ownerDocument,r)&&g(h(r,"script")),r.parentNode.removeChild(r));return e}function D(e,t){var n=fe(t.createElement(e)).appendTo(t.body),r=fe.css(n[0],"display");return n.detach(),r}function j(e){var t=ne,n=ot[e];return n||("none"!==(n=D(e,t))&&n||((t=((it=(it||fe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||it[0].contentDocument).document).write(),t.close(),n=D(e,t),it.detach()),ot[e]=n),n}function L(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function H(e){if(e in bt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=xt.length;n--;)if((e=xt[n]+t)in bt)return e}function q(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=fe._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Fe(r)&&(o[a]=fe._data(r,"olddisplay",j(r.nodeName)))):(i=Fe(r),(n&&"none"!==n||!i)&&fe._data(r,"olddisplay",i?n:fe.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function _(e,t,n){var r=mt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function F(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=fe.css(e,n+_e[o],!0,i)),r?("content"===n&&(a-=fe.css(e,"padding"+_e[o],!0,i)),"margin"!==n&&(a-=fe.css(e,"border"+_e[o]+"Width",!0,i))):(a+=fe.css(e,"padding"+_e[o],!0,i),"padding"!==n&&(a+=fe.css(e,"border"+_e[o]+"Width",!0,i)));return a}function M(t,n,r){var i=!0,o="width"===n?t.offsetWidth:t.offsetHeight,a=ct(t),s=ce.boxSizing&&"border-box"===fe.css(t,"boxSizing",!1,a);if(ne.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(o=Math.round(100*t.getBoundingClientRect()[n])),o<=0||null==o){if(((o=ft(t,n,a))<0||null==o)&&(o=t.style[n]),st.test(o))return o;i=s&&(ce.boxSizingReliable()||o===t.style[n]),o=parseFloat(o)||0}return o+F(t,n,r||(s?"border":"content"),i,a)+"px"}function O(e,t,n,r,i){return new O.prototype.init(e,t,n,r,i)}function R(){return e.setTimeout(function(){wt=void 0}),wt=fe.now()}function P(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=_e[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function B(e,t,n){for(var r,i=(I.tweeners[t]||[]).concat(I.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function W(e,t){var n,r,i,o,a;for(n in e)if(r=fe.camelCase(n),i=t[r],o=e[n],fe.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=fe.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function I(e,t,n){var r,i,o=0,a=I.prefilters.length,s=fe.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=wt||R(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:fe.extend({},t),opts:fe.extend(!0,{specialEasing:{},easing:fe.easing._default},n),originalProperties:t,originalOptions:n,startTime:wt||R(),duration:n.duration,tweens:[],createTween:function(t,n){var r=fe.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(W(c,l.opts.specialEasing);o<a;o++)if(r=I.prefilters[o].call(l,e,c,l.opts))return fe.isFunction(r.stop)&&(fe._queueHooks(l.elem,l.opts.queue).stop=fe.proxy(r.stop,r)),r;return fe.map(c,B,l),fe.isFunction(l.opts.start)&&l.opts.start.call(e,l),fe.fx.timer(fe.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function $(e){return fe.attr(e,"class")||""}function z(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(ke)||[];if(fe.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function X(e,t,n,r){function i(s){var u;return o[s]=!0,fe.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Yt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function U(e,t){var n,r,i=fe.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&fe.extend(!0,e,n),e}function V(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Y(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function J(e){return e.style&&e.style.display||fe.css(e,"display")}function G(e){for(;e&&1===e.nodeType;){if("none"===J(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function Q(e,t,n,r){var i;if(fe.isArray(t))fe.each(t,function(t,i){n||Zt.test(e)?r(e,i):Q(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==fe.type(t))r(e,t);else for(i in t)Q(e+"["+i+"]",t[i],n,r)}function K(){try{return new e.XMLHttpRequest}catch(e){}}function Z(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function ee(e){return fe.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var te=[],ne=e.document,re=te.slice,ie=te.concat,oe=te.push,ae=te.indexOf,se={},ue=se.toString,le=se.hasOwnProperty,ce={},fe=function(e,t){return new fe.fn.init(e,t)},de=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pe=/^-ms-/,he=/-([\da-z])/gi,ge=function(e,t){return t.toUpperCase()};fe.fn=fe.prototype={jquery:"1.12.2",constructor:fe,selector:"",length:0,toArray:function(){return re.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:re.call(this)},pushStack:function(e){var t=fe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return fe.each(this,e)},map:function(e){return this.pushStack(fe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:te.sort,splice:te.splice},fe.extend=fe.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||fe.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],a!==(n=i[r])&&(l&&n&&(fe.isPlainObject(n)||(t=fe.isArray(n)))?(t?(t=!1,o=e&&fe.isArray(e)?e:[]):o=e&&fe.isPlainObject(e)?e:{},a[r]=fe.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},fe.extend({expando:"jQuery"+("1.12.2"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===fe.type(e)},isArray:Array.isArray||function(e){return"array"===fe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!fe.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==fe.type(e)||e.nodeType||fe.isWindow(e))return!1;try{if(e.constructor&&!le.call(e,"constructor")&&!le.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!ce.ownFirst)for(t in e)return le.call(e,t);for(t in e);return void 0===t||le.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?se[ue.call(e)]||"object":typeof e},globalEval:function(t){t&&fe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(pe,"ms-").replace(he,ge)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,i=0;if(n(e))for(r=e.length;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(de,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?fe.merge(r,"string"==typeof e?[e]:e):oe.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(ae)return ae.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,r){var i,o,a=0,s=[];if(n(e))for(i=e.length;a<i;a++)null!=(o=t(e[a],a,r))&&s.push(o);else for(a in e)null!=(o=t(e[a],a,r))&&s.push(o);return ie.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(i=e[t],t=e,e=i),fe.isFunction(e))return n=re.call(arguments,2),r=function(){return e.apply(t||this,n.concat(re.call(arguments)))},r.guid=e.guid=e.guid||fe.guid++,r},now:function(){return+new Date},support:ce}),"function"==typeof Symbol&&(fe.fn[Symbol.iterator]=te[Symbol.iterator]),fe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){se["[object "+t+"]"]=t.toLowerCase()});var me=function(e){function t(e,t,n,r){var i,o,a,s,l,f,d,p,h=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!r&&((t?t.ownerDocument||t:R)!==j&&D(t),t=t||j,H)){if(11!==g&&(f=ge.exec(e)))if(i=f[1]){if(9===g){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(h&&(a=h.getElementById(i))&&M(t,a)&&a.id===i)return n.push(a),n}else{if(f[2])return G.apply(n,t.getElementsByTagName(e)),n;if((i=f[3])&&x.getElementsByClassName&&t.getElementsByClassName)return G.apply(n,t.getElementsByClassName(i)),n}if(x.qsa&&!$[e+" "]&&(!q||!q.test(e))){if(1!==g)h=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ve,"\\$&"):t.setAttribute("id",s=O),o=(d=C(e)).length,l=ce.test(s)?"#"+s:"[id='"+s+"']";o--;)d[o]=l+" "+c(d[o]);p=d.join(","),h=me.test(e)&&u(t.parentNode)||t}if(p)try{return G.apply(n,h.querySelectorAll(p)),n}catch(e){}finally{s===O&&t.removeAttribute("id")}}}return N(e.replace(oe,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>b.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[O]=!0,e}function i(e){var t=j.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function u(e){return e&&void 0!==e.getElementsByTagName&&e}function l(){}function c(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l,c=[P,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[O]||(t[O]={}),u=l[t.uniqueID]||(l[t.uniqueID]={}),(s=u[r])&&s[0]===P&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function d(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function p(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function h(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function g(e,t,n,i,o,a){return i&&!i[O]&&(i=g(i)),o&&!o[O]&&(o=g(o,a)),r(function(r,a,s,u){var l,c,f,d=[],g=[],m=a.length,v=r||p(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:h(v,d,e,s,u),x=n?o||(r?e:m||i)?[]:a:y;if(n&&n(y,x,s,u),i)for(l=h(x,g),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(x[g[c]]=!(y[g[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?K(r,f):d[c])>-1&&(r[l]=!(a[l]=f))}}else x=h(x===a?x.splice(m,x.length):x),o?o(null,a,x,u):G.apply(a,x)})}function m(e){for(var t,n,r,i=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=f(function(e){return e===t},a,!0),l=f(function(e){return K(t,e)>-1},a,!0),p=[function(e,n,r){var i=!o&&(r||n!==k)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=b.relative[e[s].type])p=[f(d(p),n)];else{if((n=b.filter[e[s].type].apply(null,e[s].matches))[O]){for(r=++s;r<i&&!b.relative[e[r].type];r++);return g(s>1&&d(p),s>1&&c(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(oe,"$1"),n,s<r&&m(e.slice(s,r)),r<i&&m(e=e.slice(r)),r<i&&c(e))}p.push(n)}return d(p)}function v(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,f,d,p=0,g="0",m=r&&[],v=[],y=k,x=r||o&&b.find.TAG("*",l),w=P+=null==y?1:Math.random()||.1,T=x.length;for(l&&(k=a===j||a||l);g!==T&&null!=(c=x[g]);g++){if(o&&c){for(f=0,a||c.ownerDocument===j||(D(c),s=!H);d=e[f++];)if(d(c,a||j,s)){u.push(c);break}l&&(P=w)}i&&((c=!d&&c)&&p--,r&&m.push(c))}if(p+=g,i&&g!==p){for(f=0;d=n[f++];)d(m,v,a,s);if(r){if(p>0)for(;g--;)m[g]||v[g]||(v[g]=Y.call(u));v=h(v)}G.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(P=w,k=y),m};return i?r(a):a}var y,x,b,w,T,C,E,N,k,S,A,D,j,L,H,q,_,F,M,O="sizzle"+1*new Date,R=e.document,P=0,B=0,W=n(),I=n(),$=n(),z=function(e,t){return e===t&&(A=!0),0},X=1<<31,U={}.hasOwnProperty,V=[],Y=V.pop,J=V.push,G=V.push,Q=V.slice,K=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",re=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",ie=new RegExp(ee+"+","g"),oe=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),ae=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),ue=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),le=new RegExp(re),ce=new RegExp("^"+te+"$"),fe={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Z+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,he=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,ve=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),xe=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},be=function(){D()};try{G.apply(V=Q.call(R.childNodes),R.childNodes),V[R.childNodes.length].nodeType}catch(e){G={apply:V.length?function(e,t){J.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}x=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},D=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==j&&9===r.nodeType&&r.documentElement?(j=r,L=j.documentElement,H=!T(j),(n=j.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",be,!1):n.attachEvent&&n.attachEvent("onunload",be)),x.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=i(function(e){return e.appendChild(j.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=he.test(j.getElementsByClassName),x.getById=i(function(e){return L.appendChild(e).id=O,!j.getElementsByName||!j.getElementsByName(O).length}),x.getById?(b.find.ID=function(e,t){if(void 0!==t.getElementById&&H){var n=t.getElementById(e);return n?[n]:[]}},b.filter.ID=function(e){var t=e.replace(ye,xe);return function(e){return e.getAttribute("id")===t}}):(delete b.find.ID,b.filter.ID=function(e){var t=e.replace(ye,xe);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),b.find.TAG=x.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=x.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&H)return t.getElementsByClassName(e)},_=[],q=[],(x.qsa=he.test(j.querySelectorAll))&&(i(function(e){L.appendChild(e).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||q.push("\\["+ee+"*(?:value|"+Z+")"),e.querySelectorAll("[id~="+O+"-]").length||q.push("~="),e.querySelectorAll(":checked").length||q.push(":checked"),e.querySelectorAll("a#"+O+"+*").length||q.push(".#.+[+~]")}),i(function(e){var t=j.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&q.push("name"+ee+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),q.push(",.*:")})),(x.matchesSelector=he.test(F=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&i(function(e){x.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),_.push("!=",re)}),q=q.length&&new RegExp(q.join("|")),_=_.length&&new RegExp(_.join("|")),t=he.test(L.compareDocumentPosition),M=t||he.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===j||e.ownerDocument===R&&M(R,e)?-1:t===j||t.ownerDocument===R&&M(R,t)?1:S?K(S,e)-K(S,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===j?-1:t===j?1:i?-1:o?1:S?K(S,e)-K(S,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===R?-1:u[r]===R?1:0},j):j},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==j&&D(e),n=n.replace(ue,"='$1']"),x.matchesSelector&&H&&!$[n+" "]&&(!_||!_.test(n))&&(!q||!q.test(n)))try{var r=F.call(e,n);if(r||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,j,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==j&&D(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==j&&D(e);var n=b.attrHandle[t.toLowerCase()],r=n&&U.call(b.attrHandle,t.toLowerCase())?n(e,t,!H):void 0;return void 0!==r?r:x.attributes||!H?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!x.detectDuplicates,S=!x.sortStable&&e.slice(0),e.sort(z),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return S=null,e},w=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=w(t);return n},(b=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,d,p,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,x=!1;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&y){for(x=(p=(l=(c=(f=(d=m)[O]||(d[O]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===P&&l[1])&&l[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(x=p=0)||h.pop();)if(1===d.nodeType&&++x&&d===t){c[e]=[P,p,x];break}}else if(y&&(x=p=(l=(c=(f=(d=t)[O]||(d[O]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]||[])[0]===P&&l[1]),!1===x)for(;(d=++p&&d&&d[g]||(x=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++x||(y&&((c=(f=d[O]||(d[O]={}))[d.uniqueID]||(f[d.uniqueID]={}))[e]=[P,x]),d!==t)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,n){var i,o=b.pseudos[e]||b.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[O]?o(n):o.length>1?(i=[e,e,"",n],b.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)e[r=K(e,i[a])]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(oe,"$1"));return i[O]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ye,xe),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:r(function(e){return ce.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,xe).toLowerCase(),function(t){var n;do{if(n=H?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})b.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return l.prototype=b.filters=b.pseudos,b.setFilters=new l,C=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=b.preFilter;s;){r&&!(i=ae.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=se.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(oe," ")}),s=s.slice(r.length));for(a in b.filter)!(i=fe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,u).slice(0)},E=t.compile=function(e,t){var n,r=[],i=[],o=$[e+" "];if(!o){for(t||(t=C(e)),n=t.length;n--;)(o=m(t[n]))[O]?r.push(o):i.push(o);(o=$(e,v(i,r))).selector=e}return o},N=t.select=function(e,t,n,r){var i,o,a,s,l,f="function"==typeof e&&e,d=!r&&C(e=f.selector||e);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&x.getById&&9===t.nodeType&&H&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(ye,xe),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!b.relative[s=a.type]);)if((l=b.find[s])&&(r=l(a.matches[0].replace(ye,xe),me.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&c(o)))return G.apply(n,r),n;break}}return(f||E(e,d))(r,t,!H,n,!t||me.test(e)&&u(t.parentNode)||t),n},x.sortStable=O.split("").sort(z).join("")===O,x.detectDuplicates=!!A,D(),x.sortDetached=i(function(e){return 1&e.compareDocumentPosition(j.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(Z,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);fe.find=me,fe.expr=me.selectors,fe.expr[":"]=fe.expr.pseudos,fe.uniqueSort=fe.unique=me.uniqueSort,fe.text=me.getText,fe.isXMLDoc=me.isXML,fe.contains=me.contains;var ve=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&fe(e).is(n))break;r.push(e)}return r},ye=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},xe=fe.expr.match.needsContext,be=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,we=/^.[^:#\[\.,]*$/;fe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?fe.find.matchesSelector(r,e)?[r]:[]:fe.find.matches(e,fe.grep(t,function(e){return 1===e.nodeType}))},fe.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(fe(e).filter(function(){for(t=0;t<i;t++)if(fe.contains(r[t],this))return!0}));for(t=0;t<i;t++)fe.find(e,r[t],n);return n=this.pushStack(i>1?fe.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&xe.test(e)?fe(e):e||[],!1).length}});var Te,Ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(fe.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Te,"string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Ce.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof fe?t[0]:t,fe.merge(this,fe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),be.test(r[1])&&fe.isPlainObject(t))for(r in t)fe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if((i=ne.getElementById(r[2]))&&i.parentNode){if(i.id!==r[2])return Te.find(e);this.length=1,this[0]=i}return this.context=ne,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):fe.isFunction(e)?void 0!==n.ready?n.ready(e):e(fe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),fe.makeArray(e,this))}).prototype=fe.fn,Te=fe(ne);var Ee=/^(?:parents|prev(?:Until|All))/,Ne={children:!0,contents:!0,next:!0,prev:!0};fe.fn.extend({has:function(e){var t,n=fe(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(fe.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=xe.test(e)||"string"!=typeof e?fe(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&fe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?fe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?fe.inArray(this[0],fe(e)):fe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(fe.uniqueSort(fe.merge(this.get(),fe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),fe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ve(e,"parentNode")},parentsUntil:function(e,t,n){return ve(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ve(e,"nextSibling")},prevAll:function(e){return ve(e,"previousSibling")},nextUntil:function(e,t,n){return ve(e,"nextSibling",n)},prevUntil:function(e,t,n){return ve(e,"previousSibling",n)},siblings:function(e){return ye((e.parentNode||{}).firstChild,e)},children:function(e){return ye(e.firstChild)},contents:function(e){return fe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:fe.merge([],e.childNodes)}},function(e,t){fe.fn[e]=function(n,r){var i=fe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=fe.filter(r,i)),this.length>1&&(Ne[e]||(i=fe.uniqueSort(i)),Ee.test(e)&&(i=i.reverse())),this.pushStack(i)}});var ke=/\S+/g;fe.Callbacks=function(e){e="string"==typeof e?o(e):fe.extend({},e);var t,n,r,i,a=[],s=[],u=-1,l=function(){for(i=e.once,r=t=!0;s.length;u=-1)for(n=s.shift();++u<a.length;)!1===a[u].apply(n[0],n[1])&&e.stopOnFalse&&(u=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(u=a.length-1,s.push(n)),function t(n){fe.each(n,function(n,r){fe.isFunction(r)?e.unique&&c.has(r)||a.push(r):r&&r.length&&"string"!==fe.type(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return fe.each(arguments,function(e,t){for(var n;(n=fe.inArray(t,a,n))>-1;)a.splice(n,1),n<=u&&u--}),this},has:function(e){return e?fe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=!0,n||c.disable(),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},fe.extend({Deferred:function(e){var t=[["resolve","done",fe.Callbacks("once memory"),"resolved"],["reject","fail",fe.Callbacks("once memory"),"rejected"],["notify","progress",fe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return fe.Deferred(function(n){fe.each(t,function(t,o){var a=fe.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&fe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?fe.extend(e,r):r}},i={};return r.pipe=r.then,fe.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=re.call(arguments),a=o.length,s=1!==a||e&&fe.isFunction(e.promise)?a:0,u=1===s?e:fe.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?re.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&fe.isFunction(o[i].promise)?o[i].promise().progress(l(i,n,t)).done(l(i,r,o)).fail(u.reject):--s;return s||u.resolveWith(r,o),u.promise()}});var Se;fe.fn.ready=function(e){return fe.ready.promise().done(e),this},fe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?fe.readyWait++:fe.ready(!0)},ready:function(e){(!0===e?--fe.readyWait:fe.isReady)||(fe.isReady=!0,!0!==e&&--fe.readyWait>0||(Se.resolveWith(ne,[fe]),fe.fn.triggerHandler&&(fe(ne).triggerHandler("ready"),fe(ne).off("ready"))))}}),fe.ready.promise=function(t){if(!Se)if(Se=fe.Deferred(),"complete"===ne.readyState||"loading"!==ne.readyState&&!ne.documentElement.doScroll)e.setTimeout(fe.ready);else if(ne.addEventListener)ne.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s);else{ne.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&ne.documentElement}catch(e){}n&&n.doScroll&&function t(){if(!fe.isReady){try{n.doScroll("left")}catch(n){return e.setTimeout(t,50)}a(),fe.ready()}}()}return Se.promise(t)},fe.ready.promise();var Ae;for(Ae in fe(ce))break;ce.ownFirst="0"===Ae,ce.inlineBlockNeedsLayout=!1,fe(function(){var e,t,n,r;(n=ne.getElementsByTagName("body")[0])&&n.style&&(t=ne.createElement("div"),(r=ne.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ce.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=ne.createElement("div");ce.deleteExpando=!0;try{delete e.test}catch(e){ce.deleteExpando=!1}e=null}();var De=function(e){var t=fe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},je=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Le=/([A-Z])/g;fe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?fe.cache[e[fe.expando]]:e[fe.expando])&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return f(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return f(e,t,!0)}}),fe.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=fe.data(o),1===o.nodeType&&!fe._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&u(o,r=fe.camelCase(r.slice(5)),i[r]);fe._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){fe.data(this,e)}):arguments.length>1?this.each(function(){fe.data(this,e,t)}):o?u(o,e,fe.data(o,e)):void 0},removeData:function(e){return this.each(function(){fe.removeData(this,e)})}}),fe.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=fe._data(e,t),n&&(!r||fe.isArray(n)?r=fe._data(e,t,fe.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=fe.queue(e,t),r=n.length,i=n.shift(),o=fe._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){fe.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return fe._data(e,n)||fe._data(e,n,{empty:fe.Callbacks("once memory").add(function(){fe._removeData(e,t+"queue"),fe._removeData(e,n)})})}}),fe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?fe.queue(this[0],e):void 0===t?this:this.each(function(){var n=fe.queue(this,e,t);fe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&fe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){fe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=fe.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=fe._data(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}}),function(){var e;ce.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return(n=ne.getElementsByTagName("body")[0])&&n.style?(t=ne.createElement("div"),r=ne.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ne.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var He=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qe=new RegExp("^(?:([+-])=|)("+He+")([a-z%]*)$","i"),_e=["Top","Right","Bottom","Left"],Fe=function(e,t){return e=t||e,"none"===fe.css(e,"display")||!fe.contains(e.ownerDocument,e)},Me=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===fe.type(n)){i=!0;for(s in n)Me(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,fe.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(fe(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},Oe=/^(?:checkbox|radio)$/i,Re=/<([\w:-]+)/,Pe=/^$|\/(?:java|ecma)script/i,Be=/^\s+/,We="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=ne.createElement("div"),t=ne.createDocumentFragment(),n=ne.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ce.leadingWhitespace=3===e.firstChild.nodeType,ce.tbody=!e.getElementsByTagName("tbody").length,ce.htmlSerialize=!!e.getElementsByTagName("link").length,ce.html5Clone="<:nav></:nav>"!==ne.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),ce.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",ce.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),(n=ne.createElement("input")).setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ce.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.noCloneEvent=!!e.addEventListener,e[fe.expando]=1,ce.attributes=!e.getAttribute(fe.expando)}();var Ie={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ce.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ie.optgroup=Ie.option,Ie.tbody=Ie.tfoot=Ie.colgroup=Ie.caption=Ie.thead,Ie.th=Ie.td;var $e=/<|&#?\w+;/,ze=/<tbody/i;!function(){var t,n,r=ne.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ce[t]=n in e)||(r.setAttribute(n,"t"),ce[t]=!1===r.attributes[n].expando);r=null}();var Xe=/^(?:input|select|textarea)$/i,Ue=/^key/,Ve=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ye=/^(?:focusinfocus|focusoutblur)$/,Je=/^([^.]*)(?:\.(.+)|)/;fe.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,d,p,h,g,m=fe._data(e);if(m){for(n.handler&&(n=(u=n).handler,i=u.selector),n.guid||(n.guid=fe.guid++),(a=m.events)||(a=m.events={}),(c=m.handle)||((c=m.handle=function(e){return void 0===fe||e&&fe.event.triggered===e.type?void 0:fe.event.dispatch.apply(c.elem,arguments)}).elem=e),s=(t=(t||"").match(ke)||[""]).length;s--;)p=g=(o=Je.exec(t[s])||[])[1],h=(o[2]||"").split(".").sort(),p&&(l=fe.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=fe.event.special[p]||{},f=fe.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&fe.expr.match.needsContext.test(i),namespace:h.join(".")},u),(d=a[p])||((d=a[p]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,r,h,c)||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,f):d.push(f),fe.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,d,p,h,g,m=fe.hasData(e)&&fe._data(e);if(m&&(c=m.events)){for(l=(t=(t||"").match(ke)||[""]).length;l--;)if(s=Je.exec(t[l])||[],p=g=s[1],h=(s[2]||"").split(".").sort(),p){for(f=fe.event.special[p]||{},d=c[p=(r?f.delegateType:f.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=d.length;o--;)a=d[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,f.remove&&f.remove.call(e,a));u&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,m.handle)||fe.removeEvent(e,p,m.handle),delete c[p])}else for(p in c)fe.event.remove(e,p+t[l],n,r,!0);fe.isEmptyObject(c)&&(delete m.handle,fe._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,f,d=[r||ne],p=le.call(t,"type")?t.type:t,h=le.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||ne,3!==r.nodeType&&8!==r.nodeType&&!Ye.test(p+fe.event.triggered)&&(p.indexOf(".")>-1&&(p=(h=p.split(".")).shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[fe.expando]?t:new fe.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:fe.makeArray(n,[t]),l=fe.event.special[p]||{},i||!l.trigger||!1!==l.trigger.apply(r,n))){if(!i&&!l.noBubble&&!fe.isWindow(r)){for(u=l.delegateType||p,Ye.test(u+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),c=s;c===(r.ownerDocument||ne)&&d.push(c.defaultView||c.parentWindow||e)}for(f=0;(s=d[f++])&&!t.isPropagationStopped();)t.type=f>1?u:l.bindType||p,(o=(fe._data(s,"events")||{})[t.type]&&fe._data(s,"handle"))&&o.apply(s,n),(o=a&&s[a])&&o.apply&&De(s)&&(t.result=o.apply(s,n),!1===t.result&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(d.pop(),n))&&De(r)&&a&&r[p]&&!fe.isWindow(r)){(c=r[a])&&(r[a]=null),fe.event.triggered=p;try{r[p]()}catch(e){}fe.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=fe.event.fix(e);var t,n,r,i,o,a=[],s=re.call(arguments),u=(fe._data(this,"events")||{})[e.type]||[],l=fe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(a=fe.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(r=((fe.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?fe(i,this).index(u)>-1:fe.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[fe.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Ve.test(i)?this.mouseHooks:Ue.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new fe.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||ne),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(r=e.target.ownerDocument||ne).documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==b()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===b()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(fe.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return fe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=fe.extend(new fe.Event,n,{type:e,isSimulated:!0});fe.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},fe.removeEvent=ne.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&(void 0===e[r]&&(e[r]=null),e.detachEvent(r,n))},fe.Event=function(e,t){if(!(this instanceof fe.Event))return new fe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?y:x):this.type=e,t&&fe.extend(this,t),this.timeStamp=e&&e.timeStamp||fe.now(),this[fe.expando]=!0},fe.Event.prototype={constructor:fe.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=y,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=y,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=y,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},fe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){fe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||fe.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ce.submit||(fe.event.special.submit={setup:function(){if(fe.nodeName(this,"form"))return!1;fe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=fe.nodeName(t,"input")||fe.nodeName(t,"button")?fe.prop(t,"form"):void 0;n&&!fe._data(n,"submit")&&(fe.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),fe._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&fe.event.simulate("submit",this.parentNode,e))},teardown:function(){if(fe.nodeName(this,"form"))return!1;fe.event.remove(this,"._submit")}}),ce.change||(fe.event.special.change={setup:function(){if(Xe.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(fe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),fe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),fe.event.simulate("change",this,e)})),!1;fe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Xe.test(t.nodeName)&&!fe._data(t,"change")&&(fe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||fe.event.simulate("change",this.parentNode,e)}),fe._data(t,"change",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return fe.event.remove(this,"._change"),!Xe.test(this.nodeName)}}),ce.focusin||fe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){fe.event.simulate(t,e.target,fe.event.fix(e))};fe.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=fe._data(r,t);i||r.addEventListener(e,n,!0),fe._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=fe._data(r,t)-1;i?fe._data(r,t,i):(r.removeEventListener(e,n,!0),fe._removeData(r,t))}}}),fe.fn.extend({on:function(e,t,n,r){return w(this,e,t,n,r)},one:function(e,t,n,r){return w(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,fe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=x),this.each(function(){fe.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){fe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return fe.event.trigger(e,t,n,!0)}});var Ge=/ jQuery\d+="(?:null|\d+)"/g,Qe=new RegExp("<(?:"+We+")[\\s/>]","i"),Ke=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ze=/<script|<style|<link/i,et=/checked\s*(?:[^=]|=\s*.checked.)/i,tt=/^true\/(.*)/,nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rt=p(ne).appendChild(ne.createElement("div"));fe.extend({htmlPrefilter:function(e){return e.replace(Ke,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u=fe.contains(e.ownerDocument,e);if(ce.html5Clone||fe.isXMLDoc(e)||!Qe.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(rt.innerHTML=e.outerHTML,rt.removeChild(o=rt.firstChild)),!(ce.noCloneEvent&&ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||fe.isXMLDoc(e)))for(r=h(o),s=h(e),a=0;null!=(i=s[a]);++a)r[a]&&k(i,r[a]);if(t)if(n)for(s=s||h(e),r=r||h(o),a=0;null!=(i=s[a]);a++)N(i,r[a]);else N(e,o);return(r=h(o,"script")).length>0&&g(r,!u&&h(e,"script")),r=s=i=null,o},cleanData:function(e,t){for(var n,r,i,o,a=0,s=fe.expando,u=fe.cache,l=ce.attributes,c=fe.event.special;null!=(n=e[a]);a++)if((t||De(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?fe.event.remove(n,r):fe.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l||void 0===n.removeAttribute?n[s]=void 0:n.removeAttribute(s),te.push(i))}}}),fe.fn.extend({domManip:S,detach:function(e){return A(this,e,!0)},remove:function(e){return A(this,e)},text:function(e){return Me(this,function(e){return void 0===e?fe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ne).createTextNode(e))},null,e,arguments.length)},append:function(){return S(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||T(this,e).appendChild(e)})},prepend:function(){return S(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=T(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&fe.cleanData(h(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&fe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return fe.clone(this,e,t)})},html:function(e){return Me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ge,""):void 0;if("string"==typeof e&&!Ze.test(e)&&(ce.htmlSerialize||!Qe.test(e))&&(ce.leadingWhitespace||!Be.test(e))&&!Ie[(Re.exec(e)||["",""])[1].toLowerCase()]){e=fe.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(fe.cleanData(h(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return S(this,arguments,function(t){var n=this.parentNode;fe.inArray(this,e)<0&&(fe.cleanData(h(this)),n&&n.replaceChild(t,this))},e)}}),fe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){fe.fn[e]=function(e){for(var n,r=0,i=[],o=fe(e),a=o.length-1;r<=a;r++)n=r===a?this:this.clone(!0),fe(o[r])[t](n),oe.apply(i,n.get());return this.pushStack(i)}});var it,ot={HTML:"block",BODY:"block"},at=/^margin/,st=new RegExp("^("+He+")(?!px)[a-z%]+$","i"),ut=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},lt=ne.documentElement;!function(){function t(){var t,c,f=ne.documentElement;f.appendChild(u),l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=i=s=!1,r=a=!0,e.getComputedStyle&&(c=e.getComputedStyle(l),n="1%"!==(c||{}).top,s="2px"===(c||{}).marginLeft,i="4px"===(c||{width:"4px"}).width,l.style.marginRight="50%",r="4px"===(c||{marginRight:"4px"}).marginRight,(t=l.appendChild(ne.createElement("div"))).style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",l.style.width="1px",a=!parseFloat((e.getComputedStyle(t)||{}).marginRight),l.removeChild(t)),l.style.display="none",(o=0===l.getClientRects().length)&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(t=l.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),f.removeChild(u)}var n,r,i,o,a,s,u=ne.createElement("div"),l=ne.createElement("div");l.style&&(l.style.cssText="float:left;opacity:.5",ce.opacity="0.5"===l.style.opacity,ce.cssFloat=!!l.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",ce.clearCloneStyle="content-box"===l.style.backgroundClip,(u=ne.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",l.innerHTML="",u.appendChild(l),ce.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing,fe.extend(ce,{reliableHiddenOffsets:function(){return null==n&&t(),o},boxSizingReliable:function(){return null==n&&t(),i},pixelMarginRight:function(){return null==n&&t(),r},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),a},reliableMarginLeft:function(){return null==n&&t(),s}}))}();var ct,ft,dt=/^(top|right|bottom|left)$/;e.getComputedStyle?(ct=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ft=function(e,t,n){var r,i,o,a,s=e.style;return n=n||ct(e),""!==(a=n?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==a||fe.contains(e.ownerDocument,e)||(a=fe.style(e,t)),n&&!ce.pixelMarginRight()&&st.test(a)&&at.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0===a?a:a+""}):lt.currentStyle&&(ct=function(e){return e.currentStyle},ft=function(e,t,n){var r,i,o,a,s=e.style;return n=n||ct(e),null==(a=n?n[t]:void 0)&&s&&s[t]&&(a=s[t]),st.test(a)&&!dt.test(t)&&(r=s.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"});var pt=/alpha\([^)]*\)/i,ht=/opacity\s*=\s*([^)]*)/i,gt=/^(none|table(?!-c[ea]).+)/,mt=new RegExp("^("+He+")(.*)$","i"),vt={position:"absolute",visibility:"hidden",display:"block"},yt={letterSpacing:"0",fontWeight:"400"},xt=["Webkit","O","Moz","ms"],bt=ne.createElement("div").style;fe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ft(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ce.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=fe.camelCase(t),u=e.style;if(t=fe.cssProps[s]||(fe.cssProps[s]=H(s)||s),a=fe.cssHooks[t]||fe.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if("string"==(o=typeof n)&&(i=qe.exec(n))&&i[1]&&(n=d(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(fe.cssNumber[s]?"":"px")),ce.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,a,s=fe.camelCase(t);return t=fe.cssProps[s]||(fe.cssProps[s]=H(s)||s),(a=fe.cssHooks[t]||fe.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=ft(e,t,r)),"normal"===o&&t in yt&&(o=yt[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),fe.each(["height","width"],function(e,t){fe.cssHooks[t]={get:function(e,n,r){if(n)return gt.test(fe.css(e,"display"))&&0===e.offsetWidth?ut(e,vt,function(){return M(e,t,r)}):M(e,t,r)},set:function(e,n,r){var i=r&&ct(e);return _(0,n,r?F(e,t,r,ce.boxSizing&&"border-box"===fe.css(e,"boxSizing",!1,i),i):0)}}}),ce.opacity||(fe.cssHooks.opacity={get:function(e,t){return ht.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=fe.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===fe.trim(o.replace(pt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=pt.test(o)?o.replace(pt,i):o+" "+i)}}),fe.cssHooks.marginRight=L(ce.reliableMarginRight,function(e,t){if(t)return ut(e,{display:"inline-block"},ft,[e,"marginRight"])}),fe.cssHooks.marginLeft=L(ce.reliableMarginLeft,function(e,t){if(t)return(parseFloat(ft(e,"marginLeft"))||(fe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ut(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px"}),fe.each({margin:"",padding:"",border:"Width"},function(e,t){fe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+_e[r]+t]=o[r]||o[r-2]||o[0];return i}},at.test(e)||(fe.cssHooks[e+t].set=_)}),fe.fn.extend({css:function(e,t){return Me(this,function(e,t,n){var r,i,o={},a=0;if(fe.isArray(t)){for(r=ct(e),i=t.length;a<i;a++)o[t[a]]=fe.css(e,t[a],!1,r);return o}return void 0!==n?fe.style(e,t,n):fe.css(e,t)},e,t,arguments.length>1)},show:function(){return q(this,!0)},hide:function(){return q(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Fe(this)?fe(this).show():fe(this).hide()})}}),fe.Tween=O,O.prototype={constructor:O,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||fe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(fe.cssNumber[n]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,n=O.propHooks[this.prop];return this.options.duration?this.pos=t=fe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=fe.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){fe.fx.step[e.prop]?fe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[fe.cssProps[e.prop]]&&!fe.cssHooks[e.prop]?e.elem[e.prop]=e.now:fe.style(e.elem,e.prop,e.now+e.unit)}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},fe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},fe.fx=O.prototype.init,fe.fx.step={};var wt,Tt,Ct=/^(?:toggle|show|hide)$/,Et=/queueHooks$/;fe.Animation=fe.extend(I,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return d(n.elem,e,qe.exec(t),n),n}]},tweener:function(e,t){fe.isFunction(e)?(t=e,e=["*"]):e=e.match(ke);for(var n,r=0,i=e.length;r<i;r++)n=e[r],I.tweeners[n]=I.tweeners[n]||[],I.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c=this,f={},d=e.style,p=e.nodeType&&Fe(e),h=fe._data(e,"fxshow");n.queue||(null==(s=fe._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,fe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(l=fe.css(e,"display"))?fe._data(e,"olddisplay")||j(e.nodeName):l)&&"none"===fe.css(e,"float")&&(ce.inlineBlockNeedsLayout&&"inline"!==j(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ce.shrinkWrapBlocks()||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Ct.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!h||void 0===h[r])continue;p=!0}f[r]=h&&h[r]||fe.style(e,r)}else l=void 0;if(fe.isEmptyObject(f))"inline"===("none"===l?j(e.nodeName):l)&&(d.display=l);else{h?"hidden"in h&&(p=h.hidden):h=fe._data(e,"fxshow",{}),o&&(h.hidden=!p),p?fe(e).show():c.done(function(){fe(e).hide()}),c.done(function(){var t;fe._removeData(e,"fxshow");for(t in f)fe.style(e,t,f[t])});for(r in f)a=B(p?h[r]:0,r,c),r in h||(h[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}],prefilter:function(e,t){t?I.prefilters.unshift(e):I.prefilters.push(e)}}),fe.speed=function(e,t,n){var r=e&&"object"==typeof e?fe.extend({},e):{complete:n||!n&&t||fe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!fe.isFunction(t)&&t};return r.duration=fe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in fe.fx.speeds?fe.fx.speeds[r.duration]:fe.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){fe.isFunction(r.old)&&r.old.call(this),r.queue&&fe.dequeue(this,r.queue)},r},fe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Fe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=fe.isEmptyObject(e),o=fe.speed(t,n,r),a=function(){var t=I(this,fe.extend({},e),o);(i||fe._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=fe.timers,a=fe._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Et.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||fe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=fe._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=fe.timers,a=r?r.length:0;for(n.finish=!0,fe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),fe.each(["toggle","show","hide"],function(e,t){var n=fe.fn[t];fe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(P(t,!0),e,r,i)}}),fe.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){fe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),fe.timers=[],fe.fx.tick=function(){var e,t=fe.timers,n=0;for(wt=fe.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||fe.fx.stop(),wt=void 0},fe.fx.timer=function(e){fe.timers.push(e),e()?fe.fx.start():fe.timers.pop()},fe.fx.interval=13,fe.fx.start=function(){Tt||(Tt=e.setInterval(fe.fx.tick,fe.fx.interval))},fe.fx.stop=function(){e.clearInterval(Tt),Tt=null},fe.fx.speeds={slow:600,fast:200,_default:400},fe.fn.delay=function(t,n){return t=fe.fx?fe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e,t=ne.createElement("input"),n=ne.createElement("div"),r=ne.createElement("select"),i=r.appendChild(ne.createElement("option"));(n=ne.createElement("div")).setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),(e=n.getElementsByTagName("a")[0]).style.cssText="top:1px",ce.getSetAttribute="t"!==n.className,ce.style=/top/.test(e.getAttribute("style")),ce.hrefNormalized="/a"===e.getAttribute("href"),ce.checkOn=!!t.value,ce.optSelected=i.selected,ce.enctype=!!ne.createElement("form").enctype,r.disabled=!0,ce.optDisabled=!i.disabled,(t=ne.createElement("input")).setAttribute("value",""),ce.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ce.radioValue="t"===t.value}();var Nt=/\r/g,kt=/[\x20\t\r\n\f]+/g;fe.fn.extend({val:function(e){var t,n,r,i=this[0];if(arguments.length)return r=fe.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,fe(this).val()):e)?i="":"number"==typeof i?i+="":fe.isArray(i)&&(i=fe.map(i,function(e){return null==e?"":e+""})),(t=fe.valHooks[this.type]||fe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=fe.valHooks[i.type]||fe.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Nt,""):null==n?"":n}}),fe.extend({valHooks:{option:{get:function(e){var t=fe.find.attr(e,"value");return null!=t?t:fe.trim(fe.text(e)).replace(kt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(ce.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!fe.nodeName(n.parentNode,"optgroup"))){if(t=fe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=fe.makeArray(t),a=i.length;a--;)if(r=i[a],fe.inArray(fe.valHooks.option.get(r),o)>-1)try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),fe.each(["radio","checkbox"],function(){fe.valHooks[this]={set:function(e,t){if(fe.isArray(t))return e.checked=fe.inArray(fe(e).val(),t)>-1}},ce.checkOn||(fe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var St,At,Dt=fe.expr.attrHandle,jt=/^(?:checked|selected)$/i,Lt=ce.getSetAttribute,Ht=ce.input;fe.fn.extend({attr:function(e,t){return Me(this,fe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){fe.removeAttr(this,e)})}}),fe.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?fe.prop(e,t,n):(1===o&&fe.isXMLDoc(e)||(t=t.toLowerCase(),i=fe.attrHooks[t]||(fe.expr.match.bool.test(t)?At:St)),void 0!==n?null===n?void fe.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=fe.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!ce.radioValue&&"radio"===t&&fe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(ke);if(o&&1===e.nodeType)for(;n=o[i++];)r=fe.propFix[n]||n,fe.expr.match.bool.test(n)?Ht&&Lt||!jt.test(n)?e[r]=!1:e[fe.camelCase("default-"+n)]=e[r]=!1:fe.attr(e,n,""),e.removeAttribute(Lt?n:r)}}),At={set:function(e,t,n){return!1===t?fe.removeAttr(e,n):Ht&&Lt||!jt.test(n)?e.setAttribute(!Lt&&fe.propFix[n]||n,n):e[fe.camelCase("default-"+n)]=e[n]=!0,n}},fe.each(fe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Dt[t]||fe.find.attr;Ht&&Lt||!jt.test(t)?Dt[t]=function(e,t,r){var i,o;return r||(o=Dt[t],Dt[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Dt[t]=o),i}:Dt[t]=function(e,t,n){if(!n)return e[fe.camelCase("default-"+t)]?t.toLowerCase():null}}),Ht&&Lt||(fe.attrHooks.value={set:function(e,t,n){if(!fe.nodeName(e,"input"))return St&&St.set(e,t,n);e.defaultValue=t}}),Lt||(St={set:function(e,t,n){var r=e.getAttributeNode(n);if(r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n))return t}},Dt.id=Dt.name=Dt.coords=function(e,t,n){var r;if(!n)return(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},fe.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);if(n&&n.specified)return n.value},set:St.set},fe.attrHooks.contenteditable={set:function(e,t,n){St.set(e,""!==t&&t,n)}},fe.each(["width","height"],function(e,t){fe.attrHooks[t]={set:function(e,n){if(""===n)return e.setAttribute(t,"auto"),n}}})),ce.style||(fe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var qt=/^(?:input|select|textarea|button|object)$/i,_t=/^(?:a|area)$/i;fe.fn.extend({prop:function(e,t){return Me(this,fe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=fe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),fe.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&fe.isXMLDoc(e)||(t=fe.propFix[t]||t,i=fe.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=fe.find.attr(e,"tabindex");return t?parseInt(t,10):qt.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ce.hrefNormalized||fe.each(["href","src"],function(e,t){fe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ce.optSelected||(fe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),fe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fe.propFix[this.toLowerCase()]=this}),ce.enctype||(fe.propFix.enctype="encoding");var Ft=/[\t\r\n\f]/g;fe.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(fe.isFunction(e))return this.each(function(t){fe(this).addClass(e.call(this,t,$(this)))});if("string"==typeof e&&e)for(t=e.match(ke)||[];n=this[u++];)if(i=$(n),r=1===n.nodeType&&(" "+i+" ").replace(Ft," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=fe.trim(r))&&fe.attr(n,"class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(fe.isFunction(e))return this.each(function(t){fe(this).removeClass(e.call(this,t,$(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(ke)||[];n=this[u++];)if(i=$(n),r=1===n.nodeType&&(" "+i+" ").replace(Ft," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=fe.trim(r))&&fe.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):fe.isFunction(e)?this.each(function(n){fe(this).toggleClass(e.call(this,n,$(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=fe(this),o=e.match(ke)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=$(this))&&fe._data(this,"__className__",t),fe.attr(this,"class",t||!1===e?"":fe._data(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+$(n)+" ").replace(Ft," ").indexOf(t)>-1)return!0;return!1}}),fe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){fe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),fe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Mt=e.location,Ot=fe.now(),Rt=/\?/,Pt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;fe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=fe.trim(t+"");return i&&!fe.trim(i.replace(Pt,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():fe.error("Invalid JSON: "+t)},fe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?n=(new e.DOMParser).parseFromString(t,"text/xml"):((n=new e.ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(t))}catch(e){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||fe.error("Invalid XML: "+t),n};var Bt=/#.*$/,Wt=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,zt=/^(?:GET|HEAD)$/,Xt=/^\/\//,Ut=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Vt={},Yt={},Jt="*/".concat("*"),Gt=Mt.href,Qt=Ut.exec(Gt.toLowerCase())||[];fe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Gt,type:"GET",isLocal:$t.test(Qt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fe.parseJSON,"text xml":fe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?U(U(e,fe.ajaxSettings),t):U(fe.ajaxSettings,e)},ajaxPrefilter:z(Vt),ajaxTransport:z(Yt),ajax:function(t,n){function r(t,n,r,i){var o,f,y,x,w,C=n;2!==b&&(b=2,u&&e.clearTimeout(u),c=void 0,s=i||"",T.readyState=t>0?4:0,o=t>=200&&t<300||304===t,r&&(x=V(d,T,r)),x=Y(d,x,T,o),o?(d.ifModified&&((w=T.getResponseHeader("Last-Modified"))&&(fe.lastModified[a]=w),(w=T.getResponseHeader("etag"))&&(fe.etag[a]=w)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=x.state,f=x.data,o=!(y=x.error))):(y=C,!t&&C||(C="error",t<0&&(t=0))),T.status=t,T.statusText=(n||C)+"",o?g.resolveWith(p,[f,C,T]):g.rejectWith(p,[T,C,y]),T.statusCode(v),v=void 0,l&&h.trigger(o?"ajaxSuccess":"ajaxError",[T,d,o?f:y]),m.fireWith(p,[T,C]),l&&(h.trigger("ajaxComplete",[T,d]),--fe.active||fe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,d=fe.ajaxSetup({},n),p=d.context||d,h=d.context&&(p.nodeType||p.jquery)?fe(p):fe.event,g=fe.Deferred(),m=fe.Callbacks("once memory"),v=d.statusCode||{},y={},x={},b=0,w="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!f)for(f={};t=It.exec(s);)f[t[1].toLowerCase()]=t[2];t=f[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=x[n]=x[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)v[t]=[v[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),r(0,t),this}};if(g.promise(T).complete=m.add,T.success=T.done,T.error=T.fail,d.url=((t||d.url||Gt)+"").replace(Bt,"").replace(Xt,Qt[1]+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=fe.trim(d.dataType||"*").toLowerCase().match(ke)||[""],null==d.crossDomain&&(i=Ut.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===Qt[1]&&i[2]===Qt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Qt[3]||("http:"===Qt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=fe.param(d.data,d.traditional)),X(Vt,d,n,T),2===b)return T;(l=fe.event&&d.global)&&0==fe.active++&&fe.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!zt.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(Rt.test(a)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=Wt.test(a)?a.replace(Wt,"$1_="+Ot++):a+(Rt.test(a)?"&":"?")+"_="+Ot++)),d.ifModified&&(fe.lastModified[a]&&T.setRequestHeader("If-Modified-Since",fe.lastModified[a]),fe.etag[a]&&T.setRequestHeader("If-None-Match",fe.etag[a])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&T.setRequestHeader("Content-Type",d.contentType),T.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Jt+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)T.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(!1===d.beforeSend.call(p,T,d)||2===b))return T.abort();w="abort";for(o in{success:1,error:1,complete:1})T[o](d[o]);if(c=X(Yt,d,n,T)){if(T.readyState=1,l&&h.trigger("ajaxSend",[T,d]),2===b)return T;d.async&&d.timeout>0&&(u=e.setTimeout(function(){T.abort("timeout")},d.timeout));try{b=1,c.send(y,r)}catch(e){if(!(b<2))throw e;r(-1,e)}}else r(-1,"No Transport");return T},getJSON:function(e,t,n){return fe.get(e,t,n,"json")},getScript:function(e,t){return fe.get(e,void 0,t,"script")}}),fe.each(["get","post"],function(e,t){fe[t]=function(e,n,r,i){return fe.isFunction(n)&&(i=i||r,r=n,n=void 0),fe.ajax(fe.extend({url:e,type:t,dataType:i,data:n,success:r},fe.isPlainObject(e)&&e))}}),fe._evalUrl=function(e){return fe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},fe.fn.extend({wrapAll:function(e){if(fe.isFunction(e))return this.each(function(t){fe(this).wrapAll(e.call(this,t))});if(this[0]){var t=fe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return fe.isFunction(e)?this.each(function(t){fe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=fe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=fe.isFunction(e);return this.each(function(n){fe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){fe.nodeName(this,"body")||fe(this).replaceWith(this.childNodes)}).end()}}),fe.expr.filters.hidden=function(e){return ce.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:G(e)},fe.expr.filters.visible=function(e){return!fe.expr.filters.hidden(e)};var Kt=/%20/g,Zt=/\[\]$/,en=/\r?\n/g,tn=/^(?:submit|button|image|reset|file)$/i,nn=/^(?:input|select|textarea|keygen)/i;fe.param=function(e,t){var n,r=[],i=function(e,t){t=fe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=fe.ajaxSettings&&fe.ajaxSettings.traditional),fe.isArray(e)||e.jquery&&!fe.isPlainObject(e))fe.each(e,function(){i(this.name,this.value)});else for(n in e)Q(n,e[n],t,i);return r.join("&").replace(Kt,"+")},fe.fn.extend({serialize:function(){return fe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=fe.prop(this,"elements");return e?fe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!fe(this).is(":disabled")&&nn.test(this.nodeName)&&!tn.test(e)&&(this.checked||!Oe.test(e))}).map(function(e,t){var n=fe(this).val();return null==n?null:fe.isArray(n)?fe.map(n,function(e){return{name:t.name,value:e.replace(en,"\r\n")}}):{name:t.name,value:n.replace(en,"\r\n")}}).get()}}),fe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?Z():ne.documentMode>8?K():/^(get|post|head|put|delete|options)$/i.test(this.type)&&K()||Z()}:K;var rn=0,on={},an=fe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in on)on[e](void 0,!0)}),ce.cors=!!an&&"withCredentials"in an,(an=ce.ajax=!!an)&&fe.ajaxTransport(function(t){if(!t.crossDomain||ce.cors){var n;return{send:function(r,i){var o,a=t.xhr(),s=++rn;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)void 0!==r[o]&&a.setRequestHeader(o,r[o]+"");a.send(t.hasContent&&t.data||null),n=function(e,r){var o,u,l;if(n&&(r||4===a.readyState))if(delete on[s],n=void 0,a.onreadystatechange=fe.noop,r)4!==a.readyState&&a.abort();else{l={},o=a.status,"string"==typeof a.responseText&&(l.text=a.responseText);try{u=a.statusText}catch(e){u=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=l.text?200:404}l&&i(o,u,l,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(n):a.onreadystatechange=on[s]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),fe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),fe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return fe.globalEval(e),e}}}),fe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),fe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ne.head||fe("head")[0]||ne.documentElement;return{send:function(r,i){(t=ne.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var sn=[],un=/(=)\?(?=&|$)|\?\?/;fe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=sn.pop()||fe.expando+"_"+Ot++;return this[e]=!0,e}}),fe.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(un.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&un.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=fe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(un,"$1"+i):!1!==t.jsonp&&(t.url+=(Rt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||fe.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?fe(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,sn.push(i)),a&&fe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),fe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ne;var r=be.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=v([e],t,i),i&&i.length&&fe(i).remove(),fe.merge([],r.childNodes))};var ln=fe.fn.load;fe.fn.load=function(e,t,n){if("string"!=typeof e&&ln)return ln.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=fe.trim(e.slice(s,e.length)),e=e.slice(0,s)),fe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&fe.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?fe("<div>").append(fe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(a,o||[e.responseText,t,e])})}),this},fe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){fe.fn[t]=function(e){return this.on(t,e)}}),fe.expr.filters.animated=function(e){return fe.grep(fe.timers,function(t){return e===t.elem}).length},fe.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=fe.css(e,"position"),c=fe(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=fe.css(e,"top"),u=fe.css(e,"left"),("absolute"===l||"fixed"===l)&&fe.inArray("auto",[o,u])>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),fe.isFunction(t)&&(t=t.call(e,n,fe.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},fe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){fe.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,fe.contains(t,i)?(void 0!==i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=ee(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===fe.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),fe.nodeName(e[0],"html")||(n=e.offset()),n.top+=fe.css(e[0],"borderTopWidth",!0),n.left+=fe.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-fe.css(r,"marginTop",!0),left:t.left-n.left-fe.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!fe.nodeName(e,"html")&&"static"===fe.css(e,"position");)e=e.offsetParent;return e||lt})}}),fe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);fe.fn[e]=function(r){return Me(this,function(e,r,i){var o=ee(e);if(void 0===i)return o?t in o?o[t]:o.document.documentElement[r]:e[r];o?o.scrollTo(n?fe(o).scrollLeft():i,n?i:fe(o).scrollTop()):e[r]=i},e,r,arguments.length,null)}}),fe.each(["top","left"],function(e,t){fe.cssHooks[t]=L(ce.pixelPosition,function(e,n){if(n)return n=ft(e,t),st.test(n)?fe(e).position()[t]+"px":n})}),fe.each({Height:"height",Width:"width"},function(e,t){fe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){fe.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return Me(this,function(t,n,r){var i;return fe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?fe.css(t,n,a):fe.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),fe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),fe.fn.size=function(){return this.length},fe.fn.andSelf=fe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fe});var cn=e.jQuery,fn=e.$;return fe.noConflict=function(t){return e.$===fe&&(e.$=fn),t&&e.jQuery===fe&&(e.jQuery=cn),fe},t||(e.jQuery=e.$=fe),fe});
/*node_modules/jquery-deparam/jquery-deparam*/
!function(deparam){if("function"==typeof require&&"object"==typeof exports&&"object"==typeof module){try{var jquery=require("jquery")}catch(e){}module.exports=deparam(jquery)}else if("function"==typeof define&&define.amd)define("node_modules/jquery-deparam/jquery-deparam",["jquery"],function(e){return deparam(e)});else{var global;try{global=eval("this")}catch(e){global=window}global.deparam=deparam(global.jQuery)}}(function(e){var t=function(e,t){var r={},o={true:!0,false:!1,null:null};return e?(e.replace(/\+/g," ").split("&").forEach(function(e){var a,l=e.split("="),n=decodeURIComponent(l[0]),i=r,p=0,d=n.split("]["),u=d.length-1;if(/\[/.test(d[0])&&/\]$/.test(d[u])?(d[u]=d[u].replace(/\]$/,""),u=(d=d.shift().split("[").concat(d)).length-1):u=0,2===l.length)if(a=decodeURIComponent(l[1]),t&&(a=a&&!isNaN(a)&&+a+""===a?+a:"undefined"===a?void 0:void 0!==o[a]?o[a]:a),u)for(;p<=u;p++)i=i[n=""===d[p]?i.length:d[p]]=p<u?i[n]||(d[p+1]&&isNaN(d[p+1])?{}:[]):a;else"[object Array]"===Object.prototype.toString.call(r[n])?r[n].push(a):!{}.hasOwnProperty.call(r,n)?r[n]=a:r[n]=[r[n],a];else n&&(r[n]=t?void 0:"")}),r):r};return e&&(e.prototype.deparam=e.deparam=t),t});
/*can/util/fragment*/
define("can/util/fragment",["can/util/can"],function(e){var t=/^\s*<(\w+)[^>]*>/,i={}.toString,l=function(l,n,r){void 0===n&&(n=t.test(l)&&RegExp.$1),l&&"[object Function]"===i.call(l.replace)&&(l=l.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>"));var d=r.createElement("div"),o=r.createElement("div");"tbody"===n||"tfoot"===n||"thead"===n||"colgroup"===n?(o.innerHTML="<table>"+l+"</table>",d=3===o.firstChild.nodeType?o.lastChild:o.firstChild):"col"===n?(o.innerHTML="<table><colgroup>"+l+"</colgroup></table>",d=3===o.firstChild.nodeType?o.lastChild:o.firstChild.firstChild):"tr"===n?(o.innerHTML="<table><tbody>"+l+"</tbody></table>",d=3===o.firstChild.nodeType?o.lastChild:o.firstChild.firstChild):"td"===n||"th"===n?(o.innerHTML="<table><tbody><tr>"+l+"</tr></tbody></table>",d=3===o.firstChild.nodeType?o.lastChild:o.firstChild.firstChild.firstChild):"option"===n?(o.innerHTML="<select>"+l+"</select>",d=3===o.firstChild.nodeType?o.lastChild:o.firstChild):d.innerHTML=""+l;var a={},h=e.childNodes(d);a.length=h.length;for(var c=0;c<h.length;c++)a[c]=h[c];return[].slice.call(a)};return e.buildFragment=function(e,t){if(e&&11===e.nodeType)return e;t?t.length&&(t=t[0]):t=document;for(var i=l(e,void 0,t),n=(t||document).createDocumentFragment(),r=0,d=i.length;r<d;r++)n.appendChild(i[r]);return n},function(){if("<-\n>"!==e.buildFragment("<-\n>",document).firstChild.nodeValue){var t=e.buildFragment;e.buildFragment=function(e,i){var l=t(e,i);return 1===l.childNodes.length&&3===l.childNodes[0].nodeType&&(l.childNodes[0].nodeValue=e),l}}}(),e});
/*jquery/jqueryui/jqueryui*/
define("jquery/jqueryui/jqueryui",["module","@loader","require"],function(t,e,i){e.get("@@global-helpers").prepareGlobal({require:i,name:t.id,deps:[]});var s=e.global.define,i=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'!function(t,e){function i(e,i){var n,o,a,r=e.nodeName.toLowerCase();return"area"===r?(n=e.parentNode,o=n.name,!(!e.href||!o||"map"!==n.nodeName.toLowerCase())&&(!!(a=t("img[usemap=#"+o+"]")[0])&&s(a))):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||i:i)&&s(e)}function s(e){return t.expr.filters.visible(e)&&!t(e).parents().andSelf().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var n=0,o=/^ui-id-\\d+$/;t.ui=t.ui||{},t.ui.version||(t.extend(t.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({_focus:t.fn.focus,focus:function(e,i){return"number"==typeof e?this.each(function(){var s=this;setTimeout(function(){t(s).focus(),i&&i.call(s)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,s,n=t(this[0]);n.length&&n[0]!==document;){if(("absolute"===(i=n.css("position"))||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var s=t.attr(e,"tabindex"),n=isNaN(s);return(n||s>=0)&&i(e,!n)}}),t(function(){var e=document.body,i=e.appendChild(i=document.createElement("div"));i.offsetHeight,t.extend(i.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),t.support.minHeight=100===i.offsetHeight,t.support.selectstart="onselectstart"in i,e.removeChild(i).style.display="none"}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function s(e,i,s,o){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(o,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(o,s(this,e,!0,n)+"px")})}}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),function(){var e=/msie ([\\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];t.ui.ie=!!e.length,t.ui.ie6=6===parseFloat(e[1],10)}(),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i){var s,n=t.plugins[e];if(n&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(s=0;s<n.length;s++)t.options[n[s][0]]&&n[s][1].apply(t.element,i)}},contains:t.contains,hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0||(e[s]=1,n=e[s]>0,e[s]=0,n)},isOverAxis:function(t,e,i){return t>e&&t<e+i},isOver:function(e,i,s,n,o,a){return t.ui.isOverAxis(e,s,o)&&t.ui.isOverAxis(i,n,a)}}))}(jQuery),function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(t){}n(e)},t.widget=function(e,i,s){var n,o,a,r,h=e.split(".")[0];e=e.split(".")[1],n=h+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[h]=t[h]||{},o=t[h][e],a=t[h][e]=function(t,e){if(!this._createWidget)return new a(t,e);arguments.length&&this._createWidget(t,e)},t.extend(a,o,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),(r=new i).options=t.widget.extend({},r.options),t.each(s,function(e,n){t.isFunction(n)&&(s[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=s,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}())}),a.prototype=t.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix:e},s,{constructor:a,namespace:h,widgetName:e,widgetBaseClass:n,widgetFullName:n}),o?(t.each(o._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a)},t.widget.extend=function(e){for(var i,n,o=s.call(arguments,1),a=0,r=o.length;a<r;a++)for(i in o[a])n=o[a][i],o[a].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=s.call(arguments,1),h=this;return o=!a&&r.length?t.widget.extend.apply(null,[o].concat(r)):o,a?this.each(function(){var i,s=t.data(this,n);return s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r))!==s&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0:t.error("no such method \'"+o+"\' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method \'"+o+"\'")}):this.each(function(){var e=t.data(this,n);e?e.option(o||{})._init():t.data(this,n,new i(o,this))}),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetName,this),t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),void 0===i)return void 0===n[e]?null:n[e];n[e]=i}else{if(void 0===i)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^(\\w+)\\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.delegate(c,l,r):i.bind(l,r)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?!0===n||"number"==typeof n?i:n.effect||i:e;"number"==typeof(n=n||{})&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&(t.effects.effect[r]||!1!==t.uiBackCompat&&t.effects[r])?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),!1!==t.uiBackCompat&&(t.Widget.prototype._getCreateOptions=function(){return t.metadata&&t.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(t,e){var i=!1;t(document).mouseup(function(t){i=!1}),t.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!i){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var s=this,n=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!o&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),i=!0,!0))}},_mouseMove:function(e){return!t.ui.ie||document.documentMode>=9||e.button?this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted):this._mouseUp(e)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(t){return this.mouseDelayMet},_mouseStart:function(t){},_mouseDrag:function(t){},_mouseStop:function(t){},_mouseCapture:function(t){return!0}})}(jQuery),function(t,e){function i(t,e,i){return[parseInt(t[0],10)*(d.test(t[0])?e/100:1),parseInt(t[1],10)*(d.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}t.ui=t.ui||{};var n,o=Math.max,a=Math.abs,r=Math.round,h=/left|center|right/,l=/top|center|bottom/,c=/[\\+\\-]\\d+%?/,u=/^\\w+/,d=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var e,i,s=t("<div style=\'display:block;width:50px;height:50px;overflow:hidden;\'><div style=\'height:100px;width:auto;\'></div></div>"),o=s.children()[0];return t("body").append(s),e=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),n=e-i},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),s=e.isWindow?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:n?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]);return{element:i,isWindow:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return p.apply(this,arguments);e=t.extend({},e);var n,d,f,g,m,v=t(e.of),_=t.position.getWithinInfo(e.within),b=t.position.getScrollInfo(_),y=v[0],w=(e.collision||"flip").split(" "),k={};return 9===y.nodeType?(d=v.width(),f=v.height(),g={top:0,left:0}):t.isWindow(y)?(d=v.width(),f=v.height(),g={top:v.scrollTop(),left:v.scrollLeft()}):y.preventDefault?(e.at="left top",d=f=0,g={top:y.pageY,left:y.pageX}):(d=v.outerWidth(),f=v.outerHeight(),g=v.offset()),m=t.extend({},g),t.each(["my","at"],function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=h.test(s[0])?s.concat(["center"]):l.test(s[0])?["center"].concat(s):["center","center"]),s[0]=h.test(s[0])?s[0]:"center",s[1]=l.test(s[1])?s[1]:"center",t=c.exec(s[0]),i=c.exec(s[1]),k[this]=[t?t[0]:0,i?i[0]:0],e[this]=[u.exec(s[0])[0],u.exec(s[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?m.left+=d:"center"===e.at[0]&&(m.left+=d/2),"bottom"===e.at[1]?m.top+=f:"center"===e.at[1]&&(m.top+=f/2),n=i(k.at,d,f),m.left+=n[0],m.top+=n[1],this.each(function(){var h,l,c=t(this),u=c.outerWidth(),p=c.outerHeight(),y=s(this,"marginLeft"),x=s(this,"marginTop"),D=u+y+s(this,"marginRight")+b.width,C=p+x+s(this,"marginBottom")+b.height,M=t.extend({},m),P=i(k.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?M.left-=u:"center"===e.my[0]&&(M.left-=u/2),"bottom"===e.my[1]?M.top-=p:"center"===e.my[1]&&(M.top-=p/2),M.left+=P[0],M.top+=P[1],t.support.offsetFractions||(M.left=r(M.left),M.top=r(M.top)),h={marginLeft:y,marginTop:x},t.each(["left","top"],function(i,s){t.ui.position[w[i]]&&t.ui.position[w[i]][s](M,{targetWidth:d,targetHeight:f,elemWidth:u,elemHeight:p,collisionPosition:h,collisionWidth:D,collisionHeight:C,offset:[n[0]+P[0],n[1]+P[1]],my:e.my,at:e.at,within:_,elem:c})}),t.fn.bgiframe&&c.bgiframe(),e.using&&(l=function(t){var i=g.left-M.left,s=i+d-u,n=g.top-M.top,r=n+f-p,h={target:{element:v,left:g.left,top:g.top,width:d,height:f},element:{element:c,left:M.left,top:M.top,width:u,height:p},horizontal:s<0?"left":i>0?"right":"center",vertical:r<0?"top":n>0?"bottom":"middle"};d<u&&a(i+s)<d&&(h.horizontal="center"),f<p&&a(n+r)<f&&(h.vertical="middle"),o(a(i),a(s))>o(a(n),a(r))?h.important="horizontal":h.important="vertical",e.using.call(this,t,h)}),c.offset(t.extend(M,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-a-n;e.collisionWidth>a?h>0&&l<=0?(i=t.left+h+e.collisionWidth-a-n,t.left+=h-i):t.left=l>0&&h<=0?n:h>l?n+a-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-a-n;e.collisionHeight>a?h>0&&l<=0?(i=t.top+h+e.collisionHeight-a-n,t.top+=h-i):t.top=l>0&&h<=0?n:h>l?n+a-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,r=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-r-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?((i=t.left+d+p+f+e.collisionWidth-r-o)<0||i<a(c))&&(t.left+=d+p+f):u>0&&((s=t.left-e.collisionPosition.marginLeft+d+p+f-h)>0||a(s)<u)&&(t.left+=d+p+f)},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,r=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-r-h,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];c<0?(s=t.top+d+p+f+e.collisionHeight-r-o,t.top+d+p+f>c&&(s<0||s<a(c))&&(t.top+=d+p+f)):u>0&&(i=t.top-e.collisionPosition.marginTop+d+p+f-h,t.top+d+p+f>u&&(i>0||a(i)<u)&&(t.top+=d+p+f))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,o,a=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(a?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)e.style[o]=s[o];e.appendChild(r),(i=a||document.documentElement).insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=t(r).offset().left,t.support.offsetFractions=n>10&&n<11,e.innerHTML="",i.removeChild(e)}(),!1!==t.uiBackCompat&&function(t){var e=t.fn.position;t.fn.position=function(i){if(!i||!i.offset)return e.call(this,i);var s=i.offset.split(" "),n=i.at.split(" ");return 1===s.length&&(s[1]=s[0]),/^\\d/.test(s[0])&&(s[0]="+"+s[0]),/^\\d/.test(s[1])&&(s[1]="+"+s[1]),1===n.length&&(/left|center|right/.test(n[0])?n[1]="center":(n[1]=n[0],n[0]="center")),e.call(this,t.extend(i,{at:n[0]+s[0]+" "+n[1]+s[1],offset:void 0}))}}(jQuery)}(jQuery),function(t,e){t.widget("ui.draggable",t.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(e),!!this.handle&&(t(!0===i.iframeFix?"iframe":i.iframeFix).each(function(){t(\'<div class="ui-draggable-iframeFix" style="background: #fff;"></div>\').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(!1===this._trigger("drag",e,s))return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=!1;t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1);for(var s=this.element[0],n=!1;s&&(s=s.parentNode);)s==document&&(n=!0);if(!n&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!i||"valid"==this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)){var o=this;t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==o._trigger("stop",e)&&o._clear()})}else!1!==this._trigger("stop",e)&&this._clear();return!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){var i=!this.options.handle||!t(this.options.handle,this.element).length;return t(this.options.handle,this.element).find("*").andSelf().each(function(){this==e.target&&(i=!0)}),i},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"==i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"==i.appendTo?this.element[0].parentNode:i.appendTo),s[0]==this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),"document"!=e.containment&&"window"!=e.containment||(this.containment=["document"==e.containment?0:t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==e.containment?0:t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==e.containment?0:t(window).scrollLeft())+t("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==e.containment?0:t(window).scrollTop())+(t("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||e.containment.constructor==Array)e.containment.constructor==Array&&(this.containment=e.containment);else{var i=t(e.containment),s=i[0];if(!s)return;i.offset();var n="hidden"!=t(s).css("overflow");this.containment=[(parseInt(t(s).css("borderLeftWidth"),10)||0)+(parseInt(t(s).css("paddingLeft"),10)||0),(parseInt(t(s).css("borderTopWidth"),10)||0)+(parseInt(t(s).css("paddingTop"),10)||0),(n?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(t(s).css("borderLeftWidth"),10)||0)-(parseInt(t(s).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(n?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(t(s).css("borderTopWidth"),10)||0)-(parseInt(t(s).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"==e?1:-1,n=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i=this.options,s="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(s[0].tagName),o=e.pageX,a=e.pageY;if(this.originalPosition){var r;if(this.containment){if(this.relative_container){var h=this.relative_container.offset();r=[this.containment[0]+h.left,this.containment[1]+h.top,this.containment[2]+h.left,this.containment[3]+h.top]}else r=this.containment;e.pageX-this.offset.click.left<r[0]&&(o=r[0]+this.offset.click.left),e.pageY-this.offset.click.top<r[1]&&(a=r[1]+this.offset.click.top),e.pageX-this.offset.click.left>r[2]&&(o=r[2]+this.offset.click.left),e.pageY-this.offset.click.top>r[3]&&(a=r[3]+this.offset.click.top)}if(i.grid){var l=i.grid[1]?this.originalPageY+Math.round((a-this.originalPageY)/i.grid[1])*i.grid[1]:this.originalPageY;a=r&&(l-this.offset.click.top<r[1]||l-this.offset.click.top>r[3])?l-this.offset.click.top<r[1]?l+i.grid[1]:l-i.grid[1]:l;var c=i.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0]:this.originalPageX;o=r&&(c-this.offset.click.left<r[0]||c-this.offset.click.left>r[2])?c-this.offset.click.left<r[0]?c+i.grid[0]:c-i.grid[0]:c}}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:s.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),"drag"==e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(t){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var s=t(this).data("draggable"),n=s.options,o=t.extend({},i,{item:s.element});s.sortables=[],t(n.connectToSortable).each(function(){var i=t.data(this,"sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i){var s=t(this).data("draggable"),n=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"==s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(e,i){var s=t(this).data("draggable"),n=this;t.each(s.sortables,function(o){var a=!1,r=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!=r&&this.instance._intersectsWith(this.instance.containerCache)&&t.ui.contains(r.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",e),s.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i){var s=t("body"),n=t(this).data("draggable").options;s.css("cursor")&&(n._cursor=s.css("cursor")),s.css("cursor",n.cursor)},stop:function(e,i){var s=t(this).data("draggable").options;s._cursor&&t("body").css("cursor",s._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var s=t(i.helper),n=t(this).data("draggable").options;s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity)},stop:function(e,i){var s=t(this).data("draggable").options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(e,i){var s=t(this).data("draggable");s.scrollParent[0]!=document&&"HTML"!=s.scrollParent[0].tagName&&(s.overflowOffset=s.scrollParent.offset())},drag:function(e,i){var s=t(this).data("draggable"),n=s.options,o=!1;s.scrollParent[0]!=document&&"HTML"!=s.scrollParent[0].tagName?(n.axis&&"x"==n.axis||(s.overflowOffset.top+s.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?s.scrollParent[0].scrollTop=o=s.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(s.scrollParent[0].scrollTop=o=s.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"==n.axis||(s.overflowOffset.left+s.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?s.scrollParent[0].scrollLeft=o=s.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(s.scrollParent[0].scrollLeft=o=s.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"==n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?o=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(o=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"==n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?o=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(o=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i){var s=t(this).data("draggable"),n=s.options;s.snapElements=[],t(n.snap.constructor!=String?n.snap.items||":data(draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!=s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i){for(var s=t(this).data("draggable"),n=s.options,o=n.snapTolerance,a=i.offset.left,r=a+s.helperProportions.width,h=i.offset.top,l=h+s.helperProportions.height,c=s.snapElements.length-1;c>=0;c--){var u=s.snapElements[c].left,d=u+s.snapElements[c].width,p=s.snapElements[c].top,f=p+s.snapElements[c].height;if(u-o<a&&a<d+o&&p-o<h&&h<f+o||u-o<a&&a<d+o&&p-o<l&&l<f+o||u-o<r&&r<d+o&&p-o<h&&h<f+o||u-o<r&&r<d+o&&p-o<l&&l<f+o){if("inner"!=n.snapMode){var g=Math.abs(p-l)<=o,m=Math.abs(f-h)<=o,v=Math.abs(u-r)<=o,_=Math.abs(d-a)<=o;g&&(i.position.top=s._convertPositionTo("relative",{top:p-s.helperProportions.height,left:0}).top-s.margins.top),m&&(i.position.top=s._convertPositionTo("relative",{top:f,left:0}).top-s.margins.top),v&&(i.position.left=s._convertPositionTo("relative",{top:0,left:u-s.helperProportions.width}).left-s.margins.left),_&&(i.position.left=s._convertPositionTo("relative",{top:0,left:d}).left-s.margins.left)}var b=g||m||v||_;if("outer"!=n.snapMode){var g=Math.abs(p-h)<=o,m=Math.abs(f-l)<=o,v=Math.abs(u-a)<=o,_=Math.abs(d-r)<=o;g&&(i.position.top=s._convertPositionTo("relative",{top:p,left:0}).top-s.margins.top),m&&(i.position.top=s._convertPositionTo("relative",{top:f-s.helperProportions.height,left:0}).top-s.margins.top),v&&(i.position.left=s._convertPositionTo("relative",{top:0,left:u}).left-s.margins.left),_&&(i.position.left=s._convertPositionTo("relative",{top:0,left:d-s.helperProportions.width}).left-s.margins.left)}!s.snapElements[c].snapping&&(g||m||v||_||b)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=g||m||v||_||b}else s.snapElements[c].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[c].item})),s.snapElements[c].snapping=!1}}}),t.ui.plugin.add("draggable","stack",{start:function(e,i){var s=t(this).data("draggable").options,n=t.makeArray(t(s.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});if(n.length){var o=parseInt(n[0].style.zIndex)||0;t(n).each(function(t){this.style.zIndex=o+t}),this[0].style.zIndex=o+n.length}}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var s=t(i.helper),n=t(this).data("draggable").options;s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex)},stop:function(e,i){var s=t(this).data("draggable").options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}})}(jQuery),function(t,e){t.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var e=this.options,i=e.accept;this.isover=0,this.isout=1,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=t.ui.ddmanager.droppables[this.options.scope],i=0;i<e.length;i++)e[i]==this&&e.splice(i,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"==e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!=this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current;if(!s||(s.currentItem||s.element)[0]==this.element[0])return!1;var n=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope==s.options.scope&&e.accept.call(e.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(e,{offset:e.element.offset()}),e.options.tolerance))return n=!0,!1}),!n&&(!!this.accept.call(this.element[0],s.currentItem||s.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(e,i,s){if(!i.offset)return!1;var n=(e.positionAbs||e.position.absolute).left,o=n+e.helperProportions.width,a=(e.positionAbs||e.position.absolute).top,r=a+e.helperProportions.height,h=i.offset.left,l=h+i.proportions.width,c=i.offset.top,u=c+i.proportions.height;switch(s){case"fit":return h<=n&&o<=l&&c<=a&&r<=u;case"intersect":return h<n+e.helperProportions.width/2&&o-e.helperProportions.width/2<l&&c<a+e.helperProportions.height/2&&r-e.helperProportions.height/2<u;case"pointer":var d=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,p=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top;return t.ui.isOver(p,d,c,h,i.proportions.height,i.proportions.width);case"touch":return(a>=c&&a<=u||r>=c&&r<=u||a<c&&r>u)&&(n>=h&&n<=l||o>=h&&o<=l||n<h&&o>l);default:return!1}},t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var s=t.ui.ddmanager.droppables[e.options.scope]||[],n=i?i.type:null,o=(e.currentItem||e.element).find(":data(droppable)").andSelf();t:for(var a=0;a<s.length;a++)if(!(s[a].options.disabled||e&&!s[a].accept.call(s[a].element[0],e.currentItem||e.element))){for(var r=0;r<o.length;r++)if(o[r]==s[a].element[0]){s[a].proportions.height=0;continue t}s[a].visible="none"!=s[a].element.css("display"),s[a].visible&&("mousedown"==n&&s[a]._activate.call(s[a],i),s[a].offset=s[a].element.offset(),s[a].proportions={width:s[a].element[0].offsetWidth,height:s[a].element[0].offsetHeight})}},drop:function(e,i){var s=!1;return t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s=t.ui.intersect(e,this,this.options.tolerance),n=s||1!=this.isover?s&&0==this.isover?"isover":null:"isout";if(n){var o;if(this.options.greedy){var a=this.options.scope,r=this.element.parents(":data(droppable)").filter(function(){return t.data(this,"droppable").options.scope===a});r.length&&((o=t.data(r[0],"droppable")).greedyChild="isover"==n?1:0)}o&&"isover"==n&&(o.isover=0,o.isout=1,o._out.call(o,i)),this[n]=1,this["isout"==n?"isover":"isout"]=0,this["isover"==n?"_over":"_out"].call(this,i),o&&"isout"==n&&(o.isout=0,o.isover=1,o._over.call(o,i))}}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t,e){t.widget("ui.resizable",t.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var e=this,i=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t(\'<div class="ui-wrapper" style="overflow: hidden;"></div>\').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=i.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var s=this.handles.split(",");this.handles={};for(var n=0;n<s.length;n++){var o=t.trim(s[n]),a=t(\'<div class="ui-resizable-handle \'+("ui-resizable-"+o)+\'"></div>\');a.css({zIndex:i.zIndex}),"se"==o&&a.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[o]=".ui-resizable-"+o,this.element.append(a)}}this._renderAxis=function(e){e=e||this.element;for(var i in this.handles){if(this.handles[i].constructor==String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var s=t(this.handles[i],this.element),n=0;n=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth();var o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");e.css(o,n),this._proportionallyResize()}t(this.handles[i]).length}},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!e.resizing){if(this.className)var t=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);e.axis=t&&t[1]?t[1]:"se"}}),i.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){i.disabled||(t(this).removeClass("ui-resizable-autohide"),e._handles.show())}).mouseleave(function(){i.disabled||e.resizing||(t(this).addClass("ui-resizable-autohide"),e._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var i=this.element;this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")}).insertAfter(i),i.remove()}return this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(e){var i=!1;for(var s in this.handles)t(this.handles[s])[0]==e.target&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(e){var s=this.options,n=this.element.position(),o=this.element;this.resizing=!0,this.documentScroll={top:t(document).scrollTop(),left:t(document).scrollLeft()},(o.is(".ui-draggable")||/absolute/.test(o.css("position")))&&o.css({position:"absolute",top:n.top,left:n.left}),this._renderProxy();var a=i(this.helper.css("left")),r=i(this.helper.css("top"));s.containment&&(a+=t(s.containment).scrollLeft()||0,r+=t(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:a,top:r},this.size=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.originalPosition={left:a,top:r},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1;var h=t(".ui-resizable-"+this.axis).css("cursor");return t("body").css("cursor","auto"==h?this.axis+"-resize":h),o.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(t){var e=this.helper,i=(this.options,this.originalMousePosition),s=this.axis,n=t.pageX-i.left||0,o=t.pageY-i.top||0,a=this._change[s];if(!a)return!1;var r=a.apply(this,[t,n,o]);return this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(r=this._updateRatio(r,t)),r=this._respectSize(r,t),this._propagate("resize",t),e.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(r),this._trigger("resize",t,this.ui()),!1},_mouseStop:function(e){this.resizing=!1;var i=this.options,s=this;if(this._helper){var n=this._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&t.ui.hasScroll(n[0],"left")?0:s.sizeDiff.height,r=o?0:s.sizeDiff.width,h={width:s.helper.width()-r,height:s.helper.height()-a},l=parseInt(s.element.css("left"),10)+(s.position.left-s.originalPosition.left)||null,c=parseInt(s.element.css("top"),10)+(s.position.top-s.originalPosition.top)||null;i.animate||this.element.css(t.extend(h,{top:c,left:l})),s.helper.height(s.size.height),s.helper.width(s.size.width),this._helper&&!i.animate&&this._proportionallyResize()}return t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,i,n,o,a,r=this.options;a={minWidth:s(r.minWidth)?r.minWidth:0,maxWidth:s(r.maxWidth)?r.maxWidth:1/0,minHeight:s(r.minHeight)?r.minHeight:0,maxHeight:s(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,n=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),n>a.minHeight&&(a.minHeight=n),i<a.maxWidth&&(a.maxWidth=i),o<a.maxHeight&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(t){this.options;this.offset=this.helper.offset(),s(t.left)&&(this.position.left=t.left),s(t.top)&&(this.position.top=t.top),s(t.height)&&(this.size.height=t.height),s(t.width)&&(this.size.width=t.width)},_updateRatio:function(t,e){this.options;var i=this.position,n=this.size,o=this.axis;return s(t.height)?t.width=t.height*this.aspectRatio:s(t.width)&&(t.height=t.width/this.aspectRatio),"sw"==o&&(t.left=i.left+(n.width-t.width),t.top=null),"nw"==o&&(t.top=i.top+(n.height-t.height),t.left=i.left+(n.width-t.width)),t},_respectSize:function(t,e){this.helper;var i=this._vBoundaries,n=(this._aspectRatio||e.shiftKey,this.axis),o=s(t.width)&&i.maxWidth&&i.maxWidth<t.width,a=s(t.height)&&i.maxHeight&&i.maxHeight<t.height,r=s(t.width)&&i.minWidth&&i.minWidth>t.width,h=s(t.height)&&i.minHeight&&i.minHeight>t.height;r&&(t.width=i.minWidth),h&&(t.height=i.minHeight),o&&(t.width=i.maxWidth),a&&(t.height=i.maxHeight);var l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,u=/sw|nw|w/.test(n),d=/nw|ne|n/.test(n);r&&u&&(t.left=l-i.minWidth),o&&u&&(t.left=l-i.maxWidth),h&&d&&(t.top=c-i.minHeight),a&&d&&(t.top=c-i.maxHeight);var p=!t.width&&!t.height;return p&&!t.left&&t.top?t.top=null:p&&!t.top&&t.left&&(t.left=null),t},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var e=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){var s=this._proportionallyResizeElements[i];if(!this.borderDif){var n=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],o=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")];this.borderDif=t.map(n,function(t,e){return(parseInt(t,10)||0)+(parseInt(o[e],10)||0)})}s.css({height:e.height()-this.borderDif[0]-this.borderDif[2]||0,width:e.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var e=this.element,i=this.options;if(this.elementOffset=e.offset(),this._helper){this.helper=this.helper||t(\'<div style="overflow:hidden;"></div>\');var s=t.ui.ie6?1:0,n=t.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+n,height:this.element.outerHeight()+n,position:"absolute",left:this.elementOffset.left-s+"px",top:this.elementOffset.top-s+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(t,e,i){return{width:this.originalSize.width+e}},w:function(t,e,i){this.options;var s=this.originalSize;return{left:this.originalPosition.left+e,width:s.width-e}},n:function(t,e,i){this.options;var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!=e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","alsoResize",{start:function(e,i){var s=t(this).data("resizable").options,n=function(e){t(e).each(function(){var e=t(this);e.data("resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof s.alsoResize||s.alsoResize.parentNode?n(s.alsoResize):s.alsoResize.length?(s.alsoResize=s.alsoResize[0],n(s.alsoResize)):t.each(s.alsoResize,function(t){n(t)})},resize:function(e,i){var s=t(this).data("resizable"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0},h=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data("resizable-alsoresize"),o={},a=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var i=(n[e]||0)+(r[e]||0);i&&i>=0&&(o[e]=i||null)}),e.css(o)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):t.each(n.alsoResize,function(t,e){h(t,e)})},stop:function(e,i){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","animate",{stop:function(e,i){var s=t(this).data("resizable"),n=s.options,o=s._proportionallyResizeElements,a=o.length&&/textarea/i.test(o[0].nodeName),r=a&&t.ui.hasScroll(o[0],"left")?0:s.sizeDiff.height,h=a?0:s.sizeDiff.width,l={width:s.size.width-h,height:s.size.height-r},c=parseInt(s.element.css("left"),10)+(s.position.left-s.originalPosition.left)||null,u=parseInt(s.element.css("top"),10)+(s.position.top-s.originalPosition.top)||null;s.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var i={width:parseInt(s.element.css("width"),10),height:parseInt(s.element.css("height"),10),top:parseInt(s.element.css("top"),10),left:parseInt(s.element.css("left"),10)};o&&o.length&&t(o[0]).css({width:i.width,height:i.height}),s._updateCache(i),s._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(e,s){var n=t(this).data("resizable"),o=n.options,a=n.element,r=o.containment,h=r instanceof t?r.get(0):/parent/.test(r)?a.parent().get(0):r;if(h)if(n.containerElement=t(h),/document/.test(r)||r==document)n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight};else{var l=t(h),c=[];t(["Top","Right","Left","Bottom"]).each(function(t,e){c[t]=i(l.css("padding"+e))}),n.containerOffset=l.offset(),n.containerPosition=l.position(),n.containerSize={height:l.innerHeight()-c[3],width:l.innerWidth()-c[1]};var u=n.containerOffset,d=n.containerSize.height,p=n.containerSize.width,f=t.ui.hasScroll(h,"left")?h.scrollWidth:p,g=t.ui.hasScroll(h)?h.scrollHeight:d;n.parentData={element:h,left:u.left,top:u.top,width:f,height:g}}},resize:function(e,i){var s=t(this).data("resizable"),n=s.options,o=(s.containerSize,s.containerOffset),a=(s.size,s.position),r=s._aspectRatio||e.shiftKey,h={top:0,left:0},l=s.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(h=o),a.left<(s._helper?o.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-o.left:s.position.left-h.left),r&&(s.size.height=s.size.width/s.aspectRatio),s.position.left=n.helper?o.left:0),a.top<(s._helper?o.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-o.top:s.position.top),r&&(s.size.width=s.size.height*s.aspectRatio),s.position.top=s._helper?o.top:0),s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top;var c=Math.abs((s._helper,s.offset.left-h.left+s.sizeDiff.width)),u=Math.abs((s._helper?s.offset.top-h.top:s.offset.top-o.top)+s.sizeDiff.height),d=s.containerElement.get(0)==s.element.parent().get(0),p=/relative|absolute/.test(s.containerElement.css("position"));d&&p&&(c-=s.parentData.left),c+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-c,r&&(s.size.height=s.size.width/s.aspectRatio)),u+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-u,r&&(s.size.width=s.size.height*s.aspectRatio))},stop:function(e,i){var s=t(this).data("resizable"),n=s.options,o=(s.position,s.containerOffset),a=s.containerPosition,r=s.containerElement,h=t(s.helper),l=h.offset(),c=h.outerWidth()-s.sizeDiff.width,u=h.outerHeight()-s.sizeDiff.height;s._helper&&!n.animate&&/relative/.test(r.css("position"))&&t(this).css({left:l.left-a.left-o.left,width:c,height:u}),s._helper&&!n.animate&&/static/.test(r.css("position"))&&t(this).css({left:l.left-a.left-o.left,width:c,height:u})}}),t.ui.plugin.add("resizable","ghost",{start:function(e,i){var s=t(this).data("resizable"),n=s.options,o=s.size;s.ghost=s.originalElement.clone(),s.ghost.css({opacity:.25,display:"block",position:"relative",height:o.height,width:o.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),s.ghost.appendTo(s.helper)},resize:function(e,i){var s=t(this).data("resizable");s.options;s.ghost&&s.ghost.css({position:"relative",height:s.size.height,width:s.size.width})},stop:function(e,i){var s=t(this).data("resizable");s.options;s.ghost&&s.helper&&s.helper.get(0).removeChild(s.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(e,i){var s=t(this).data("resizable"),n=s.options,o=s.size,a=s.originalSize,r=s.originalPosition,h=s.axis;n._aspectRatio||e.shiftKey;n.grid="number"==typeof n.grid?[n.grid,n.grid]:n.grid;var l=Math.round((o.width-a.width)/(n.grid[0]||1))*(n.grid[0]||1),c=Math.round((o.height-a.height)/(n.grid[1]||1))*(n.grid[1]||1);/^(se|s|e)$/.test(h)?(s.size.width=a.width+l,s.size.height=a.height+c):/^(ne)$/.test(h)?(s.size.width=a.width+l,s.size.height=a.height+c,s.position.top=r.top-c):/^(sw)$/.test(h)?(s.size.width=a.width+l,s.size.height=a.height+c,s.position.left=r.left-l):(s.size.width=a.width+l,s.size.height=a.height+c,s.position.top=r.top-c,s.position.left=r.left-l)}});var i=function(t){return parseInt(t,10)||0},s=function(t){return!isNaN(parseInt(t,10))}}(jQuery),function(t,e){t.widget("ui.sortable",t.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var s=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(e);var n=null;t(e.target).parents().each(function(){if(t.data(this,s.widgetName+"-item")==s)return n=t(this),!1});if(t.data(e.target,s.widgetName+"-item")==s&&(n=t(e.target)),!n)return!1;if(this.options.handle&&!i){var o=!1;if(t(this.options.handle,n).find("*").andSelf().each(function(){this==e.target&&(o=!0)}),!o)return!1}return this.currentItem=n,this._removeCurrentsFromItems(),!0},_mouseStart:function(e,i,s){var n=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),n.containment&&this._setContainment(),n.cursor&&(t("body").css("cursor")&&(this._storedCursor=t("body").css("cursor")),t("body").css("cursor",n.cursor)),n.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",n.opacity)),n.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",n.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(var o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){if(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var i=this.options,s=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(e.pageY-t(document).scrollTop()<i.scrollSensitivity?s=t(document).scrollTop(t(document).scrollTop()-i.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<i.scrollSensitivity&&(s=t(document).scrollTop(t(document).scrollTop()+i.scrollSpeed)),e.pageX-t(document).scrollLeft()<i.scrollSensitivity?s=t(document).scrollLeft(t(document).scrollLeft()-i.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<i.scrollSensitivity&&(s=t(document).scrollLeft(t(document).scrollLeft()+i.scrollSpeed))),!1!==s&&t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var n=this.items.length-1;n>=0;n--){var o=this.items[n],a=o.item[0],r=this._intersectsWithPointer(o);if(r&&(o.instance===this.currentContainer&&!(a==this.currentItem[0]||this.placeholder[1==r?"next":"prev"]()[0]==a||t.contains(this.placeholder[0],a)||"semi-dynamic"==this.options.type&&t.contains(this.element[0],a)))){if(this.direction=1==r?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(o))break;this._rearrange(e,o),this._trigger("change",e,this._uiHash());break}}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset();this.reverting=!0,t(this.helper).animate({left:n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u=s+l>r&&s+l<h&&e+c>o&&e+c<a;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?u:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<h},_intersectsWithPointer:function(e){var i="x"===this.options.axis||t.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),s="y"===this.options.axis||t.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=i&&s,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return!!n&&(this.floating?a&&"right"==a||"down"==o?2:1:o&&("down"==o?2:1))},_intersectsWithSides:function(e){var i=t.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),s=t.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"==o&&s||"left"==o&&!s:n&&("down"==n&&i||"up"==n&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor==String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i=[],s=[],n=this._connectWith();if(n&&e)for(h=n.length-1;h>=0;h--)for(var o=t(n[h]),a=o.length-1;a>=0;a--){var r=t.data(o[a],this.widgetName);r&&r!=this&&!r.options.disabled&&s.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r])}s.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var h=s.length-1;h>=0;h--)s[h][0].each(function(){i.push(this)});return t(i)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]==t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i=this.items,s=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],n=this._connectWith();if(n&&this.ready)for(h=n.length-1;h>=0;h--)for(var o=t(n[h]),a=o.length-1;a>=0;a--){var r=t.data(o[a],this.widgetName);r&&r!=this&&!r.options.disabled&&(s.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r))}for(var h=s.length-1;h>=0;h--)for(var l=s[h][1],c=s[h][0],a=0,u=c.length;a<u;a++){var d=t(c[a]);d.data(this.widgetName+"-item",l),i.push({item:d,instance:l,width:0,height:0,left:0,top:0})}},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(n=this.items.length-1;n>=0;n--){var i=this.items[n];if(i.instance==this.currentContainer||!this.currentContainer||i.item[0]==this.currentItem[0]){var s=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item;e||(i.width=s.outerWidth(),i.height=s.outerHeight());o=s.offset();i.left=o.left,i.top=o.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var o=this.containers[n].element.offset();this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(e){var i=(e=e||this).options;if(!i.placeholder||i.placeholder.constructor==String){var s=i.placeholder;i.placeholder={element:function(){var i=t(document.createElement(e.currentItem[0].nodeName)).addClass(s||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return s||(i.style.visibility="hidden"),i},update:function(t,n){s&&!i.forcePlaceholderSize||(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}}e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_contactContainers:function(e){for(var i=null,s=null,n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(i&&t.contains(this.containers[n].element[0],i.element[0]))continue;i=this.containers[n],s=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(i)if(1===this.containers.length)this.containers[s]._trigger("over",e,this._uiHash(this)),this.containers[s].containerCache.over=1;else{for(var o=1e4,a=null,r=this.containers[s].floating?"left":"top",h=this.containers[s].floating?"width":"height",l=this.positionAbs[r]+this.offset.click[r],c=this.items.length-1;c>=0;c--)if(t.contains(this.containers[s].element[0],this.items[c].item[0])&&this.items[c].item[0]!=this.currentItem[0]){var u=this.items[c].item.offset()[r],d=!1;Math.abs(u-l)>Math.abs(u+this.items[c][h]-l)&&(d=!0,u+=this.items[c][h]),Math.abs(u-l)<o&&(o=Math.abs(u-l),a=this.items[c],this.direction=d?"up":"down")}if(!a&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[s],a?this._rearrange(e,a,null,!0):this._rearrange(e,null,this.containers[s].element,!0),this._trigger("change",e,this._uiHash()),this.containers[s]._trigger("change",e,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[s]._trigger("over",e,this._uiHash(this)),this.containers[s].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"==i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!=i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(""==s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if("parent"==e.containment&&(e.containment=this.helper[0].parentNode),"document"!=e.containment&&"window"!=e.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"==e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"==e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(e.containment)){var i=t(e.containment)[0],s=t(e.containment).offset(),n="hidden"!=t(i).css("overflow");this.containment=[s.left+(parseInt(t(i).css("borderLeftWidth"),10)||0)+(parseInt(t(i).css("paddingLeft"),10)||0)-this.margins.left,s.top+(parseInt(t(i).css("borderTopWidth"),10)||0)+(parseInt(t(i).css("paddingTop"),10)||0)-this.margins.top,s.left+(n?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t(i).css("borderLeftWidth"),10)||0)-(parseInt(t(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,s.top+(n?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t(i).css("borderTopWidth"),10)||0)-(parseInt(t(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"==e?1:-1,n=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"==this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i=this.options,s="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(s[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var o=e.pageX,a=e.pageY;if(this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),i.grid)){var r=this.originalPageY+Math.round((a-this.originalPageY)/i.grid[1])*i.grid[1];a=this.containment&&(r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3])?r-this.offset.click.top<this.containment[1]?r+i.grid[1]:r-i.grid[1]:r;var h=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0];o=this.containment&&(h-this.offset.click.left<this.containment[0]||h-this.offset.click.left>this.containment[2])?h-this.offset.click.left<this.containment[0]?h+i.grid[0]:h-i.grid[0]:h}return{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"==this.cssPosition?-this.scrollParent.scrollTop():n?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():n?0:s.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n==this.counter&&this.refreshPositions(!s)})},_clear:function(e,i){this.reverting=!1;var s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var n in this._storedCSS)"auto"!=this._storedCSS[n]&&"static"!=this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!i&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||i||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(i||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer))));for(n=this.containers.length-1;n>=0;n--)i||s.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(s.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this._storedCursor&&t("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!i){this._trigger("beforeStop",e,this._uiHash());for(n=0;n<s.length;n++)s[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(i||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!i){for(n=0;n<s.length;n++)s[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t,e){var i=0;t.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,s;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,void(i=!0);e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,void s.preventDefault();if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){if(s)return s=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:t(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(s){s.target===e.element[0]||s.target===i||t.contains(i,s.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var s=i.item.data("ui-autocomplete-item")||i.item.data("item.autocomplete");!1!==this._trigger("focus",e,{item:s})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item")||e.item.data("item.autocomplete"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),t.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this.document.find(e||"body")[0]),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return!!this.element.is("textarea")||!this.element.is("input")&&this.element.prop("isContentEditable")},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,e=++i;return function(s){e===i&&t.__response(s),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(i,e),this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,"\\\\$&")},filter:function(e,i){var s=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t,e){var i,s,n,o,a="ui-button ui-widget ui-state-default ui-corner-all",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",h=function(){var e=t(this).find(":ui-button");setTimeout(function(){e.button("refresh")},1)},l=function(e){var i=e.name,s=e.form,n=t([]);return i&&(n=s?t(s).find("[name=\'"+i+"\']"):t("[name=\'"+i+"\']",e.ownerDocument).filter(function(){return!this.form})),n};t.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,h),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,r=this.options,c="checkbox"===this.type||"radio"===this.type,u=c?"":"ui-state-active";null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){r.disabled||this===i&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){r.disabled||t(this).removeClass(u)}).bind("click"+this.eventNamespace,function(t){r.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){e.buttonElement.addClass("ui-state-focus")}).bind("blur"+this.eventNamespace,function(){e.buttonElement.removeClass("ui-state-focus")}),c&&(this.element.bind("change"+this.eventNamespace,function(){o||e.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){r.disabled||(o=!1,s=t.pageX,n=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){r.disabled||s===t.pageX&&n===t.pageY||(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||o)return!1;t(this).toggleClass("ui-state-active"),e.buttonElement.attr("aria-pressed",e.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||o)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var i=e.element[0];l(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(r.disabled)return!1;t(this).addClass("ui-state-active"),i=this,e.document.one("mouseup",function(){i=null})}).bind("mouseup"+this.eventNamespace,function(){if(r.disabled)return!1;t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(r.disabled)return!1;e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",r.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for=\'"+this.element.attr("id")+"\']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),(i=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" ui-state-hover ui-state-active  "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){this._super(t,e),"disabled"!==t?this._resetButton():e?this.element.prop("disabled",!0):this.element.prop("disabled",!1)},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?l(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var e=this.buttonElement.removeClass(r),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,o=[];s.primary||s.secondary?(this.options.text&&o.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&e.prepend("<span class=\'ui-button-icon-primary ui-icon "+s.primary+"\'></span>"),s.secondary&&e.append("<span class=\'ui-button-icon-secondary ui-icon "+s.secondary+"\'></span>"),this.options.text||(o.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),t.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($(\'<div id="\'+this._mainDivId+\'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>\'))}function bindHover(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(e,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(e,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?t.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!=this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!=this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(t,e){$.extend(t,e);for(var i in e)null!=e[i]&&e[i]!=undefined||(t[i]=e[i]);return t}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return extendRemove(this._defaults,t||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(t){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?bindHover($(\'<div class="\'+this._inlineClass+\' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>\')):this.dpDiv}},_connectDatepicker:function(t,e){var i=$(t);e.append=$([]),e.trigger=$([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(t,i,s){e.settings[i]=s}).bind("getData.datepicker",function(t,i){return this._get(e,i)}),this._autoSize(e),$.data(t,PROP_NAME,e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i=this._get(e,"appendText"),s=this._get(e,"isRTL");e.append&&e.append.remove(),i&&(e.append=$(\'<span class="\'+this._appendClass+\'">\'+i+"</span>"),t[s?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove();var n=this._get(e,"showOn");if("focus"!=n&&"both"!=n||t.focus(this._showDatepicker),"button"==n||"both"==n){var o=this._get(e,"buttonText"),a=this._get(e,"buttonImage");e.trigger=$(this._get(e,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:a,alt:o,title:o}):$(\'<button type="button"></button>\').addClass(this._triggerClass).html(""==a?o:$("<img/>").attr({src:a,alt:o,title:o}))),t[s?"before":"after"](e.trigger),e.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==t[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=t[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(t[0])):$.datepicker._showDatepicker(t[0]),!1})}},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e=new Date(2009,11,20),i=this._get(t,"dateFormat");if(i.match(/[DM]/)){var s=function(t){for(var e=0,i=0,s=0;s<t.length;s++)t[s].length>e&&(e=t[s].length,i=s);return i};e.setMonth(s(this._get(t,i.match(/MM/)?"monthNames":"monthNamesShort"))),e.setDate(s(this._get(t,i.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay())}t.input.attr("size",this._formatDate(t,e).length)}},_inlineDatepicker:function(t,e){var i=$(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv).bind("setData.datepicker",function(t,i,s){e.settings[i]=s}).bind("getData.datepicker",function(t,i){return this._get(e,i)}),$.data(t,PROP_NAME,e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,s,n){var o=this._dialogInst;if(!o){this.uuid+=1;var a="dp"+this.uuid;this._dialogInput=$(\'<input type="text" id="\'+a+\'" style="position: absolute; top: -100px; width: 0px;"/>\'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),(o=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},$.data(this._dialogInput[0],PROP_NAME,o)}if(extendRemove(o.settings,s||{}),e=e&&e.constructor==Date?this._formatDate(o,e):e,this._dialogInput.val(e),this._pos=n?n.length?n:[n.pageX,n.pageY]:null,!this._pos){var r=document.documentElement.clientWidth,h=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[r/2-100+l,h/2-150+c]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),o.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,o),this},_destroyDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var s=t.nodeName.toLowerCase();$.removeData(t,PROP_NAME),"input"==s?(i.append.remove(),i.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!=s&&"span"!=s||e.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var s=t.nodeName.toLowerCase();if("input"==s)t.disabled=!1,i.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==s||"span"==s){var n=e.children("."+this._inlineClass);n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e})}},_disableDatepicker:function(t){var e=$(t),i=$.data(t,PROP_NAME);if(e.hasClass(this.markerClassName)){var s=t.nodeName.toLowerCase();if("input"==s)t.disabled=!0,i.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==s||"span"==s){var n=e.children("."+this._inlineClass);n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=$.map(this._disabledInputs,function(e){return e==t?null:e}),this._disabledInputs[this._disabledInputs.length]=t}},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]==t)return!0;return!1},_getInst:function(t){try{return $.data(t,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var s=this._getInst(t);if(2==arguments.length&&"string"==typeof e)return"defaults"==e?$.extend({},$.datepicker._defaults):s?"all"==e?$.extend({},s.settings):this._get(s,e):null;var n=e||{};if("string"==typeof e&&((n={})[e]=i),s){this._curInst==s&&this._hideDatepicker();var o=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(s,"min"),r=this._getMinMaxDate(s,"max");extendRemove(s.settings,n),null!==a&&n.dateFormat!==undefined&&n.minDate===undefined&&(s.settings.minDate=this._formatDate(s,a)),null!==r&&n.dateFormat!==undefined&&n.maxDate===undefined&&(s.settings.maxDate=this._formatDate(s,r)),this._attachments($(t),s),this._autoSize(s),this._setDate(s,o),this._updateAlternate(s),this._updateDatepicker(s)}},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(t){var e=$.datepicker._getInst(t.target),i=!0,s=e.dpDiv.is(".ui-datepicker-rtl");if(e._keyEvent=!0,$.datepicker._datepickerShowing)switch(t.keyCode){case 9:$.datepicker._hideDatepicker(),i=!1;break;case 13:var n=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",e.dpDiv);n[0]&&$.datepicker._selectDay(t.target,e.selectedMonth,e.selectedYear,n[0]);var o=$.datepicker._get(e,"onSelect");if(o){var a=$.datepicker._formatDate(e);o.apply(e.input?e.input[0]:null,[a,e])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&$.datepicker._clearDate(t.target),i=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&$.datepicker._gotoToday(t.target),i=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,s?1:-1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?-$.datepicker._get(e,"stepBigMonths"):-$.datepicker._get(e,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,-7,"D"),i=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,s?-1:1,"D"),i=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&$.datepicker._adjustDate(t.target,t.ctrlKey?+$.datepicker._get(e,"stepBigMonths"):+$.datepicker._get(e,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&$.datepicker._adjustDate(t.target,7,"D"),i=t.ctrlKey||t.metaKey;break;default:i=!1}else 36==t.keyCode&&t.ctrlKey?$.datepicker._showDatepicker(this):i=!1;i&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e=$.datepicker._getInst(t.target);if($.datepicker._get(e,"constrainInput")){var i=$.datepicker._possibleChars($.datepicker._get(e,"dateFormat")),s=String.fromCharCode(t.charCode==undefined?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||s<" "||!i||i.indexOf(s)>-1}},_doKeyUp:function(t){var e=$.datepicker._getInst(t.target);if(e.input.val()!=e.lastVal)try{$.datepicker.parseDate($.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,$.datepicker._getFormatConfig(e))&&($.datepicker._setDateFromField(e),$.datepicker._updateAlternate(e),$.datepicker._updateDatepicker(e))}catch(t){$.datepicker.log(t)}return!0},_showDatepicker:function(t){if("input"!=(t=t.target||t).nodeName.toLowerCase()&&(t=$("input",t.parentNode)[0]),!$.datepicker._isDisabledDatepicker(t)&&$.datepicker._lastInput!=t){var e=$.datepicker._getInst(t);$.datepicker._curInst&&$.datepicker._curInst!=e&&($.datepicker._curInst.dpDiv.stop(!0,!0),e&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var i=$.datepicker._get(e,"beforeShow"),s=i?i.apply(t,[t,e]):{};if(!1!==s){extendRemove(e.settings,s),e.lastVal=null,$.datepicker._lastInput=t,$.datepicker._setDateFromField(e),$.datepicker._inDialog&&(t.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(t),$.datepicker._pos[1]+=t.offsetHeight);var n=!1;$(t).parents().each(function(){return!(n|="fixed"==$(this).css("position"))});var o={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(e),o=$.datepicker._checkOffset(e,o,n),e.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":n?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),!e.inline){var a=$.datepicker._get(e,"showAnim"),r=$.datepicker._get(e,"duration"),h=function(){var t=e.dpDiv.find("iframe.ui-datepicker-cover");if(t.length){var i=$.datepicker._getBorders(e.dpDiv);t.css({left:-i[0],top:-i[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()})}};e.dpDiv.zIndex($(t).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[a]||$.effects[a])?e.dpDiv.show(a,$.datepicker._get(e,"showOptions"),r,h):e.dpDiv[a||"show"](a?r:null,h),a&&r||h(),e.input.is(":visible")&&!e.input.is(":disabled")&&e.input.focus(),$.datepicker._curInst=e}}}},_updateDatepicker:function(t){this.maxRows=4;var e=$.datepicker._getBorders(t.dpDiv);instActive=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i=t.dpDiv.find("iframe.ui-datepicker-cover");i.length&&i.css({left:-e[0],top:-e[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()}),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var s=this._getNumberOfMonths(t),n=s[1];if(t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",17*n+"em"),t.dpDiv[(1!=s[0]||1!=s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t==$.datepicker._curInst&&$.datepicker._datepickerShowing&&t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&t.input[0]!=document.activeElement&&t.input.focus(),t.yearshtml){var o=t.yearshtml;setTimeout(function(){o===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),o=t.yearshtml=null},0)}},_getBorders:function(t){var e=function(t){return{thin:1,medium:2,thick:3}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(t,e,i){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,r=document.documentElement.clientWidth+(i?0:$(document).scrollLeft()),h=document.documentElement.clientHeight+(i?0:$(document).scrollTop());return e.left-=this._get(t,"isRTL")?s-o:0,e.left-=i&&e.left==t.input.offset().left?$(document).scrollLeft():0,e.top-=i&&e.top==t.input.offset().top+a?$(document).scrollTop():0,e.left-=Math.min(e.left,e.left+s>r&&r>s?Math.abs(e.left+s-r):0),e.top-=Math.min(e.top,e.top+n>h&&h>n?Math.abs(n+a):0),e},_findPos:function(t){for(var e=this._getInst(t),i=this._get(e,"isRTL");t&&("hidden"==t.type||1!=t.nodeType||$.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];var s=$(t).offset();return[s.left,s.top]},_hideDatepicker:function(t){var e=this._curInst;if(e&&(!t||e==$.data(t,PROP_NAME))&&this._datepickerShowing){var i=this._get(e,"showAnim"),s=this._get(e,"duration"),n=function(){$.datepicker._tidyDialog(e)};$.effects&&($.effects.effect[i]||$.effects[i])?e.dpDiv.hide(i,$.datepicker._get(e,"showOptions"),s,n):e.dpDiv["slideDown"==i?"slideUp":"fadeIn"==i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1;var o=this._get(e,"onClose");o&&o.apply(e.input?e.input[0]:null,[e.input?e.input.val():"",e]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if($.datepicker._curInst){var e=$(t.target),i=$.datepicker._getInst(e[0]);(e[0].id==$.datepicker._mainDivId||0!=e.parents("#"+$.datepicker._mainDivId).length||e.hasClass($.datepicker.markerClassName)||e.closest("."+$.datepicker._triggerClass).length||!$.datepicker._datepickerShowing||$.datepicker._inDialog&&$.blockUI)&&(!e.hasClass($.datepicker.markerClassName)||$.datepicker._curInst==i)||$.datepicker._hideDatepicker()}},_adjustDate:function(t,e,i){var s=$(t),n=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(n,e+("M"==i?this._get(n,"showCurrentAtPos"):0),i),this._updateDatepicker(n))},_gotoToday:function(t){var e=$(t),i=this._getInst(e[0]);if(this._get(i,"gotoCurrent")&&i.currentDay)i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear;else{var s=new Date;i.selectedDay=s.getDate(),i.drawMonth=i.selectedMonth=s.getMonth(),i.drawYear=i.selectedYear=s.getFullYear()}this._notifyChange(i),this._adjustDate(e)},_selectMonthYear:function(t,e,i){var s=$(t),n=this._getInst(s[0]);n["selected"+("M"==i?"Month":"Year")]=n["draw"+("M"==i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(s)},_selectDay:function(t,e,i,s){var n=$(t);if(!$(s).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(n[0])){var o=this._getInst(n[0]);o.selectedDay=o.currentDay=$("a",s).html(),o.selectedMonth=o.currentMonth=e,o.selectedYear=o.currentYear=i,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear))}},_clearDate:function(t){var e=$(t);this._getInst(e[0]);this._selectDate(e,"")},_selectDate:function(t,e){var i=$(t),s=this._getInst(i[0]);e=null!=e?e:this._formatDate(s),s.input&&s.input.val(e),this._updateAlternate(s);var n=this._get(s,"onSelect");n?n.apply(s.input?s.input[0]:null,[e,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e=this._get(t,"altField");if(e){var i=this._get(t,"altFormat")||this._get(t,"dateFormat"),s=this._getDate(t),n=this.formatDate(i,s,this._getFormatConfig(t));$(e).each(function(){$(this).val(n)})}},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e=new Date(t.getTime());e.setDate(e.getDate()+4-(e.getDay()||7));var i=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((i-e)/864e5)/7)+1},parseDate:function(t,e,i){if(null==t||null==e)throw"Invalid arguments";if(""==(e="object"==typeof e?e.toString():e+""))return null;var s=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff;s="string"!=typeof s?s:(new Date).getFullYear()%100+parseInt(s,10);for(var n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=-1,l=-1,c=-1,u=-1,d=!1,p=function(e){var i=_+1<t.length&&t.charAt(_+1)==e;return i&&_++,i},f=function(t){var i=p(t),s="@"==t?14:"!"==t?20:"y"==t&&i?4:"o"==t?3:2,n=new RegExp("^\\\\d{1,"+s+"}"),o=e.substring(v).match(n);if(!o)throw"Missing number at position "+v;return v+=o[0].length,parseInt(o[0],10)},g=function(t,i,s){var n=$.map(p(t)?s:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)}),o=-1;if($.each(n,function(t,i){var s=i[1];if(e.substr(v,s.length).toLowerCase()==s.toLowerCase())return o=i[0],v+=s.length,!1}),-1!=o)return o+1;throw"Unknown name at position "+v},m=function(){if(e.charAt(v)!=t.charAt(_))throw"Unexpected literal at position "+v;v++},v=0,_=0;_<t.length;_++)if(d)"\'"!=t.charAt(_)||p("\'")?m():d=!1;else switch(t.charAt(_)){case"d":c=f("d");break;case"D":g("D",n,o);break;case"o":u=f("o");break;case"m":l=f("m");break;case"M":l=g("M",a,r);break;case"y":h=f("y");break;case"@":h=(w=new Date(f("@"))).getFullYear(),l=w.getMonth()+1,c=w.getDate();break;case"!":h=(w=new Date((f("!")-this._ticksTo1970)/1e4)).getFullYear(),l=w.getMonth()+1,c=w.getDate();break;case"\'":p("\'")?m():d=!0;break;default:m()}if(v<e.length){var b=e.substr(v);if(!/^\\s+/.test(b))throw"Extra/unparsed characters found in date: "+b}if(-1==h?h=(new Date).getFullYear():h<100&&(h+=(new Date).getFullYear()-(new Date).getFullYear()%100+(h<=s?0:-100)),u>-1)for(l=1,c=u;;){var y=this._getDaysInMonth(h,l-1);if(c<=y)break;l++,c-=y}var w=this._daylightSavingAdjust(new Date(h,l-1,c));if(w.getFullYear()!=h||w.getMonth()+1!=l||w.getDate()!=c)throw"Invalid date";return w},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,r=function(e){var i=d+1<t.length&&t.charAt(d+1)==e;return i&&d++,i},h=function(t,e,i){var s=""+e;if(r(t))for(;s.length<i;)s="0"+s;return s},l=function(t,e,i,s){return r(t)?s[e]:i[e]},c="",u=!1;if(e)for(var d=0;d<t.length;d++)if(u)"\'"!=t.charAt(d)||r("\'")?c+=t.charAt(d):u=!1;else switch(t.charAt(d)){case"d":c+=h("d",e.getDate(),2);break;case"D":c+=l("D",e.getDay(),s,n);break;case"o":c+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=h("m",e.getMonth()+1,2);break;case"M":c+=l("M",e.getMonth(),o,a);break;case"y":c+=r("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=1e4*e.getTime()+this._ticksTo1970;break;case"\'":r("\'")?c+="\'":u=!0;break;default:c+=t.charAt(d)}return c},_possibleChars:function(t){for(var e="",i=!1,s=function(e){var i=n+1<t.length&&t.charAt(n+1)==e;return i&&n++,i},n=0;n<t.length;n++)if(i)"\'"!=t.charAt(n)||s("\'")?e+=t.charAt(n):i=!1;else switch(t.charAt(n)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"\'":s("\'")?e+="\'":i=!0;break;default:e+=t.charAt(n)}return e},_get:function(t,e){return t.settings[e]!==undefined?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!=t.lastVal){var i,s,n=this._get(t,"dateFormat"),o=t.lastVal=t.input?t.input.val():null;i=s=this._getDefaultDate(t);var a=this._getFormatConfig(t);try{i=this.parseDate(n,o,a)||s}catch(t){this.log(t),o=e?"":o}t.selectedDay=i.getDate(),t.drawMonth=t.selectedMonth=i.getMonth(),t.drawYear=t.selectedYear=i.getFullYear(),t.currentDay=o?i.getDate():0,t.currentMonth=o?i.getMonth():0,t.currentYear=o?i.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(t,e,i){var s=null==e||""===e?i:"string"==typeof e?function(e){try{return $.datepicker.parseDate($.datepicker._get(t,"dateFormat"),e,$.datepicker._getFormatConfig(t))}catch(t){}for(var i=(e.toLowerCase().match(/^c/)?$.datepicker._getDate(t):null)||new Date,s=i.getFullYear(),n=i.getMonth(),o=i.getDate(),a=/([+-]?[0-9]+)\\s*(d|D|w|W|m|M|y|Y)?/g,r=a.exec(e);r;){switch(r[2]||"d"){case"d":case"D":o+=parseInt(r[1],10);break;case"w":case"W":o+=7*parseInt(r[1],10);break;case"m":case"M":n+=parseInt(r[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(s,n));break;case"y":case"Y":s+=parseInt(r[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(s,n))}r=a.exec(e)}return new Date(s,n,o)}(e):"number"==typeof e?isNaN(e)?i:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(e):new Date(e.getTime());return(s=s&&"Invalid Date"==s.toString()?i:s)&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n==t.selectedMonth&&o==t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""==t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\\\\\/g,"\\\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,-e,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(i,+e,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(i)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(i,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e=new Date;e=this._daylightSavingAdjust(new Date(e.getFullYear(),e.getMonth(),e.getDate()));var i=this._get(t,"isRTL"),s=this._get(t,"showButtonPanel"),n=this._get(t,"hideIfNoPrevNext"),o=this._get(t,"navigationAsDateFormat"),a=this._getNumberOfMonths(t),r=this._get(t,"showCurrentAtPos"),h=this._get(t,"stepMonths"),l=1!=a[0]||1!=a[1],c=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),u=this._getMinMaxDate(t,"min"),d=this._getMinMaxDate(t,"max"),p=t.drawMonth-r,f=t.drawYear;if(p<0&&(p+=12,f--),d){var g=this._daylightSavingAdjust(new Date(d.getFullYear(),d.getMonth()-a[0]*a[1]+1,d.getDate()));for(g=u&&g<u?u:g;this._daylightSavingAdjust(new Date(f,p,1))>g;)--p<0&&(p=11,f--)}t.drawMonth=p,t.drawYear=f;var m=this._get(t,"prevText");m=o?this.formatDate(m,this._daylightSavingAdjust(new Date(f,p-h,1)),this._getFormatConfig(t)):m;var v=this._canAdjustMonth(t,-1,f,p)?\'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="\'+m+\'"><span class="ui-icon ui-icon-circle-triangle-\'+(i?"e":"w")+\'">\'+m+"</span></a>":n?"":\'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="\'+m+\'"><span class="ui-icon ui-icon-circle-triangle-\'+(i?"e":"w")+\'">\'+m+"</span></a>",_=this._get(t,"nextText");_=o?this.formatDate(_,this._daylightSavingAdjust(new Date(f,p+h,1)),this._getFormatConfig(t)):_;var b=this._canAdjustMonth(t,1,f,p)?\'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="\'+_+\'"><span class="ui-icon ui-icon-circle-triangle-\'+(i?"w":"e")+\'">\'+_+"</span></a>":n?"":\'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="\'+_+\'"><span class="ui-icon ui-icon-circle-triangle-\'+(i?"w":"e")+\'">\'+_+"</span></a>",y=this._get(t,"currentText"),w=this._get(t,"gotoCurrent")&&t.currentDay?c:e;y=o?this.formatDate(y,w,this._getFormatConfig(t)):y;var k=t.inline?"":\'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">\'+this._get(t,"closeText")+"</button>",x=s?\'<div class="ui-datepicker-buttonpane ui-widget-content">\'+(i?k:"")+(this._isInRange(t,w)?\'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">\'+y+"</button>":"")+(i?"":k)+"</div>":"",D=parseInt(this._get(t,"firstDay"),10);D=isNaN(D)?0:D;for(var C=this._get(t,"showWeek"),M=this._get(t,"dayNames"),P=(this._get(t,"dayNamesShort"),this._get(t,"dayNamesMin")),I=this._get(t,"monthNames"),T=this._get(t,"monthNamesShort"),z=this._get(t,"beforeShowDay"),S=this._get(t,"showOtherMonths"),N=this._get(t,"selectOtherMonths"),W=(this._get(t,"calculateWeek")||this.iso8601Week,this._getDefaultDate(t)),A="",H=0;H<a[0];H++){var E="";this.maxRows=4;for(var O=0;O<a[1];O++){var R=this._daylightSavingAdjust(new Date(f,p,t.selectedDay)),F=" ui-corner-all",L="";if(l){if(L+=\'<div class="ui-datepicker-group\',a[1]>1)switch(O){case 0:L+=" ui-datepicker-group-first",F=" ui-corner-"+(i?"right":"left");break;case a[1]-1:L+=" ui-datepicker-group-last",F=" ui-corner-"+(i?"left":"right");break;default:L+=" ui-datepicker-group-middle",F=""}L+=\'">\'}L+=\'<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix\'+F+\'">\'+(/all|left/.test(F)&&0==H?i?b:v:"")+(/all|right/.test(F)&&0==H?i?v:b:"")+this._generateMonthYearHeader(t,p,f,u,d,H>0||O>0,I,T)+\'</div><table class="ui-datepicker-calendar"><thead><tr>\';for(var j=C?\'<th class="ui-datepicker-week-col">\'+this._get(t,"weekHeader")+"</th>":"",Y=0;Y<7;Y++){var B=(Y+D)%7;j+="<th"+((Y+D+6)%7>=5?\' class="ui-datepicker-week-end"\':"")+\'><span title="\'+M[B]+\'">\'+P[B]+"</span></th>"}L+=j+"</tr></thead><tbody>";var U=this._getDaysInMonth(f,p);f==t.selectedYear&&p==t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,U));var K=(this._getFirstDayOfMonth(f,p)-D+7)%7,V=Math.ceil((K+U)/7),Q=l&&this.maxRows>V?this.maxRows:V;this.maxRows=Q;for(var q=this._daylightSavingAdjust(new Date(f,p,1-K)),X=0;X<Q;X++){L+="<tr>";for(var G=C?\'<td class="ui-datepicker-week-col">\'+this._get(t,"calculateWeek")(q)+"</td>":"",Y=0;Y<7;Y++){var Z=z?z.apply(t.input?t.input[0]:null,[q]):[!0,""],J=q.getMonth()!=p,tt=J&&!N||!Z[0]||u&&q<u||d&&q>d;G+=\'<td class="\'+((Y+D+6)%7>=5?" ui-datepicker-week-end":"")+(J?" ui-datepicker-other-month":"")+(q.getTime()==R.getTime()&&p==t.selectedMonth&&t._keyEvent||W.getTime()==q.getTime()&&W.getTime()==R.getTime()?" "+this._dayOverClass:"")+(tt?" "+this._unselectableClass+" ui-state-disabled":"")+(J&&!S?"":" "+Z[1]+(q.getTime()==c.getTime()?" "+this._currentClass:"")+(q.getTime()==e.getTime()?" ui-datepicker-today":""))+\'"\'+(J&&!S||!Z[2]?"":\' title="\'+Z[2]+\'"\')+(tt?"":\' data-handler="selectDay" data-event="click" data-month="\'+q.getMonth()+\'" data-year="\'+q.getFullYear()+\'"\')+">"+(J&&!S?"&#xa0;":tt?\'<span class="ui-state-default">\'+q.getDate()+"</span>":\'<a class="ui-state-default\'+(q.getTime()==e.getTime()?" ui-state-highlight":"")+(q.getTime()==c.getTime()?" ui-state-active":"")+(J?" ui-priority-secondary":"")+\'" href="#">\'+q.getDate()+"</a>")+"</td>",q.setDate(q.getDate()+1),q=this._daylightSavingAdjust(q)}L+=G+"</tr>"}++p>11&&(p=0,f++),E+=L+="</tbody></table>"+(l?"</div>"+(a[0]>0&&O==a[1]-1?\'<div class="ui-datepicker-row-break"></div>\':""):"")}A+=E}return A+=x+($.ui.ie6&&!t.inline?\'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>\':""),t._keyEvent=!1,A},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h=this._get(t,"changeMonth"),l=this._get(t,"changeYear"),c=this._get(t,"showMonthAfterYear"),u=\'<div class="ui-datepicker-title">\',d="";if(o||!h)d+=\'<span class="ui-datepicker-month">\'+a[e]+"</span>";else{var p=s&&s.getFullYear()==i,f=n&&n.getFullYear()==i;d+=\'<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">\';for(var g=0;g<12;g++)(!p||g>=s.getMonth())&&(!f||g<=n.getMonth())&&(d+=\'<option value="\'+g+\'"\'+(g==e?\' selected="selected"\':"")+">"+r[g]+"</option>");d+="</select>"}if(c||(u+=d+(!o&&h&&l?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!l)u+=\'<span class="ui-datepicker-year">\'+i+"</span>";else{var m=this._get(t,"yearRange").split(":"),v=(new Date).getFullYear(),_=function(t){var e=t.match(/c[+-].*/)?i+parseInt(t.substring(1),10):t.match(/[+-].*/)?v+parseInt(t,10):parseInt(t,10);return isNaN(e)?v:e},b=_(m[0]),y=Math.max(b,_(m[1]||""));for(b=s?Math.max(b,s.getFullYear()):b,y=n?Math.min(y,n.getFullYear()):y,t.yearshtml+=\'<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">\';b<=y;b++)t.yearshtml+=\'<option value="\'+b+\'"\'+(b==i?\' selected="selected"\':"")+">"+b+"</option>";t.yearshtml+="</select>",u+=t.yearshtml,t.yearshtml=null}return u+=this._get(t,"yearSuffix"),c&&(u+=(!o&&h&&l?"":"&#xa0;")+d),u+="</div>"},_adjustInstDate:function(t,e,i){var s=t.drawYear+("Y"==i?e:0),n=t.drawMonth+("M"==i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"==i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),"M"!=i&&"Y"!=i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&e<i?i:e;return n=s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(e<0?e:n[0]*n[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max");return(!i||e.getTime()>=i.getTime())&&(!s||e.getTime()<=s.getTime())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),$.fn.datepicker=function(t){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!=t&&"getDate"!=t&&"widget"!=t?"option"==t&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this].concat(e)):$.datepicker._attachDatepicker(this,t)}):$.datepicker["_"+t+"Datepicker"].apply($.datepicker,[this[0]].concat(e))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(t,e){var i="ui-dialog ui-widget ui-widget-content ui-corner-all ",s={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},n={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),"string"!=typeof this.originalTitle&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var e,s,n,o,a,r=this,h=this.options,l=h.title||"&#160;";e=(this.uiDialog=t("<div>")).addClass(i+h.dialogClass).css({display:"none",outline:0,zIndex:h.zIndex}).attr("tabIndex",-1).keydown(function(e){h.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE&&(r.close(e),e.preventDefault())}).mousedown(function(t){r.moveToTop(!1,t)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(e),s=(this.uiDialogTitlebar=t("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){e.focus()}).prependTo(e),n=t("<a href=\'#\'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(t){t.preventDefault(),r.close(t)}).appendTo(s),(this.uiDialogTitlebarCloseText=t("<span>")).addClass("ui-icon ui-icon-closethick").text(h.closeText).appendTo(n),o=t("<span>").uniqueId().addClass("ui-dialog-title").html(l).prependTo(s),a=(this.uiDialogButtonPane=t("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=t("<div>")).addClass("ui-dialog-buttonset").appendTo(a),e.attr({role:"dialog","aria-labelledby":o.attr("id")}),s.find("*").add(s).disableSelection(),this._hoverable(n),this._focusable(n),h.draggable&&t.fn.draggable&&this._makeDraggable(),h.resizable&&t.fn.resizable&&this._makeResizable(),this._createButtons(h.buttons),this._isOpen=!1,t.fn.bgiframe&&e.bgiframe(),this._on(e,{keydown:function(i){if(h.modal&&i.keyCode===t.ui.keyCode.TAB){var s=t(":tabbable",e),n=s.filter(":first"),o=s.filter(":last");return i.target!==o[0]||i.shiftKey?i.target===n[0]&&i.shiftKey?(o.focus(1),!1):void 0:(n.focus(1),!1)}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var t,e=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(e){var i,s,n=this;if(this._isOpen&&!1!==this._trigger("beforeClose",e))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}):(this.uiDialog.hide(),this._trigger("close",e)),t.ui.dialog.overlay.resize(),this.options.modal&&(i=0,t(".ui-dialog").each(function(){this!==n.uiDialog[0]&&(s=t(this).css("z-index"),isNaN(s)||(i=Math.max(i,s)))}),t.ui.dialog.maxZ=i),this},isOpen:function(){return this._isOpen},moveToTop:function(e,i){var s,n=this.options;return n.modal&&!e||!n.stack&&!n.modal?this._trigger("focus",i):(n.zIndex>t.ui.dialog.maxZ&&(t.ui.dialog.maxZ=n.zIndex),this.overlay&&(t.ui.dialog.maxZ+=1,t.ui.dialog.overlay.maxZ=t.ui.dialog.maxZ,this.overlay.$el.css("z-index",t.ui.dialog.overlay.maxZ)),s={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},t.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",t.ui.dialog.maxZ),this.element.attr(s),this._trigger("focus",i),this)},open:function(){if(!this._isOpen){var e,i=this.options,s=this.uiDialog;return this._size(),this._position(i.position),s.show(i.show),this.overlay=i.modal?new t.ui.dialog.overlay(this):null,this.moveToTop(!0),(e=this.element.find(":tabbable")).length||(e=this.uiDialogButtonPane.find(":tabbable")).length||(e=s),e.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this}},_createButtons:function(e){var i=this,s=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),"object"==typeof e&&null!==e&&t.each(e,function(){return!(s=!0)}),s?(t.each(e,function(e,s){var n,o;s=t.isFunction(s)?{click:s,text:e}:s,s=t.extend({type:"button"},s),o=s.click,s.click=function(){o.apply(i.element[0],arguments)},n=t("<button></button>",s).appendTo(i.uiButtonSet),t.fn.button&&n.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){t(this).addClass("ui-dialog-dragging"),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){s.position=[o.position.left-i.document.scrollLeft(),o.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._trigger("dragStop",n,e(o)),t.ui.dialog.overlay.resize()}})},_makeResizable:function(e){function i(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}e=void 0===e?this.options.resizable:e;var s=this,n=this.options,o=this.uiDialog.css("position"),a="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:a,start:function(e,n){t(this).addClass("ui-dialog-resizing"),s._trigger("resizeStart",e,i(n))},resize:function(t,e){s._trigger("resize",t,i(e))},stop:function(e,o){t(this).removeClass("ui-dialog-resizing"),n.height=t(this).height(),n.width=t(this).width(),s._trigger("resizeStop",e,i(o)),t.ui.dialog.overlay.resize()}}).css("position",o).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(e){var i,s=[],n=[0,0];e?(("string"==typeof e||"object"==typeof e&&"0"in e)&&(1===(s=e.split?e.split(" "):[e[0],e[1]]).length&&(s[1]=s[0]),t.each(["left","top"],function(t,e){+s[t]===s[t]&&(n[t]=s[t],s[t]=e)}),e={my:s[0]+(n[0]<0?n[0]:"+"+n[0])+" "+s[1]+(n[1]<0?n[1]:"+"+n[1]),at:s.join(" ")}),e=t.extend({},t.ui.dialog.prototype.options.position,e)):e=t.ui.dialog.prototype.options.position,(i=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.position(e),i||this.uiDialog.hide()},_setOptions:function(e){var i=this,o={},a=!1;t.each(e,function(t,e){i._setOption(t,e),t in s&&(a=!0),t in n&&(o[t]=e)}),a&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,s){var n,o,a=this.uiDialog;switch(e){case"buttons":this._createButtons(s);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+s);break;case"dialogClass":a.removeClass(this.options.dialogClass).addClass(i+s);break;case"disabled":s?a.addClass("ui-dialog-disabled"):a.removeClass("ui-dialog-disabled");break;case"draggable":(n=a.is(":data(draggable)"))&&!s&&a.draggable("destroy"),!n&&s&&this._makeDraggable();break;case"position":this._position(s);break;case"resizable":(o=a.is(":data(resizable)"))&&!s&&a.resizable("destroy"),o&&"string"==typeof s&&a.resizable("option","handles",s),o||!1===s||this._makeResizable(s);break;case"title":t(".ui-dialog-title",this.uiDialogTitlebar).html(""+(s||"&#160;"))}this._super(e,s)},_size:function(){var e,i,s,n=this.options,o=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),i=Math.max(0,n.minHeight-e),"auto"===n.height?t.support.minHeight?this.element.css({minHeight:i,height:"auto"}):(this.uiDialog.show(),s=this.element.css("height","auto").height(),o||this.uiDialog.hide(),this.element.height(Math.max(s,i))):this.element.height(Math.max(n.height-e,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),t.extend(t.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(t){var e=t.attr("id");return e||(this.uuid+=1,e=this.uuid),"ui-dialog-title-"+e},overlay:function(e){this.$el=t.ui.dialog.overlay.create(e)}}),t.extend(t.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:t.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(t){return t+".dialog-overlay"}).join(" "),create:function(e){0===this.instances.length&&(setTimeout(function(){t.ui.dialog.overlay.instances.length&&t(document).bind(t.ui.dialog.overlay.events,function(e){if(t(e.target).zIndex()<t.ui.dialog.overlay.maxZ)return!1})},1),t(window).bind("resize.dialog-overlay",t.ui.dialog.overlay.resize));var i=this.oldInstances.pop()||t("<div>").addClass("ui-widget-overlay");return t(document).bind("keydown.dialog-overlay",function(s){var n=t.ui.dialog.overlay.instances;0!==n.length&&n[n.length-1]===i&&e.options.closeOnEscape&&!s.isDefaultPrevented()&&s.keyCode&&s.keyCode===t.ui.keyCode.ESCAPE&&(e.close(s),s.preventDefault())}),i.appendTo(document.body).css({width:this.width(),height:this.height()}),t.fn.bgiframe&&i.bgiframe(),this.instances.push(i),i},destroy:function(e){var i=t.inArray(e,this.instances),s=0;-1!==i&&this.oldInstances.push(this.instances.splice(i,1)[0]),0===this.instances.length&&t([document,window]).unbind(".dialog-overlay"),e.height(0).width(0).remove(),t.each(this.instances,function(){s=Math.max(s,this.css("z-index"))}),this.maxZ=s},height:function(){var e,i;return t.ui.ie?(e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),e<i?t(window).height()+"px":e+"px"):t(document).height()+"px"},width:function(){var e,i;return t.ui.ie?(e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),i=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),e<i?t(window).width()+"px":e+"px"):t(document).width()+"px"},resize:function(){var e=t([]);t.each(t.ui.dialog.overlay.instances,function(){e=e.add(this)}),e.css({width:0,height:0}).css({width:t.ui.dialog.overlay.width(),height:t.ui.dialog.overlay.height()})}}),t.extend(t.ui.dialog.overlay.prototype,{destroy:function(){t.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(t,e){var i=!1;t.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var s=t(e.target).closest(".ui-menu-item");!i&&s.not(".ui-state-disabled").length&&(i=!0,this.select(e),s.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),i=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,"\\\\$&")}var s,n,o,a,r,h=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:h=!1,n=this.previousFilter||"",o=String.fromCharCode(e.keyCode),a=!1,clearTimeout(this.filterTimer),o===n?a=!0:o=n+o,r=new RegExp("^"+i(o),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),(s=a&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s).length||(o=String.fromCharCode(e.keyCode),r=new RegExp("^"+i(o),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}h&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup=\'true\']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,s=this.element.find(this.options.menus);s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),s=e.prev("a"),n=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);s.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",s.attr("id"))}),(e=s.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\\-\\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(t,e){var i,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=e.children(".ui-menu")).length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.height(),n<0?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;this.active?this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(i=t(this)).offset().top-s-n<0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var i,s,n;this.active?this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(i=t(this)).offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=t("<div class=\'ui-progressbar-value ui-widget-header ui-corner-left\'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this._value():(this._setOption("value",t),this)},_setOption:function(t,e){"value"===t&&(this.options.value=e,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(t,e)},_value:function(){var t=this.options.value;return"number"!=typeof t&&(t=0),Math.min(this.options.max,Math.max(this.min,t))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var t=this.value(),e=this._percentage();this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),this.valueDiv.toggle(t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(e.toFixed(0)+"%"),this.element.attr("aria-valuenow",t)}})}(jQuery),function(t,e){t.widget("ui.slider",t.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(s.disabled?" ui-slider-disabled ui-disabled":"")),this.range=t([]),s.range&&(!0===s.range&&(s.values||(s.values=[this._valueMin(),this._valueMin()]),s.values.length&&2!==s.values.length&&(s.values=[s.values[0],s.values[0]])),this.range=t("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===s.range||"max"===s.range?" ui-slider-range-"+s.range:""))),i=s.values&&s.values.length||1,e=n.length;e<i;e++)o.push("<a class=\'ui-slider-handle ui-state-default ui-corner-all\' href=\'#\'></a>");this.handles=n.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(t){t.preventDefault()}).mouseenter(function(){s.disabled||t(this).addClass("ui-state-hover")}).mouseleave(function(){t(this).removeClass("ui-state-hover")}).focus(function(){s.disabled?t(this).blur():(t(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),t(this).addClass("ui-state-focus"))}).blur(function(){t(this).removeClass("ui-state-focus")}),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)}),this._on(this.handles,{keydown:function(e){var i,s,n,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),!1===this._start(e,o)))return}switch(n=this.options.step,i=s=this.options.values&&this.options.values.length?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:s=this._valueMin();break;case t.ui.keyCode.END:s=this._valueMax();break;case t.ui.keyCode.PAGE_UP:s=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/5);break;case t.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/5);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;s=this._trimAlignValue(i+n);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;s=this._trimAlignValue(i-n)}this._slide(e,o,s)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-l.values(e));n>i&&(n=i,o=t(this),a=e)}),!0===c.range&&this.values(1)===c.min&&(a+=1,o=t(this.handles[a])),!1!==this._start(e,a)&&(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),r=o.offset(),h=!t(e.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-r.left-o.width()/2,top:e.pageY-r.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(s=i/e)>1&&(s=1),s<0&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,n,o;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i>s||1===e&&i<s)&&(i=s),i!==this.values(e)&&((n=this.values())[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),!1!==o&&this.values(e,i,!0))):i!==this.value()&&!1!==(o=this._trigger("slide",t,{handle:this.handles[e],value:i}))&&this.value(i)},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;o<s.length;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch(t.isArray(this.options.values)&&(n=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;s<n;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);for(i=this.options.values.slice(),s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(i[s]);return i},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=!this._animateOff&&r.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=(h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())*100,c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),!0===h.options.range&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?(s-n)/(o-n)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))}})}(jQuery),function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);void 0!==n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class=\'ui-spinner ui-widget ui-widget-content ui-corner-all\'></span>"},_buttonHtml:function(){return"<a class=\'ui-spinner-button ui-spinner-up ui-corner-tr\'><span class=\'ui-icon "+this.options.icons.up+"\'>&#9650;</span></a><a class=\'ui-spinner-button ui-spinner-down ui-corner-br\'><span class=\'ui-icon "+this.options.icons.down+"\'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&t<s.min?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._spin((t||1)*this.options.step)},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._spin((t||1)*-this.options.step)},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());e(this._value).call(this,t)},widget:function(){return this.uiSpinner}})}(jQuery),jQuery.effects||function(t,e){var i=!1!==t.uiBackCompat;t.effects={effect:{}},function(e,i){function s(t,e,i){var s=d[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:s.max<t?s.max:t)}function n(t){var i=c(),s=i._rgba=[];return t=t.toLowerCase(),g(l,function(e,n){var o,a=n.re.exec(t),r=a&&n.parse(a),h=n.space||"rgba";if(r)return o=i[h](r),i[u[h].cache]=o[u[h].cache],s=i._rgba=o._rgba,!1}),s.length?("0,0,0,0"===s.join()&&e.extend(s,a.transparent),i):a[t]}function o(t,e,i){return 6*(i=(i+1)%1)<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}var a,r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),h=/^([\\-+])=\\s*(\\d+\\.?\\d*)/,l=[{re:/rgba?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\\(\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\\(\\s*(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=e.Color=function(t,i,s,n){return new e.Color.fn.parse(t,i,s,n)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=c.support={},f=e("<p>")[0],g=e.each;f.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=f.style.backgroundColor.indexOf("rgba")>-1,g(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(i,o,r,h){if(void 0===i)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(o),o=void 0);var l=this,d=e.type(i),p=this._rgba=[];return void 0!==o&&(i=[i,o,r,h],d="array"),"string"===d?this.parse(n(i)||a._default):"array"===d?(g(u.rgba.props,function(t,e){p[e.idx]=s(i[e.idx],e)}),this):"object"===d?(i instanceof c?g(u,function(t,e){i[e.cache]&&(l[e.cache]=i[e.cache].slice())}):g(u,function(e,n){var o=n.cache;g(n.props,function(t,e){if(!l[o]&&n.to){if("alpha"===t||null==i[t])return;l[o]=n.to(l._rgba)}l[o][e.idx]=s(i[t],e,!0)}),l[o]&&t.inArray(null,l[o].slice(0,3))<0&&(l[o][3]=1,n.from&&(l._rgba=n.from(l[o])))}),this):void 0},is:function(t){var e=c(t),i=!0,s=this;return g(u,function(t,n){var o,a=e[n.cache];return a&&(o=s[n.cache]||n.to&&n.to(s._rgba)||[],g(n.props,function(t,e){if(null!=a[e.idx])return i=a[e.idx]===o[e.idx]})),i}),i},_space:function(){var t=[],e=this;return g(u,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var i=c(t),n=i._space(),o=u[n],a=0===this.alpha()?c("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return i=i[o.cache],g(o.props,function(t,n){var o=n.idx,a=r[o],l=i[o],c=d[n.type]||{};null!==l&&(null===a?h[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),h[o]=s((l-a)*e+a,n)))}),this[n](h)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=c(t)._rgba;return c(e.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),s=i.pop();return t&&i.push(~~(255*s)),"#"+e.map(i,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===u||1===u?u:u<=.5?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],n=t[3],a=s<=.5?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*o(r,a,e+1/3)),Math.round(255*o(r,a,e)),Math.round(255*o(r,a,e-1/3)),n]},g(u,function(t,i){var n=i.props,o=i.cache,a=i.to,r=i.from;c.fn[t]=function(t){if(a&&!this[o]&&(this[o]=a(this._rgba)),void 0===t)return this[o].slice();var i,h=e.type(t),l="array"===h||"object"===h?t:arguments,u=this[o].slice();return g(n,function(t,e){var i=l["object"===h?t:e.idx];null==i&&(i=u[e.idx]),u[e.idx]=s(i,e)}),r?(i=c(r(u)),i[o]=u,i):c(u)},g(n,function(i,s){c.fn[i]||(c.fn[i]=function(n){var o,a=e.type(n),r="alpha"===i?this._hsla?"hsla":"rgba":t,l=this[r](),c=l[s.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=e.type(n)),null==n&&s.empty?this:("string"===a&&(o=h.exec(n))&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1)),l[s.idx]=n,this[r](l)))})})}),g(r,function(t,i){e.cssHooks[i]={set:function(t,s){var o,a,r="";if("string"!==e.type(s)||(o=n(s))){if(s=c(o||s),!p.rgba&&1!==s._rgba[3]){for(a="backgroundColor"===i?t.parentNode:t;(""===r||"transparent"===r)&&a&&a.style;)try{r=e.css(a,"backgroundColor"),a=a.parentNode}catch(t){}s=s.blend(r&&"transparent"!==r?r:"_default")}s=s.toRgbaString()}try{t.style[i]=s}catch(t){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=c(t.elem,i),t.end=c(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}}),e.cssHooks.borderColor={expand:function(t){var e={};return g(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(){var e,i,s=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,n={};if(s&&s.length&&s[0]&&s[s[0]])for(i=s.length;i--;)"string"==typeof s[e=s[i]]&&(n[t.camelCase(e)]=s[e]);else for(e in s)"string"==typeof s[e]&&(n[e]=s[e]);return n}function i(e,i){var s,o,a={};for(s in i)o=i[s],e[s]!==o&&(n[s]||!t.fx.step[s]&&isNaN(parseFloat(o))||(a[s]=o));return a}var s=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.effects.animateClass=function(n,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").andSelf():a;l=l.map(function(){return{el:t(this),start:e.call(this)}}),(o=function(){t.each(s,function(t,e){n[e]&&a[e+"Class"](n[e])})})(),l=l.map(function(){return this.end=e.call(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=jQuery.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({_addClass:t.fn.addClass,addClass:function(e,i,s,n){return i?t.effects.animateClass.call(this,{add:e},i,s,n):this._addClass(e)},_removeClass:t.fn.removeClass,removeClass:function(e,i,s,n){return i?t.effects.animateClass.call(this,{remove:e},i,s,n):this._removeClass(e)},_toggleClass:t.fn.toggleClass,toggleClass:function(e,i,s,n,o){return"boolean"==typeof i||void 0===i?s?t.effects.animateClass.call(this,i?{add:e}:{remove:e},s,n,o):this._toggleClass(e,i):t.effects.animateClass.call(this,{toggle:e},i,s,n)},switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function e(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function s(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]&&(!i||!t.effects[e])}t.extend(t.effects,{version:"1.9.2",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data("ui-effects-"+e[i],t[0].style[e[i]])},restore:function(t,e){var i,s;for(s=0;s<e.length;s++)null!==e[s]&&(void 0===(i=t.data("ui-effects-"+e[s]))&&(i=""),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function s(e){function i(){t.isFunction(o)&&o.call(s[0]),t.isFunction(e)&&e()}var s=t(this),o=n.complete,a=n.mode;(s.is(":hidden")?"hide"===a:"show"===a)?i():r.call(s[0],n,i)}var n=e.apply(this,arguments),o=n.mode,a=n.queue,r=t.effects.effect[n.effect],h=!r&&i&&t.effects[n.effect];return t.fx.off||!r&&!h?o?this[o](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):r?!1===a?this.each(s):this.queue(a||"fx",s):h.call(this,{options:n,duration:n.duration,callback:n.complete,mode:n.mode})},_show:t.fn.show,show:function(t){if(s(t))return this._show.apply(this,arguments);var i=e.apply(this,arguments);return i.mode="show",this.effect.call(this,i)},_hide:t.fn.hide,hide:function(t){if(s(t))return this._hide.apply(this,arguments);var i=e.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)},__toggle:t.fn.toggle,toggle:function(i){if(s(i)||"boolean"==typeof i||t.isFunction(i))return this.__toggle.apply(this,arguments);var n=e.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)},cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?i(2*t)/2:1-i(-2*t+2)/2}})}()}(jQuery),function(t,e){var i=/up|down|vertical/,s=/up|left|vertical|horizontal/;t.effects.effect.blind=function(e,n){var o,a,r,h=t(this),l=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(h,e.mode||"hide"),u=e.direction||"up",d=i.test(u),p=d?"height":"width",f=d?"top":"left",g=s.test(u),m={},v="show"===c;h.parent().is(".ui-effects-wrapper")?t.effects.save(h.parent(),l):t.effects.save(h,l),h.show(),a=(o=t.effects.createWrapper(h).css({overflow:"hidden"}))[p](),r=parseFloat(o.css(f))||0,m[p]=v?a:0,g||(h.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),m[f]=v?r:a+r),v&&(o.css(p,0),g||o.css(f,r+a)),o.animate(m,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===c&&h.hide(),t.effects.restore(h,l),t.effects.removeWrapper(h),n()}})}}(jQuery),function(t,e){t.effects.effect.bounce=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(a,e.mode||"effect"),l="hide"===h,c="show"===h,u=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(c||l?1:0),g=e.duration/f,m=e.easing,v="up"===u||"down"===u?"top":"left",_="up"===u||"left"===u,b=a.queue(),y=b.length;for((c||l)&&r.push("opacity"),t.effects.save(a,r),a.show(),t.effects.createWrapper(a),d||(d=a["top"===v?"outerHeight":"outerWidth"]()/3),c&&((o={opacity:1})[v]=0,a.css("opacity",0).css(v,_?2*-d:2*d).animate(o,g,m)),l&&(d/=Math.pow(2,p-1)),(o={})[v]=0,s=0;s<p;s++)(n={})[v]=(_?"-=":"+=")+d,a.animate(n,g,m).animate(o,g,m),d=l?2*d:d/2;l&&((n={opacity:0})[v]=(_?"-=":"+=")+d,a.animate(n,g,m)),a.queue(function(){l&&a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}),y>1&&b.splice.apply(b,[1,0].concat(b.splice(y,f+1))),a.dequeue()}}(jQuery),function(t,e){t.effects.effect.clip=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","height","width"],h="show"===t.effects.setMode(a,e.mode||"hide"),l="vertical"===(e.direction||"vertical"),c=l?"height":"width",u=l?"top":"left",d={};t.effects.save(a,r),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),o=(n="IMG"===a[0].tagName?s:a)[c](),h&&(n.css(c,0),n.css(u,o/2)),d[c]=h?o:0,d[u]=h?0:o/2,n.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){h||a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}})}}(jQuery),function(t,e){t.effects.effect.drop=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","opacity","height","width"],a=t.effects.setMode(n,e.mode||"hide"),r="show"===a,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h?"pos":"neg",u={opacity:r?1:0};t.effects.save(n,o),n.show(),t.effects.createWrapper(n),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===c?-s:s),u[l]=(r?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}})}}(jQuery),function(t,e){t.effects.effect.explode=function(e,i){function s(){d.css({visibility:"visible"}),t(v).remove(),p||d.hide(),i()}var n,o,a,r,h,l,c=e.pieces?Math.round(Math.sqrt(e.pieces)):3,u=c,d=t(this),p="show"===t.effects.setMode(d,e.mode||"hide"),f=d.show().css("visibility","hidden").offset(),g=Math.ceil(d.outerWidth()/u),m=Math.ceil(d.outerHeight()/c),v=[];for(n=0;n<c;n++)for(r=f.top+n*m,l=n-(c-1)/2,o=0;o<u;o++)a=f.left+o*g,h=o-(u-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*g,top:-n*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:a+(p?h*g:0),top:r+(p?l*m:0),opacity:p?0:1}).animate({left:a+(p?0:h*g),top:r+(p?0:l*m),opacity:p?1:0},e.duration||500,e.easing,function(){v.push(this),v.length===c*u&&s()})}}(jQuery),function(t,e){t.effects.effect.fade=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}(jQuery),function(t,e){t.effects.effect.fold=function(e,i){var s,n,o=t(this),a=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(o,e.mode||"hide"),h="show"===r,l="hide"===r,c=e.size||15,u=/([0-9]+)%/.exec(c),d=!!e.horizFirst,p=h!==d,f=p?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(o,a),o.show(),s=t.effects.createWrapper(o).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],u&&(c=parseInt(u[1],10)/100*n[l?0:1]),h&&s.css(d?{height:0,width:c}:{height:c,width:0}),m[f[0]]=h?n[0]:c,v[f[1]]=h?n[1]:0,s.animate(m,g,e.easing).animate(v,g,e.easing,function(){l&&o.hide(),t.effects.restore(o,a),t.effects.removeWrapper(o),i()})}}(jQuery),function(t,e){t.effects.effect.highlight=function(e,i){var s=t(this),n=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(s,e.mode||"show"),a={backgroundColor:s.css("backgroundColor")};"hide"===o&&(a.opacity=0),t.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&s.hide(),t.effects.restore(s,n),i()}})}}(jQuery),function(t,e){t.effects.effect.pulsate=function(e,i){var s,n=t(this),o=t.effects.setMode(n,e.mode||"show"),a="show"===o,r="hide"===o,h=a||"hide"===o,l=2*(e.times||5)+(h?1:0),c=e.duration/l,u=0,d=n.queue(),p=d.length;for(!a&&n.is(":visible")||(n.css("opacity",0).show(),u=1),s=1;s<l;s++)n.animate({opacity:u},c,e.easing),u=1-u;n.animate({opacity:u},c,e.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,l+1))),n.dequeue()}}(jQuery),function(t,e){t.effects.effect.puff=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"hide"),o="hide"===n,a=parseInt(e.percent,10)||150,r=a/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:o?a:100,from:o?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(e)},t.effects.effect.scale=function(e,i){var s=t(this),n=t.extend(!0,{},e),o=t.effects.setMode(s,e.mode||"effect"),a=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),r=e.direction||"both",h=e.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},c={y:"horizontal"!==r?a/100:1,x:"vertical"!==r?a/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==o&&(n.origin=h||["middle","center"],n.restore=!0),n.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*c.y,width:l.width*c.x,outerHeight:l.outerHeight*c.y,outerWidth:l.outerWidth*c.x},n.fade&&("show"===o&&(n.from.opacity=0,n.to.opacity=1),"hide"===o&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},t.effects.effect.size=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(a,e.mode||"effect"),f=e.restore||"effect"!==p,g=e.scale||"both",m=e.origin||["middle","center"],v=a.css("position"),_=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&a.show(),s={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===e.mode&&"show"===p?(a.from=e.to||b,a.to=e.from||s):(a.from=e.from||("show"===p?b:s),a.to=e.to||("hide"===p?b:s)),o={from:{y:a.from.height/s.height,x:a.from.width/s.width},to:{y:a.to.height/s.height,x:a.to.width/s.width}},"box"!==g&&"both"!==g||(o.from.y!==o.to.y&&(_=_.concat(u),a.from=t.effects.setTransition(a,u,o.from.y,a.from),a.to=t.effects.setTransition(a,u,o.to.y,a.to)),o.from.x!==o.to.x&&(_=_.concat(d),a.from=t.effects.setTransition(a,d,o.from.x,a.from),a.to=t.effects.setTransition(a,d,o.to.x,a.to))),"content"!==g&&"both"!==g||o.from.y!==o.to.y&&(_=_.concat(c).concat(l),a.from=t.effects.setTransition(a,c,o.from.y,a.from),a.to=t.effects.setTransition(a,c,o.to.y,a.to)),t.effects.save(a,_),a.show(),t.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),m&&(n=t.effects.getBaseline(m,s),a.from.top=(s.outerHeight-a.outerHeight())*n.y,a.from.left=(s.outerWidth-a.outerWidth())*n.x,a.to.top=(s.outerHeight-a.to.outerHeight)*n.y,a.to.left=(s.outerWidth-a.to.outerWidth)*n.x),a.css(a.from),"content"!==g&&"both"!==g||(u=u.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),l=r.concat(u).concat(d),a.find("*[width]").each(function(){var i=t(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,l),i.from={height:s.height*o.from.y,width:s.width*o.from.x,outerHeight:s.outerHeight*o.from.y,outerWidth:s.outerWidth*o.from.x},i.to={height:s.height*o.to.y,width:s.width*o.to.x,outerHeight:s.height*o.to.y,outerWidth:s.width*o.to.x},o.from.y!==o.to.y&&(i.from=t.effects.setTransition(i,u,o.from.y,i.from),i.to=t.effects.setTransition(i,u,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=t.effects.setTransition(i,d,o.from.x,i.from),i.to=t.effects.setTransition(i,d,o.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,l)})})),a.animate(a.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===p&&a.hide(),t.effects.restore(a,_),f||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):t.each(["top","left"],function(t,e){a.css(e,function(e,i){var s=parseInt(i,10),n=t?a.to.left:a.to.top;return"auto"===i?n+"px":s+n+"px"})})),t.effects.removeWrapper(a),i()}})}}(jQuery),function(t,e){t.effects.effect.shake=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(n,e.mode||"effect"),r=e.direction||"left",h=e.distance||20,l=e.times||3,c=2*l+1,u=Math.round(e.duration/c),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},g={},m={},v=n.queue(),_=v.length;for(t.effects.save(n,o),n.show(),t.effects.createWrapper(n),f[d]=(p?"-=":"+=")+h,g[d]=(p?"+=":"-=")+2*h,m[d]=(p?"-=":"+=")+2*h,n.animate(f,u,e.easing),s=1;s<l;s++)n.animate(g,u,e.easing).animate(m,u,e.easing);n.animate(g,u,e.easing).animate(f,u/2,e.easing).queue(function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,c+1))),n.dequeue()}}(jQuery),function(t,e){t.effects.effect.slide=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","width","height"],a=t.effects.setMode(n,e.mode||"show"),r="show"===a,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u={};t.effects.save(n,o),n.show(),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,c?isNaN(s)?"-"+s:-s:s),u[l]=(r?c?"+=":"-=":c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}})}}(jQuery),function(t,e){t.effects.effect.transfer=function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t(\'<div class="ui-effects-transfer"></div>\').appendTo(document.body).addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),i()})}}(jQuery);',address:t.uri}),e.global.require=i,e.global.define=s,e.get("@@global-helpers").retrieveGlobal(t.id,void 0)});
/*can/event/event*/
define("can/event/event",["can/util/can"],function(t){return t.addEvent=function(t,n){var e=this.__bindEvents||(this.__bindEvents={});return(e[t]||(e[t]=[])).push({handler:n,name:t}),this},t.listenTo=function(n,e,i){var r=this.__listenToEvents;r||(r=this.__listenToEvents={});var s=t.cid(n),o=r[s];o||(o=r[s]={obj:n,events:{}});var v=o.events[e];v||(v=o.events[e]=[]),v.push(i),t.bind.call(n,e,i)},t.stopListening=function(n,e,i){var r=this.__listenToEvents,s=r,o=0;if(!r)return this;if(n){var v=t.cid(n);if((s={})[v]=r[v],!r[v])return this}for(var a in s){var l,h=s[a];n=r[a].obj,e?(l={})[e]=h.events[e]:l=h.events;for(var d in l){var c=l[d]||[];for(o=0;o<c.length;)i&&i===c[o]||!i?(t.unbind.call(n,d,c[o]),c.splice(o,1)):o++;c.length||delete h.events[d]}t.isEmptyObject(h.events)&&delete r[a]}return this},t.removeEvent=function(t,n,e){if(!this.__bindEvents)return this;for(var i,r=this.__bindEvents[t]||[],s=0,o="function"==typeof n;s<r.length;)i=r[s],(e?e(i,t,n):o&&i.handler===n||!o&&(i.cid===n||!n))?r.splice(s,1):s++;return this},t.dispatch=function(t,n){var e=this.__bindEvents;if(e){var i;"string"==typeof t?(i=t,t={type:t}):i=t.type;var r=e[i];if(r){r=r.slice(0);var s=[t];n&&s.push.apply(s,n);for(var o=0,v=r.length;o<v;o++)r[o].handler.apply(this,s);return t}}},t.one=function(n,e){var i=function(){return t.unbind.call(this,n,i),e.apply(this,arguments)};return t.bind.call(this,n,i),this},t.event={on:function(){return 0===arguments.length&&t.Control&&this instanceof t.Control?t.Control.prototype.on.call(this):t.addEvent.apply(this,arguments)},off:function(){return 0===arguments.length&&t.Control&&this instanceof t.Control?t.Control.prototype.off.call(this):t.removeEvent.apply(this,arguments)},bind:t.addEvent,unbind:t.removeEvent,delegate:function(n,e,i){return t.addEvent.call(this,e,i)},undelegate:function(n,e,i){return t.removeEvent.call(this,e,i)},trigger:t.dispatch,one:t.one,addEvent:t.addEvent,removeEvent:t.removeEvent,listenTo:t.listenTo,stopListening:t.stopListening,dispatch:t.dispatch},t.event});
/*can/util/jquery/jquery*/
define("can/util/jquery/jquery",["jquery/jquery","can/util/can","can/util/attr/attr","can/event/event","can/util/fragment","can/util/array/each","can/util/inserted/inserted"],function(t,e,n,r){var i=function(t){return t.nodeName&&(1===t.nodeType||9===t.nodeType)||t==window||t.addEventListener};(t=t||window.jQuery).extend(e,t,{trigger:function(n,r,a,s){i(n)?t.event.trigger(r,a,n,!s):n.trigger?n.trigger(r,a):("string"==typeof r&&(r={type:r}),r.target=r.target||n,a&&(a.length&&"string"==typeof a?a=[a]:a.length||(a=[a])),a||(a=[]),e.dispatch.call(n,r,a))},event:e.event,addEvent:e.addEvent,removeEvent:e.removeEvent,buildFragment:e.buildFragment,$:t,each:e.each,bind:function(n,r){return this.bind&&this.bind!==e.bind?this.bind(n,r):i(this)?t.event.add(this,n,r):e.addEvent.call(this,n,r),this},unbind:function(n,r){return this.unbind&&this.unbind!==e.unbind?this.unbind(n,r):i(this)?t.event.remove(this,n,r):e.removeEvent.call(this,n,r),this},delegate:function(n,r,a){return this.delegate?this.delegate(n,r,a):i(this)?t(this).delegate(n,r,a):e.bind.call(this,r,a),this},undelegate:function(n,r,a){return this.undelegate?this.undelegate(n,r,a):i(this)?t(this).undelegate(n,r,a):e.unbind.call(this,r,a),this},proxy:e.proxy,attr:n}),e.on=e.bind,e.off=e.unbind,t.each(["append","filter","addClass","remove","data","get","has"],function(t,n){e[n]=function(t){return t[n].apply(t,e.makeArray(arguments).slice(1))}});var a=t.cleanData;t.cleanData=function(n){t.each(n,function(t,n){n&&e.trigger(n,"removed",[],!1)}),a(n)};var s,u=t.fn.domManip;t.fn.domManip=function(t,e,n){for(var r=1;r<arguments.length;r++)if("function"==typeof arguments[r]){s=r;break}return u.apply(this,arguments)},t(document.createElement("div")).append(document.createElement("div"));var d=function(t){var n=t.childNodes;if("length"in n)return e.makeArray(n);for(var r=t.firstChild,i=[];r;)i.push(r),r=r.nextSibling;return i};void 0===s?(t.fn.domManip=u,e.each(["after","prepend","before","append","replaceWith"],function(n){var r=t.fn[n];t.fn[n]=function(){var t=[],n=e.makeArray(arguments);null!=n[0]&&("string"==typeof n[0]&&(n[0]=e.buildFragment(n[0])),t=11===n[0].nodeType?d(n[0]):e.isArrayLike(n[0])?e.makeArray(n[0]):[n[0]]);var i=r.apply(this,n);return e.inserted(t),i}})):t.fn.domManip=2===s?function(t,n,r){return u.call(this,t,n,function(t){var n;11===t.nodeType&&(n=e.makeArray(e.childNodes(t)));var i=r.apply(this,arguments);return e.inserted(n||[t]),i})}:function(t,n){return u.call(this,t,function(t){var r;11===t.nodeType&&(r=e.makeArray(e.childNodes(t)));var i=n.apply(this,arguments);return e.inserted(r||[t]),i})};var l=t.attr;t.attr=function(t,n){if(e.isDOM(t)&&e.attr.MutationObserver)return l.apply(this,arguments);var r,i;arguments.length>=3&&(r=l.call(this,t,n));var a=l.apply(this,arguments);return arguments.length>=3&&(i=l.call(this,t,n)),i!==r&&e.attr.trigger(t,n,r),a};var o=t.removeAttr;return t.removeAttr=function(t,n){if(e.isDOM(t)&&e.attr.MutationObserver)return o.apply(this,arguments);var r=l.call(this,t,n),i=o.apply(this,arguments);return null!=r&&e.attr.trigger(t,n,r),i},t.event.special.attributes={setup:function(){if(e.isDOM(this)&&e.attr.MutationObserver){var t=this,n=new e.attr.MutationObserver(function(n){n.forEach(function(n){var r=e.simpleExtend({},n);e.trigger(t,r,[])})});n.observe(this,{attributes:!0,attributeOldValue:!0}),e.data(e.$(this),"canAttributesObserver",n)}else e.data(e.$(this),"canHasAttributesBindings",!0)},teardown:function(){e.isDOM(this)&&e.attr.MutationObserver?(e.data(e.$(this),"canAttributesObserver").disconnect(),t.removeData(this,"canAttributesObserver")):t.removeData(this,"canHasAttributesBindings")}},t.event.special.inserted={},t.event.special.removed={},e});
/*can/util/util*/
define("can/util/util",["can/util/jquery/jquery"],function(u){return u});
/*can/util/inserted/inserted*/
define("can/util/inserted/inserted",["can/util/can"],function(e){e.inserted=function(n,r){if(n.length){n=e.makeArray(n);for(var i,t,a=r||n[0].ownerDocument||n[0],d=!1,o=e.$(a.contains?a:a.body),s=0;void 0!==(t=n[s]);s++){if(!d){if(!t.getElementsByTagName)continue;if(!e.has(o,t).length)return;d=!0}if(d&&t.getElementsByTagName){i=e.makeArray(t.getElementsByTagName("*")),e.trigger(t,"inserted",[],!1);for(var f,c=0;void 0!==(f=i[c]);c++)e.trigger(f,"inserted",[],!1)}}}},e.appendChild=function(n,r,i){var t;t=11===r.nodeType?e.makeArray(e.childNodes(r)):[r],n.appendChild(r),e.inserted(t,i)},e.insertBefore=function(n,r,i,t){var a;a=11===r.nodeType?e.makeArray(e.childNodes(r)):[r],n.insertBefore(r,i),e.inserted(a,t)}});
/*lib/polyfills/object/is*/
define("lib/polyfills/object/is",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:"Object.is||(Object.is=function(t,c){return t===c?0!==t||1/t==1/c:t!==t&&c!==c});",address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/object/keys*/
define("lib/polyfills/object/keys",["module","@loader","require"],function(e,l,r){l.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var o=l.global.define,r=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:"Object.keys=Object.keys||function(e,n,r){r=[];for(n in e)r.hasOwnProperty.call(e,n)&&r.push(n);return r};",address:e.uri}),l.global.require=r,l.global.define=o,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/object/size*/
define("lib/polyfills/object/size",["module","@loader","require"],function(e,l,r){l.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var i=l.global.define,r=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:"Object.size=Object.size||function(e){var i=0;for(var r in e)void 0!==e[r]&&i++;return i};",address:e.uri}),l.global.require=r,l.global.define=i,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/object/values*/
define("lib/polyfills/object/values",["module","@loader","require"],function(e,l,r){l.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var o=l.global.define,r=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:"Object.values=Object.values||function(r){var e=[];for(var a in r)r.hasOwnProperty(a)&&e.push(r[a]);return e};",address:e.uri}),l.global.require=r,l.global.define=o,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/object/assign*/
define("lib/polyfills/object/assign",["module","@loader","require"],function(e,r,o){r.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var l=r.global.define,o=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'"function"!=typeof Object.assign&&(Object.assign=function(n,t){"use strict";if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(n),e=1;e<arguments.length;e++){var o=arguments[e];if(null!=o)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(r[c]=o[c])}return r});',address:e.uri}),r.global.require=o,r.global.define=l,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/object/entries*/
define("lib/polyfills/object/entries",["module","@loader","require"],function(e,r,l){r.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var t=r.global.define,l=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:"Object.entries||(Object.entries=function(e){for(var r=Object.keys(e),t=r.length,n=new Array(t);t--;)n[t]=[r[t],e[r[t]]];return n}),Object.fromEntries||(Object.fromEntries=function(e){return e.reduce(function(e,r){return e[r[0]]=r[1],e},{})});",address:e.uri}),r.global.require=l,r.global.define=t,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/array/find*/
define("lib/polyfills/array/find",["module","@loader","require"],function(e,r,i){r.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var o=r.global.define,i=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(r){if(null==this)throw new TypeError(\'"this" is null or not defined\');var e=Object(this),t=e.length>>>0;if("function"!=typeof r)throw new TypeError("predicate must be a function");for(var n=arguments[1],i=0;i<t;){var o=e[i];if(r.call(n,o,i,e))return o;i++}},configurable:!0,writable:!0});',address:e.uri}),r.global.require=i,r.global.define=o,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/array/find-index*/
define("lib/polyfills/array/find-index",["module","@loader","require"],function(e,r,i){r.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var l=r.global.define,i=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(r){if(null==this)throw new TypeError(\'"this" is null or not defined\');var e=Object(this),t=e.length>>>0;if("function"!=typeof r)throw new TypeError("predicate must be a function");for(var n=arguments[1],i=0;i<t;){var o=e[i];if(r.call(n,o,i,e))return i;i++}return-1},configurable:!0,writable:!0});',address:e.uri}),r.global.require=i,r.global.define=l,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/array/from*/
define("lib/polyfills/array/from",["module","@loader","require"],function(r,e,n){e.get("@@global-helpers").prepareGlobal({require:n,name:r.id,deps:[]});var o=e.global.define,n=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'Array.from||(Array.from=function(){var r=Object.prototype.toString,n=function(n){return"function"==typeof n||"[object Function]"===r.call(n)},t=function(r){var n=Number(r);return isNaN(n)?0:0!==n&&isFinite(n)?(n>0?1:-1)*Math.floor(Math.abs(n)):n},e=Math.pow(2,53)-1,o=function(r){var n=t(r);return Math.min(Math.max(n,0),e)};return function(r){var t=this,e=Object(r);if(null==r)throw new TypeError("Array.from requires an array-like object - not null or undefined");var a,i=arguments.length>1?arguments[1]:void 0;if(void 0!==i){if(!n(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}for(var u,f=o(e.length),c=n(t)?Object(new t(f)):new Array(f),h=0;h<f;)u=e[h],c[h]=i?void 0===a?i(u,h):i.call(a,u,h):u,h+=1;return c.length=f,c}}());',address:r.uri}),e.global.require=n,e.global.define=o,e.get("@@global-helpers").retrieveGlobal(r.id,void 0)});
/*lib/polyfills/array/includes*/
define("lib/polyfills/array/includes",["module","@loader","require"],function(e,r,l){r.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var o=r.global.define,l=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(r,e){if(null==this)throw new TypeError(\'"this" is null or not defined\');var t=Object(this),n=t.length>>>0;if(0===n)return!1;for(var i=0|e,o=Math.max(i>=0?i:n-Math.abs(i),0);o<n;){if(function(r,e){return r===e||"number"==typeof r&&"number"==typeof e&&isNaN(r)&&isNaN(e)}(t[o],r))return!0;o++}return!1}});',address:e.uri}),r.global.require=l,r.global.define=o,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/jquery/debounce*/
define("lib/polyfills/jquery/debounce",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:"jQuery.debounce=jQuery.debounce||function(e,n,u){var c,t=function(){var t=this,o=arguments,i=u&&!c;clearTimeout(c),c=setTimeout(function(){c=null,u||e.apply(t,o)},n),i&&e.apply(t,o)};return t.cancel=function(){clearTimeout(c)},t};",address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/string/endsWith*/
define("lib/polyfills/string/endsWith",["module","@loader","require"],function(e,l,i){l.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var r=l.global.define,i=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:"String.prototype.endsWith||(String.prototype.endsWith=function(t,n){return(void 0===n||n>this.length)&&(n=this.length),this.substring(n-t.length,n)===t});",address:e.uri}),l.global.require=i,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/string/padStart*/
define("lib/polyfills/string/padStart",["module","@loader","require"],function(e,i,t){i.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var l=i.global.define,t=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'String.prototype.padStart||(String.prototype.padStart=function(t,i){return t>>=0,i=String(void 0!==i?i:" "),this.length>t?String(this):((t-=this.length)>i.length&&(i+=i.repeat(t/i.length)),i.slice(0,t)+String(this))});',address:e.uri}),i.global.require=t,i.global.define=l,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/string/startsWith*/
define("lib/polyfills/string/startsWith",["module","@loader","require"],function(e,r,l){r.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var t=r.global.define,l=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:"String.prototype.startsWith||(String.prototype.startsWith=function(t,r){return this.substr(!r||r<0?0:+r,t.length)===t});",address:e.uri}),r.global.require=l,r.global.define=t,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/string/includes*/
define("lib/polyfills/string/includes",["module","@loader","require"],function(e,l,r){l.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var i=l.global.define,r=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)});',address:e.uri}),l.global.require=r,l.global.define=i,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/url/url-polyfill*/
define("lib/polyfills/url/url-polyfill",["module","@loader","require"],function(e,t,n){t.get("@@global-helpers").prepareGlobal({require:n,name:e.id,deps:[]});var r=t.global.define,n=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'!function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),n=function(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n},r=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},i=function(e){return decodeURIComponent(String(e).replace(/\\+/g," "))};(function(){try{var t=e.URLSearchParams;return"a=1"===new t("?a=1").toString()&&"function"==typeof t.prototype.set}catch(e){return!1}})()||function(){var i=function(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"===t);else if("string"===t)""!==e&&this._fromString(e);else if(e instanceof i){var n=this;e.forEach(function(e,t){n.append(t,e)})}else{if(null===e||"object"!==t)throw new TypeError("Unsupported input\'s type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var r=0;r<e.length;r++){var o=e[r];if("[object Array]"!==Object.prototype.toString.call(o)&&2===o.length)throw new TypeError("Expected [string, any] as entry at index "+r+" of URLSearchParams\'s input");this.append(o[0],o[1])}else for(var a in e)e.hasOwnProperty(a)&&this.append(a,e[a])}},o=i.prototype;o.append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},o.delete=function(e){delete this._entries[e]},o.get=function(e){return e in this._entries?this._entries[e][0]:null},o.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},o.has=function(e){return e in this._entries},o.set=function(e,t){this._entries[e]=[String(t)]},o.forEach=function(e,t){var n;for(var r in this._entries)if(this._entries.hasOwnProperty(r)){n=this._entries[r];for(var i=0;i<n.length;i++)e.call(t,n[i],r,this)}},o.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),n(e)},o.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},o.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),n(e)},t&&(o[Symbol.iterator]=o.entries),o.toString=function(){var e=[];return this.forEach(function(t,n){e.push(r(n)+"="+r(t))}),e.join("&")},e.URLSearchParams=i}();var o=e.URLSearchParams.prototype;"function"!=typeof o.sort&&(o.sort=function(){var e=this,t=[];this.forEach(function(n,r){t.push([r,n]),e._entries||e.delete(r)}),t.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),e._entries&&(e._entries={});for(var n=0;n<t.length;n++)this.append(t[n][0],t[n][1])}),"function"!=typeof o._fromString&&Object.defineProperty(o,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var t=[];this.forEach(function(e,n){t.push(n)});for(o=0;o<t.length;o++)this.delete(t[o])}for(var n,r=(e=e.replace(/^\\?/,"")).split("&"),o=0;o<r.length;o++)n=r[o].split("="),this.append(i(n[0]),n.length>1?i(n[1]):"")}})}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(e){if(function(){try{var t=new e.URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()||function(){var t=e.URL,n=function(t,n){"string"!=typeof t&&(t=String(t));var r,i=document;if(n&&(void 0===e.location||n!==e.location.href)){(r=(i=document.implementation.createHTMLDocument("")).createElement("base")).href=n,i.head.appendChild(r);try{if(0!==r.href.indexOf(n))throw new Error(r.href)}catch(e){throw new Error("URL unable to set base "+n+" due to "+e)}}var o=i.createElement("a");if(o.href=t,r&&(i.body.appendChild(o),o.href=o.href),":"===o.protocol||!/:/.test(o.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o});var a=new e.URLSearchParams(this.search),c=!0,s=!0,h=this;["append","delete","set"].forEach(function(e){var t=a[e];a[e]=function(){t.apply(a,arguments),c&&(s=!1,h.search=a.toString(),s=!0)}}),Object.defineProperty(this,"searchParams",{value:a,enumerable:!0});var f=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==f&&(f=this.search,s&&(c=!1,this.searchParams._fromString(this.search),c=!0))}})},r=n.prototype,i=function(e){Object.defineProperty(r,e,{get:function(){return this._anchorElement[e]},set:function(t){this._anchorElement[e]=t},enumerable:!0})};["hash","host","hostname","port","protocol"].forEach(function(e){i(e)}),Object.defineProperty(r,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(r,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0}}),n.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},n.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},e.URL=n}(),void 0!==e.location&&!("origin"in e.location)){var t=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:t,enumerable:!0})}catch(n){setInterval(function(){e.location.origin=t()},100)}}}("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this);',address:e.uri}),t.global.require=n,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/number/isinteger*/
define("lib/polyfills/number/isinteger",["module","@loader","require"],function(e,l,r){l.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var i=l.global.define,r=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};',address:e.uri}),l.global.require=r,l.global.define=i,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/number/isnan*/
define("lib/polyfills/number/isnan",["module","@loader","require"],function(e,l,r){l.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var i=l.global.define,r=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Number.isNaN=Number.isNaN||function(N){return"number"==typeof N&&isNaN(N)};',address:e.uri}),l.global.require=r,l.global.define=i,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/polyfills/polyfills*/
define("lib/polyfills/polyfills",["./object/is","./object/keys","./object/size","./object/values","./object/assign","./object/entries","./array/find","./array/find-index","./array/from","./array/includes","./jquery/debounce","./string/endsWith","./string/padStart","./string/startsWith","./string/includes","./url/url-polyfill","./number/isinteger","./number/isnan"]);
/*public/js/libs/jquery-toggleattr/toggleattr.jquery.min*/
define("public/js/libs/jquery-toggleattr/toggleattr.jquery.min",["module","@loader","require"],function(e,r,l){r.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var t=r.global.define,l=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'jQuery.fn.toggleAttr=function(t,r,e){return e=null!=e?!!e:!this.filter("["+t+"]").length,r=r||"",e?this.attr(t,r):this.removeAttr(t),this};',address:e.uri}),r.global.require=l,r.global.define=t,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/vendor/modernizr/output/modernizr-build*/
define("lib/vendor/modernizr/output/modernizr-build",function(require,exports,module){!function(global,require,exports,module){!function(window,document,undefined){function is(e,t){return typeof e===t}function testRunner(){var e,t,n,r,i,o;for(var d in tests)if(tests.hasOwnProperty(d)){if(e=[],(t=tests[d]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=is(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)1===(o=e[i].split(".")).length?Modernizr[o[0]]=r:(!Modernizr[o[0]]||Modernizr[o[0]]instanceof Boolean||(Modernizr[o[0]]=new Boolean(Modernizr[o[0]])),Modernizr[o[0]][o[1]]=r),classes.push((r?"":"no-")+o.join("-"))}}function setClasses(e){var t=docElement.className,n=Modernizr._config.classPrefix||"";if(isSVG&&(t=t.baseVal),Modernizr._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}Modernizr._config.enableClasses&&(t+=" "+n+e.join(" "+n),isSVG?docElement.className.baseVal=t:docElement.className=t)}function addTest(e,t){if("object"==typeof e)for(var n in e)hasOwnProp(e,n)&&addTest(n,e[n]);else{var r=(e=e.toLowerCase()).split("."),i=Modernizr[r[0]];if(2==r.length&&(i=i[r[1]]),void 0!==i)return Modernizr;t="function"==typeof t?t():t,1==r.length?Modernizr[r[0]]=t:(!Modernizr[r[0]]||Modernizr[r[0]]instanceof Boolean||(Modernizr[r[0]]=new Boolean(Modernizr[r[0]])),Modernizr[r[0]][r[1]]=t),setClasses([(t&&0!=t?"":"no-")+r.join("-")]),Modernizr._trigger(e,t)}return Modernizr}function createElement(){return"function"!=typeof document.createElement?document.createElement(arguments[0]):isSVG?document.createElementNS.call(document,"http://www.w3.org/2000/svg",arguments[0]):document.createElement.apply(document,arguments)}function getBody(){var e=document.body;return e||((e=createElement(isSVG?"svg":"body")).fake=!0),e}function injectElementWithStyles(e,t,n,r){var i,o,d,a,s="modernizr",l=createElement("div"),c=getBody();if(parseInt(n,10))for(;n--;)(d=createElement("div")).id=r?r[n]:s+(n+1),l.appendChild(d);return i=createElement("style"),i.type="text/css",i.id="s"+s,(c.fake?c:l).appendChild(i),c.appendChild(l),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e)),l.id=s,c.fake&&(c.style.background="",c.style.overflow="hidden",a=docElement.style.overflow,docElement.style.overflow="hidden",docElement.appendChild(c)),o=t(l,e),c.fake?(c.parentNode.removeChild(c),docElement.style.overflow=a,docElement.offsetHeight):l.parentNode.removeChild(l),!!o}function contains(e,t){return!!~(""+e).indexOf(t)}function domToCSS(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function computedStyle(e,t,n){var r;if("getComputedStyle"in window){r=getComputedStyle.call(window,e,t);var i=window.console;null!==r?n&&(r=r.getPropertyValue(n)):i&&i[i.error?"error":"log"].call(i,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else r=!t&&e.currentStyle&&e.currentStyle[n];return r}function nativeTestProps(e,t){var n=e.length;if("CSS"in window&&"supports"in window.CSS){for(;n--;)if(window.CSS.supports(domToCSS(e[n]),t))return!0;return!1}if("CSSSupportsRule"in window){for(var r=[];n--;)r.push("("+domToCSS(e[n])+":"+t+")");return r=r.join(" or "),injectElementWithStyles("@supports ("+r+") { #modernizr { position: absolute; } }",function(e){return"absolute"==computedStyle(e,null,"position")})}return undefined}function cssToDOM(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function testProps(e,t,n,r){function i(){d&&(delete mStyle.style,delete mStyle.modElem)}if(r=!is(r,"undefined")&&r,!is(n,"undefined")){var o=nativeTestProps(e,n);if(!is(o,"undefined"))return o}for(var d,a,s,l,c,u=["modernizr","tspan","samp"];!mStyle.style&&u.length;)d=!0,mStyle.modElem=createElement(u.shift()),mStyle.style=mStyle.modElem.style;for(s=e.length,a=0;a<s;a++)if(l=e[a],c=mStyle.style[l],contains(l,"-")&&(l=cssToDOM(l)),mStyle.style[l]!==undefined){if(r||is(n,"undefined"))return i(),"pfx"!=t||l;try{mStyle.style[l]=n}catch(e){}if(mStyle.style[l]!=c)return i(),"pfx"!=t||l}return i(),!1}function fnBind(e,t){return function(){return e.apply(t,arguments)}}function testDOMProps(e,t,n){var r;for(var i in e)if(e[i]in t)return!1===n?e[i]:(r=t[e[i]],is(r,"function")?fnBind(r,n||t):r);return!1}function testPropsAll(e,t,n,r,i){var o=e.charAt(0).toUpperCase()+e.slice(1),d=(e+" "+cssomPrefixes.join(o+" ")+o).split(" ");return is(t,"string")||is(t,"undefined")?testProps(d,t,r,i):(d=(e+" "+domPrefixes.join(o+" ")+o).split(" "),testDOMProps(d,t,n))}function testAllProps(e,t,n){return testPropsAll(e,undefined,undefined,t,n)}function roundedEquals(e,t){return e-1===t||e===t||e+1===t}var tests=[],ModernizrProto={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){tests.push({name:e,fn:t,options:n})},addAsyncTest:function(e){tests.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=ModernizrProto,Modernizr=new Modernizr;var classes=[],docElement=document.documentElement,isSVG="svg"===docElement.nodeName.toLowerCase(),hasOwnProp;!function(){var e={}.hasOwnProperty;hasOwnProp=is(e,"undefined")||is(e.call,"undefined")?function(e,t){return t in e&&is(e.constructor.prototype[t],"undefined")}:function(t,n){return e.call(t,n)}}(),ModernizrProto._l={},ModernizrProto.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),Modernizr.hasOwnProperty(e)&&setTimeout(function(){Modernizr._trigger(e,Modernizr[e])},0)},ModernizrProto._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout(function(){var e;for(e=0;e<n.length;e++)(0,n[e])(t)},0),delete this._l[e]}},Modernizr._q.push(function(){ModernizrProto.addTest=addTest});var omPrefixes="Moz O ms Webkit",cssomPrefixes=ModernizrProto._config.usePrefixes?omPrefixes.split(" "):[];ModernizrProto._cssomPrefixes=cssomPrefixes;var atRule=function(e){var t,n=prefixes.length,r=window.CSSRule;if(void 0===r)return undefined;if(!e)return!1;if(e=e.replace(/^@/,""),(t=e.replace(/-/g,"_").toUpperCase()+"_RULE")in r)return"@"+e;for(var i=0;i<n;i++){var o=prefixes[i];if(o.toUpperCase()+"_"+t in r)return"@-"+o.toLowerCase()+"-"+e}return!1};ModernizrProto.atRule=atRule;var domPrefixes=ModernizrProto._config.usePrefixes?omPrefixes.toLowerCase().split(" "):[];ModernizrProto._domPrefixes=domPrefixes;var hasEvent=function(){var e=!("onblur"in document.documentElement);return function(t,n){var r;return!!t&&(n&&"string"!=typeof n||(n=createElement(n||"div")),t="on"+t,!(r=t in n)&&e&&(n.setAttribute||(n=createElement("div")),n.setAttribute(t,""),r="function"==typeof n[t],n[t]!==undefined&&(n[t]=undefined),n.removeAttribute(t)),r)}}();ModernizrProto.hasEvent=hasEvent;var html5;isSVG||function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=M.elements;return"string"==typeof e?e.split(" "):e}function i(e){var t=y[e[w]];return t||(t={},E++,e[w]=E,y[E]=t),t}function o(e,n,r){if(n||(n=t),f)return n.createElement(e);r||(r=i(n));var o;return!(o=r.cache[e]?r.cache[e].cloneNode():g.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e)).canHaveChildren||v.test(e)||o.tagUrn?o:r.frag.appendChild(o)}function d(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return M.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-:]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(M,t.frag)}function a(e){e||(e=t);var r=i(e);return!M.shivCSS||m||r.hasCSS||(r.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),f||d(e,r),e}function s(e){for(var t,n=e.getElementsByTagName("*"),i=n.length,o=RegExp("^(?:"+r().join("|")+")$","i"),d=[];i--;)t=n[i],o.test(t.nodeName)&&d.push(t.applyElement(l(t)));return d}function l(e){for(var t,n=e.attributes,r=n.length,i=e.ownerDocument.createElement(A+":"+e.nodeName);r--;)(t=n[r]).specified&&i.setAttribute(t.nodeName,t.nodeValue);return i.style.cssText=e.style.cssText,i}function c(e){for(var t,n=e.split("{"),i=n.length,o=RegExp("(^|[\\s,>+~])("+r().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),d="$1"+A+"\\:$2";i--;)(t=n[i]=n[i].split("}"))[t.length-1]=t[t.length-1].replace(o,d),n[i]=t.join("}");return n.join("{")}function u(e){for(var t=e.length;t--;)e[t].removeNode()}function p(e){function t(){clearTimeout(d._removeSheetTimer),r&&r.removeNode(!0),r=null}var r,o,d=i(e),a=e.namespaces,l=e.parentWindow;return!T||e.printShived?e:(void 0===a[A]&&a.add(A),l.attachEvent("onbeforeprint",function(){t();for(var i,d,a,l=e.styleSheets,u=[],p=l.length,m=Array(p);p--;)m[p]=l[p];for(;a=m.pop();)if(!a.disabled&&z.test(a.media)){try{d=(i=a.imports).length}catch(e){d=0}for(p=0;p<d;p++)m.push(i[p]);try{u.push(a.cssText)}catch(e){}}u=c(u.reverse().join("")),o=s(e),r=n(e,u)}),l.attachEvent("onafterprint",function(){u(o),clearTimeout(d._removeSheetTimer),d._removeSheetTimer=setTimeout(t,500)}),e.printShived=!0,e)}var m,f,h=e.html5||{},v=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,g=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,w="_html5shiv",E=0,y={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",m="hidden"in e,f=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){m=!0,f=!0}}();var M={elements:h.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==h.shivCSS,supportsUnknownElements:f,shivMethods:!1!==h.shivMethods,type:"default",shivDocument:a,createElement:o,createDocumentFragment:function(e,n){if(e||(e=t),f)return e.createDocumentFragment();for(var o=(n=n||i(e)).frag.cloneNode(),d=0,a=r(),s=a.length;d<s;d++)o.createElement(a[d]);return o},addElements:function(e,t){var n=M.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),M.elements=n+" "+e,a(t)}};e.html5=M,a(t);var z=/^$|\b(?:all|print)\b/,A="html5shiv",T=!f&&function(){var n=t.documentElement;return!(void 0===t.namespaces||void 0===t.parentWindow||void 0===n.applyElement||void 0===n.removeNode||void 0===e.attachEvent)}();M.type+=" print",M.shivPrint=p,p(t),"object"==typeof module&&module.exports&&(module.exports=M)}(void 0!==window?window:this,document);var err=function(){},warn=function(){};window.console&&(err=function(){var e=console.error?"error":"log";window.console[e].apply(window.console,Array.prototype.slice.call(arguments))},warn=function(){var e=console.warn?"warn":"log";window.console[e].apply(window.console,Array.prototype.slice.call(arguments))}),ModernizrProto.load=function(){"yepnope"in window?(warn("yepnope.js (aka Modernizr.load) is no longer included as part of Modernizr. yepnope appears to be available on the page, so well use it to handle this call to Modernizr.load, but please update your code to use yepnope directly.\n See http://github.com/Modernizr/Modernizr/issues/1182 for more information."),window.yepnope.apply(window,[].slice.call(arguments,0))):err("yepnope.js (aka Modernizr.load) is no longer included as part of Modernizr. Get it from http://yepnopejs.com. See http://github.com/Modernizr/Modernizr/issues/1182 for more information.")};var mq=function(){var e=window.matchMedia||window.msMatchMedia;return e?function(t){var n=e(t);return n&&n.matches||!1}:function(e){var t=!1;return injectElementWithStyles("@media "+e+" { #modernizr { position: absolute; } }",function(e){t="absolute"==(window.getComputedStyle?window.getComputedStyle(e,null):e.currentStyle).position}),t}}();ModernizrProto.mq=mq;var modElem={elem:createElement("modernizr")};Modernizr._q.push(function(){delete modElem.elem});var mStyle={style:modElem.elem.style};Modernizr._q.unshift(function(){delete mStyle.style}),ModernizrProto.testAllProps=testPropsAll;var prefixed=ModernizrProto.prefixed=function(e,t,n){return 0===e.indexOf("@")?atRule(e):(-1!=e.indexOf("-")&&(e=cssToDOM(e)),t?testPropsAll(e,t,n):testPropsAll(e,"pfx"))},prefixes=ModernizrProto._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];ModernizrProto._prefixes=prefixes;var prefixedCSS=ModernizrProto.prefixedCSS=function(e){var t=prefixed(e);return t&&domToCSS(t)};ModernizrProto.testAllProps=testAllProps;var testProp=ModernizrProto.testProp=function(e,t,n){return testProps([e],undefined,t,n)},testStyles=ModernizrProto.testStyles=injectElementWithStyles;Modernizr.addTest("adownload",!window.externalHost&&"download"in createElement("a")),Modernizr.addTest("applicationcache","applicationCache"in window),Modernizr.addTest("canvas",function(){var e=createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}),Modernizr.addTest("canvasblending",function(){if(!1===Modernizr.canvas)return!1;var e=createElement("canvas").getContext("2d");try{e.globalCompositeOperation="screen"}catch(e){}return"screen"===e.globalCompositeOperation}),Modernizr.addTest("customelements","customElements"in window);var crypto=prefixed("crypto",window);Modernizr.addTest("crypto",!!prefixed("subtle",crypto));var crypto=prefixed("crypto",window),supportsGetRandomValues;if(crypto&&"getRandomValues"in crypto&&"Uint32Array"in window){var array=new Uint32Array(10),values=crypto.getRandomValues(array);supportsGetRandomValues=values&&is(values[0],"number")}Modernizr.addTest("getrandomvalues",!!supportsGetRandomValues),Modernizr.addTest("cssall","all"in docElement.style),Modernizr.addTest("cssanimations",testAllProps("animationName","a",!0)),Modernizr.addTest("appearance",testAllProps("appearance")),Modernizr.addTest("backdropfilter",testAllProps("backdropFilter")),Modernizr.addTest("backgroundblendmode",prefixed("backgroundBlendMode","text")),Modernizr.addTest("backgroundcliptext",function(){return testAllProps("backgroundClip","text")}),Modernizr.addTest("borderimage",testAllProps("borderImage","url() 1",!0)),Modernizr.addTest("cssgridlegacy",testAllProps("grid-columns","10px",!0)),Modernizr.addTest("cssgrid",testAllProps("grid-template-rows","none",!0)),Modernizr.addTest("displayrunin",testAllProps("display","run-in"),{aliases:["display-runin"]});var CSS=window.CSS;Modernizr.addTest("cssescape",!!CSS&&"function"==typeof CSS.escape),Modernizr.addTest("cssmask",testAllProps("maskRepeat","repeat-x",!0)),Modernizr.addTest("objectfit",!!prefixed("objectFit"),{aliases:["object-fit"]}),Modernizr.addTest("overflowscrolling",testAllProps("overflowScrolling","touch",!0)),Modernizr.addTest("csspointerevents",function(){var e=createElement("a").style;return e.cssText="pointer-events:auto","auto"===e.pointerEvents}),Modernizr.addTest("csspositionsticky",function(){var e="position:",t=createElement("a").style;return t.cssText=e+prefixes.join("sticky;"+e).slice(0,-e.length),-1!==t.position.indexOf("sticky")}),Modernizr.addTest("cssreflections",testAllProps("boxReflect","above",!0)),Modernizr.addTest("regions",function(){if(isSVG)return!1;var e=prefixed("flowFrom"),t=prefixed("flowInto"),n=!1;if(!e||!t)return n;var r=createElement("iframe"),i=createElement("div"),o=createElement("div"),d=createElement("div"),a="modernizr_flow_for_regions_check";o.innerText="M",i.style.cssText="top: 150px; left: 150px; padding: 0px;",d.style.cssText="width: 50px; height: 50px; padding: 42px;",d.style[e]=a,i.appendChild(o),i.appendChild(d),docElement.appendChild(i);var s,l,c=o.getBoundingClientRect();return o.style[t]=a,s=o.getBoundingClientRect(),l=parseInt(s.left-c.left,10),docElement.removeChild(i),42==l?n=!0:(docElement.appendChild(r),c=r.getBoundingClientRect(),r.style[t]=a,s=r.getBoundingClientRect(),c.height>0&&c.height!==s.height&&0===s.height&&(n=!0)),o=d=i=r=undefined,n}),Modernizr.addTest("cssresize",testAllProps("resize","both",!0)),testStyles("#modernizr{overflow: scroll; width: 40px; height: 40px; }#"+prefixes.join("scrollbar{width:10px} #modernizr::").split("#").slice(1).join("#")+"scrollbar{width:10px}",function(e){Modernizr.addTest("cssscrollbar","scrollWidth"in e&&30==e.scrollWidth)}),Modernizr.addTest("scrollsnappoints",testAllProps("scrollSnapType")),Modernizr.addTest("shapes",testAllProps("shapeOutside","content-box",!0)),Modernizr.addTest("siblinggeneral",function(){return testStyles("#modernizr div {width:100px} #modernizr div ~ div {width:200px;display:block}",function(e){return 200==e.lastChild.offsetWidth},2)});var newSyntax="CSS"in window&&"supports"in window.CSS,oldSyntax="supportsCSS"in window;Modernizr.addTest("supports",newSyntax||oldSyntax),Modernizr.addTest("textalignlast",testAllProps("textAlignLast")),Modernizr.addTest("userselect",testAllProps("userSelect","none",!0)),Modernizr.addTest("cssvalid",function(){return testStyles("#modernizr input{height:0;border:0;padding:0;margin:0;width:10px} #modernizr input:valid{width:50px}",function(e){var t=createElement("input");return e.appendChild(t),t.clientWidth>10})}),testStyles("#modernizr1{width: 50vmax}#modernizr2{width:50px;height:50px;overflow:scroll}#modernizr3{position:fixed;top:0;left:0;bottom:0;right:0}",function(e){var t=e.childNodes[2],n=e.childNodes[1],r=e.childNodes[0],i=parseInt((n.offsetWidth-n.clientWidth)/2,10),o=r.clientWidth/100,d=r.clientHeight/100,a=parseInt(50*Math.max(o,d),10),s=parseInt(computedStyle(t,null,"width"),10);Modernizr.addTest("cssvmaxunit",roundedEquals(a,s)||roundedEquals(a,s-i))},3),Modernizr.addTest("willchange","willChange"in docElement.style),Modernizr.addTest("wrapflow",function(){var e=prefixed("wrapFlow");if(!e||isSVG)return!1;var t=e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-"),n=createElement("div"),r=createElement("div"),i=createElement("span");r.style.cssText="position: absolute; left: 50px; width: 100px; height: 20px;"+t+":end;",i.innerText="X",n.appendChild(r),n.appendChild(i),docElement.appendChild(n);var o=i.offsetLeft;return docElement.removeChild(n),r=i=n=undefined,150==o}),Modernizr.addTest("customprotocolhandler",function(){if(!navigator.registerProtocolHandler)return!1;try{navigator.registerProtocolHandler("thisShouldFail")}catch(e){return e instanceof TypeError}return!1}),Modernizr.addTest("customevent","CustomEvent"in window&&"function"==typeof window.CustomEvent),Modernizr.addTest("createelementattrs",function(){try{return"test"==createElement('<input name="test" />').getAttribute("name")}catch(e){return!1}},{aliases:["createelement-attrs"]}),Modernizr.addTest("microdata","getItems"in document),Modernizr.addTest("passiveeventlisteners",function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}),Modernizr.addTest("bdi",function(){var e=createElement("div"),t=createElement("bdi");t.innerHTML="&#1573;",e.appendChild(t),docElement.appendChild(e);var n="rtl"===computedStyle(t,null,"direction");return docElement.removeChild(e),n});var inputElem=createElement("input"),inputattrs="autocomplete autofocus list placeholder max min multiple pattern required step".split(" "),attrs={};Modernizr.input=function(e){for(var t=0,n=e.length;t<n;t++)attrs[e[t]]=!!(e[t]in inputElem);return attrs.list&&(attrs.list=!(!createElement("datalist")||!window.HTMLDataListElement)),attrs}(inputattrs),Modernizr.addTest("datalistelem",Modernizr.input.list),Modernizr.addTest("details",function(){var e,t=createElement("details");return"open"in t&&(testStyles("#modernizr details{display:block}",function(n){n.appendChild(t),t.innerHTML="<summary>a</summary>b",e=t.offsetHeight,t.open=!0,e=e!=t.offsetHeight}),e)}),Modernizr.addTest("outputelem","value"in createElement("output")),Modernizr.addTest("picture","HTMLPictureElement"in window),Modernizr.addTest("ruby",function(){function e(e,t){var n;return window.getComputedStyle?n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t):e.currentStyle&&(n=e.currentStyle[t]),n}function t(){docElement.removeChild(n),n=null,r=null,i=null}var n=createElement("ruby"),r=createElement("rt"),i=createElement("rp");return n.appendChild(i),n.appendChild(r),docElement.appendChild(n),"none"==e(i,"display")||"ruby"==e(n,"display")&&"ruby-text"==e(r,"display")||"6pt"==e(i,"fontSize")&&"6pt"==e(r,"fontSize")?(t(),!0):(t(),!1)}),Modernizr.addTest("template","content"in createElement("template")),Modernizr.addTest("time","valueAsDate"in createElement("time")),Modernizr.addTest("canvastext",function(){return!1!==Modernizr.canvas&&"function"==typeof createElement("canvas").getContext("2d").fillText}),Modernizr.addTest("emoji",function(){if(!Modernizr.canvastext)return!1;var e=12*(window.devicePixelRatio||1),t=createElement("canvas").getContext("2d");return t.fillStyle="#f00",t.textBaseline="top",t.font="32px Arial",t.fillText("",0,0),0!==t.getImageData(e,e,1,1).data[0]}),Modernizr.addTest("oninput",function(){var e,t=createElement("input");if(t.setAttribute("oninput","return"),hasEvent("oninput",docElement)||"function"==typeof t.oninput)return!0;try{var n=document.createEvent("KeyboardEvent");e=!1;var r=function(t){e=!0,t.preventDefault(),t.stopPropagation()};n.initKeyEvent("keypress",!0,!0,window,!1,!1,!1,!1,0,"e".charCodeAt(0)),docElement.appendChild(t),t.addEventListener("input",r,!1),t.focus(),t.dispatchEvent(n),t.removeEventListener("input",r,!1),docElement.removeChild(t)}catch(t){e=!1}return e}),Modernizr.addAsyncTest(function(){var e=new Image;e.onerror=function(){addTest("exiforientation",!1,{aliases:["exif-orientation"]})},e.onload=function(){addTest("exiforientation",2!==e.width,{aliases:["exif-orientation"]})},e.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAAABABIBAwABAAAABgASAAAAAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/iiiigD/2Q=="}),Modernizr.addTest("filereader",!!(window.File&&window.FileList&&window.FileReader)),Modernizr.addTest("filesystem",!!prefixed("requestFileSystem",window)),Modernizr.addAsyncTest(function(){var e,t=function(e){docElement.contains(e)||docElement.appendChild(e)},n=function(e){e.fake&&e.parentNode&&e.parentNode.removeChild(e)},r=function(e,t){var n=!!e;if(n&&((n=new Boolean(n)).blocked="blocked"===e),addTest("flash",function(){return n}),t&&a.contains(t)){for(;t.parentNode!==a;)t=t.parentNode;a.removeChild(t)}};try{e="ActiveXObject"in window&&"Pan"in new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}if(!("plugins"in navigator&&"Shockwave Flash"in navigator.plugins||e)||isSVG)r(!1);else{var i,o,d=createElement("embed"),a=getBody();if(d.type="application/x-shockwave-flash",a.appendChild(d),!("Pan"in d||e))return t(a),r("blocked",d),void n(a);i=function(){if(t(a),!docElement.contains(a))return a=document.body||a,d=createElement("embed"),d.type="application/x-shockwave-flash",a.appendChild(d),setTimeout(i,1e3);docElement.contains(d)?""!==(o=d.style.cssText)?r("blocked",d):r(!0,d):r("blocked"),n(a)},setTimeout(i,10)}}),Modernizr.addTest("capture","capture"in createElement("input")),Modernizr.addTest("fileinputdirectory",function(){var e=createElement("input");if(e.type="file","directory"in e)return!0;for(var t=0,n=domPrefixes.length;t<n;t++)if(domPrefixes[t]+"directory"in e)return!0;return!1}),Modernizr.addTest("formattribute",function(){var e,t=createElement("form"),n=createElement("input"),r=createElement("div"),i="formtest"+(new Date).getTime(),o=!1;t.id=i;try{n.setAttribute("form",i)}catch(t){document.createAttribute&&((e=document.createAttribute("form")).nodeValue=i,n.setAttributeNode(e))}return r.appendChild(t),r.appendChild(n),docElement.appendChild(r),o=t.elements&&1===t.elements.length&&n.form==t,r.parentNode.removeChild(r),o}),Modernizr.addTest("requestautocomplete",!!prefixed("requestAutocomplete",createElement("form"))),Modernizr.addTest("formvalidation",function(){var e=createElement("form");if(!("checkValidity"in e&&"addEventListener"in e))return!1;if("reportValidity"in e)return!0;var t,n=!1;return Modernizr.formvalidationapi=!0,e.addEventListener("submit",function(e){window.opera&&!window.operamini||e.preventDefault(),e.stopPropagation()},!1),e.innerHTML='<input name="modTest" required="required" /><button></button>',testStyles("#modernizr form{position:absolute;top:-99999em}",function(r){r.appendChild(e),(t=e.getElementsByTagName("input")[0]).addEventListener("invalid",function(e){n=!0,e.preventDefault(),e.stopPropagation()},!1),Modernizr.formvalidationmessage=!!t.validationMessage,e.getElementsByTagName("button")[0].click()}),n}),Modernizr.addTest("fullscreen",!(!prefixed("exitFullscreen",document,!1)&&!prefixed("cancelFullScreen",document,!1))),Modernizr.addTest("gamepads",!!prefixed("getGamepads",navigator)),Modernizr.addTest("hiddenscroll",function(){return testStyles("#modernizr {width:100px;height:100px;overflow:scroll}",function(e){return e.offsetWidth===e.clientWidth})}),addTest("htmlimports","import"in createElement("link")),Modernizr.addTest("seamless","seamless"in createElement("iframe")),Modernizr.addTest("srcdoc","srcdoc"in createElement("iframe")),Modernizr.addTest("srcset","srcset"in createElement("img")),Modernizr.addTest("inputformtarget",!!("formtarget"in createElement("input")),{aliases:["input-formtarget"]}),Modernizr.addTest("inputsearchevent",hasEvent("search"));var inputtypes="search tel url email datetime date month week time datetime-local number range color".split(" "),inputs={};Modernizr.inputtypes=function(e){for(var t,n,r,i=e.length,o=0;o<i;o++)inputElem.setAttribute("type",t=e[o]),(r="text"!==inputElem.type&&"style"in inputElem)&&(inputElem.value="1)",inputElem.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(t)&&inputElem.style.WebkitAppearance!==undefined?(docElement.appendChild(inputElem),r=(n=document.defaultView).getComputedStyle&&"textfield"!==n.getComputedStyle(inputElem,null).WebkitAppearance&&0!==inputElem.offsetHeight,docElement.removeChild(inputElem)):/^(search|tel)$/.test(t)||(r=/^(url|email)$/.test(t)?inputElem.checkValidity&&!1===inputElem.checkValidity():"1)"!=inputElem.value)),inputs[e[o]]=!!r;return inputs}(inputtypes),Modernizr.addTest("intl",!!prefixed("Intl",window)),Modernizr.addTest("ligatures",testAllProps("fontFeatureSettings",'"liga" 1')),Modernizr.addTest("olreversed","reversed"in createElement("ol")),Modernizr.addTest("mathml",function(){var e;return testStyles("#modernizr{position:absolute;display:inline-block}",function(t){t.innerHTML+="<math><mfrac><mi>xx</mi><mi>yy</mi></mfrac></math>",e=t.offsetHeight>t.offsetWidth}),e}),Modernizr.addTest("hovermq",mq("(hover)")),Modernizr.addTest("pointermq",mq("(pointer:coarse),(pointer:fine),(pointer:none)")),Modernizr.addTest("beacon","sendBeacon"in navigator),Modernizr.addTest("lowbandwidth",function(){var e=navigator.connection||{type:0};return 3==e.type||4==e.type||/^[23]g$/.test(e.type)}),Modernizr.addTest("eventsource","EventSource"in window),Modernizr.addTest("fetch","fetch"in window),Modernizr.addTest("notification",function(){if(!window.Notification||!window.Notification.requestPermission)return!1;if("granted"===window.Notification.permission)return!0;try{new window.Notification("")}catch(e){if("TypeError"===e.name)return!1}return!0}),Modernizr.addTest("pagevisibility",!!prefixed("hidden",document,!1)),Modernizr.addTest("performance",!!prefixed("performance",window)),Modernizr.addTest("pointerevents",function(){var e=!1,t=domPrefixes.length;for(e=Modernizr.hasEvent("pointerdown");t--&&!e;)hasEvent(domPrefixes[t]+"pointerdown")&&(e=!0);return e}),Modernizr.addTest("pointerlock",!!prefixed("exitPointerLock",document)),Modernizr.addAsyncTest(function(){function e(){clearTimeout(t),window.removeEventListener("deviceproximity",e),addTest("proximity",!0)}var t;"ondeviceproximity"in window&&"onuserproximity"in window?(window.addEventListener("deviceproximity",e),t=setTimeout(function(){window.removeEventListener("deviceproximity",e),addTest("proximity",!1)},300)):addTest("proximity",!1)}),Modernizr.addTest("quotamanagement",function(){var e=prefixed("temporaryStorage",navigator),t=prefixed("persistentStorage",navigator);return!(!e||!t)}),Modernizr.addTest("requestanimationframe",!!prefixed("requestAnimationFrame",window),{aliases:["raf"]}),Modernizr.addTest("serviceworker","serviceWorker"in navigator),Modernizr.addTest("speechrecognition",!!prefixed("SpeechRecognition",window)),Modernizr.addTest("speechsynthesis","SpeechSynthesisUtterance"in window),Modernizr.addTest("sessionstorage",function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}}),Modernizr.addTest("websqldatabase","openDatabase"in window),Modernizr.addTest("stylescoped","scoped"in createElement("style")),Modernizr.addTest("svgasimg",document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"));var toStringFn={}.toString;Modernizr.addTest("svgclippaths",function(){return!!document.createElementNS&&/SVGClipPath/.test(toStringFn.call(document.createElementNS("http://www.w3.org/2000/svg","clipPath")))}),Modernizr.addTest("svgfilters",function(){var e=!1;try{e="SVGFEColorMatrixElement"in window&&2==SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE}catch(e){}return e}),Modernizr.addTest("svgforeignobject",function(){return!!document.createElementNS&&/SVGForeignObject/.test(toStringFn.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}),Modernizr.addTest("inlinesvg",function(){var e=createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"==("undefined"!=typeof SVGRect&&e.firstChild&&e.firstChild.namespaceURI)}),Modernizr.addTest("smil",function(){return!!document.createElementNS&&/SVGAnimate/.test(toStringFn.call(document.createElementNS("http://www.w3.org/2000/svg","animate")))}),Modernizr.addTest("templatestrings",function(){var supports;try{eval("``"),supports=!0}catch(e){}return!!supports}),Modernizr.addTest("touchevents",function(){var e;if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)e=!0;else{var t=["@media (",prefixes.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");testStyles(t,function(t){e=9===t.offsetTop})}return e}),Modernizr.addTest("userdata",!!createElement("div").addBehavior),Modernizr.addTest("vibrate",!!prefixed("vibrate",navigator)),Modernizr.addTest("vml",function(){var e,t=createElement("div"),n=!1;return isSVG||(t.innerHTML='<v:shape id="vml_flag1" adj="1" />',"style"in(e=t.firstChild)&&(e.style.behavior="url(#default#VML)"),n=!e||"object"==typeof e.adj),n}),Modernizr.addTest("webintents",!!prefixed("startActivity",navigator)),Modernizr.addTest("webanimations","animate"in createElement("div")),Modernizr.addTest("webgl",function(){var e=createElement("canvas"),t="probablySupportsContext"in e?"probablySupportsContext":"supportsContext";return t in e?e[t]("webgl")||e[t]("experimental-webgl"):"WebGLRenderingContext"in window}),Modernizr.addAsyncTest(function(){if(Modernizr.webglextensions=!1,Modernizr.webgl){var e,t,n;try{n=(t=(e=createElement("canvas")).getContext("webgl")||e.getContext("experimental-webgl")).getSupportedExtensions()}catch(e){return}t!==undefined&&(Modernizr.webglextensions=new Boolean(!0));for(var r=-1,i=n.length;++r<i;)Modernizr.webglextensions[n[r]]=!0;e=undefined}}),Modernizr.addTest("peerconnection",!!prefixed("RTCPeerConnection",window)),Modernizr.addTest("datachannel",function(){if(!Modernizr.peerconnection)return!1;for(var e=0,t=domPrefixes.length;e<t;e++){var n=window[domPrefixes[e]+"RTCPeerConnection"];if(n)return"createDataChannel"in new n(null)}return!1}),Modernizr.addTest("getusermedia",!!prefixed("getUserMedia",navigator)),Modernizr.addTest("framed",window.location!=top.location),Modernizr.addTest("xdomainrequest","XDomainRequest"in window),testRunner(),setClasses(classes),delete ModernizrProto.addTest,delete ModernizrProto.addAsyncTest;for(var i=0;i<Modernizr._q.length;i++)Modernizr._q[i]();window.Modernizr=Modernizr}(window,document)}(function(){return this}(),require,exports,module)});
/*can/util/can*/
define("can/util/can",[],function(){var e="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global,o={};"undefined"!=typeof GLOBALCAN&&!1===GLOBALCAN||(e.can=o),o.global=e,o.k=function(){},o.isDeferred=function(e){return o.dev&&o.dev.warn("can.isDeferred: this function is deprecated and will be removed in a future release. can.isPromise replaces the functionality of can.isDeferred."),e&&"function"==typeof e.then&&"function"==typeof e.pipe},o.isPromise=function(e){return!!e&&(window.Promise&&e instanceof Promise||o.isFunction(e.then)&&(void 0===o.List||!(e instanceof o.List)))},o.isMapLike=function(e){return o.Map&&(e instanceof o.Map||e&&e.___get)};var n=0;o.cid=function(e,o){return e._cid||(n++,e._cid=(o||"")+n),e._cid},o.VERSION="2.3.28",o.simpleExtend=function(e,o){for(var n in o)e[n]=o[n];return e},o.last=function(e){return e&&e[e.length-1]},o.isDOM=function(e){return(e.ownerDocument||e)===o.global.document},o.childNodes=function(e){var o=e.childNodes;if("length"in o)return o;for(var n=e.firstChild,t=[];n;)t.push(n),n=n.nextSibling;return t};var t=Function.prototype.bind;o.proxy=t?function(e,o){return t.call(e,o)}:function(e,o){return function(){return e.apply(o,arguments)}},o.frag=function(e,n){var t,r=n||o.document||o.global.document;return e&&"string"!=typeof e?11===e.nodeType?e:"number"==typeof e.nodeType?((t=r.createDocumentFragment()).appendChild(e),t):"number"==typeof e.length?(t=r.createDocumentFragment(),o.each(e,function(e){t.appendChild(o.frag(e))}),o.childNodes(t).length||t.appendChild(r.createTextNode("")),t):(t=o.buildFragment(""+e,r),o.childNodes(t).length||t.appendChild(r.createTextNode("")),t):((t=o.buildFragment(null==e?"":""+e,r)).childNodes.length||t.appendChild(r.createTextNode("")),t)},o.scope=o.viewModel=function(e,n,t){e=o.$(e);var r=o.data(e,"scope")||o.data(e,"viewModel");switch(r||(r=new o.Map,o.data(e,"scope",r),o.data(e,"viewModel",r)),arguments.length){case 0:case 1:return r;case 2:return r.attr(n);default:return r.attr(n,t),e}};var r=function(e){var o=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return o?{href:o[0]||"",protocol:o[1]||"",authority:o[2]||"",host:o[3]||"",hostname:o[4]||"",port:o[5]||"",pathname:o[6]||"",search:o[7]||"",hash:o[8]||""}:null};return o.joinURIs=function(e,o){return o=r(o||""),e=r(e||""),o&&e?(o.protocol||e.protocol)+(o.protocol||o.authority?o.authority:e.authority)+function(e){var o=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?o.pop():o.push(e)}),o.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}(o.protocol||o.authority||"/"===o.pathname.charAt(0)?o.pathname:o.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+o.pathname:e.pathname)+(o.protocol||o.authority||o.pathname?o.search:o.search||e.search)+o.hash:null},o.import=function(e,n){var t=new o.Deferred;return"object"==typeof window.System&&o.isFunction(window.System.import)?window.System.import(e,{name:n}).then(o.proxy(t.resolve,t),o.proxy(t.reject,t)):window.define&&window.define.amd?window.require([e],function(e){t.resolve(e)}):window.steal?steal.steal(e,function(e){t.resolve(e)}):window.require?t.resolve(window.require(e)):t.resolve(),t.promise()},o.__observe=function(){},o.isNode="object"==typeof process&&"[object process]"==={}.toString.call(process),o.isBrowserWindow="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"==typeof SimpleDOM,o.isWebWorker="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,o.dev={warnTimeout:5e3,logLevel:0,warn:function(e){this.logLevel<2&&(Array.prototype.unshift.call(arguments,"WARN:"),void 0!==typeof window&&window.console&&console.warn?this._logger("warn",Array.prototype.slice.call(arguments)):window.console&&console.log?this._logger("log",Array.prototype.slice.call(arguments)):window.opera&&window.opera.postError&&window.opera.postError("steal.js WARNING: "+e))},log:function(e){this.logLevel<1&&(window.console&&console.log?(Array.prototype.unshift.call(arguments,"Info:"),this._logger("log",Array.prototype.slice.call(arguments))):window.opera&&window.opera.postError&&window.opera.postError("steal.js INFO: "+e))},_logger:function(e,o){try{console[e].apply(console,o)}catch(n){console[e](o)}}},o});
/*can/util/attr/attr*/
define("can/util/attr/attr",["can/util/can"],function(t){var e={xlink:"http://www.w3.org/1999/xlink"},r=t.global.setImmediate||function(t){return setTimeout(t,0)},n={input:!0,textarea:!0,select:!0},u=function(e,r){return r in e||t.document&&n[e.nodeName.toLowerCase()]},a={MutationObserver:t.global.MutationObserver||t.global.WebKitMutationObserver||t.global.MozMutationObserver,map:{class:function(t,e){return e=e||"","http://www.w3.org/2000/svg"===t.namespaceURI?t.setAttribute("class",e):t.className=e,e},value:"value",innertext:"innerText",innerhtml:"innerHTML",textcontent:"textContent",for:"htmlFor",checked:!0,disabled:!0,readonly:function(t,e){return t.readOnly=!(!e&&"string"!=typeof e),e},required:!0,src:function(t,e){return null==e||""===e?(t.removeAttribute("src"),null):(t.setAttribute("src",e),e)},style:function(){var e=t.global.document&&document.createElement("div");return e&&e.style&&"cssText"in e.style?function(t,e){return t.style.cssText=e||""}:function(t,e){return t.setAttribute("style",e)}}()},defaultValue:["input","textarea"],setAttrOrProp:function(t,e,r){e=e.toLowerCase(),!0!==a.map[e]||r?this.set(t,e,r):this.remove(t,e)},setSelectValue:function(t,e){if(null!=e)for(var r=t.getElementsByTagName("option"),n=0;n<r.length;n++)if(e==r[n].value)return void(r[n].selected=!0);t.selectedIndex=-1},set:function(e,r,n){var i=t.isDOM(e)&&a.MutationObserver;r=r.toLowerCase();var o;i||(o=a.get(e,r));var s,l=a.map[r];"function"==typeof l?s=l(e,n):!0===l&&u(e,r)?(s=e[r]=!0,"checked"===r&&"radio"===e.type&&t.inArray((e.nodeName+"").toLowerCase(),a.defaultValue)>=0&&(e.defaultChecked=!0)):"string"==typeof l&&u(e,l)?(s=n,e[l]===n&&"OPTION"!==e.nodeName.toUpperCase()||(e[l]=n),"value"===l&&t.inArray((e.nodeName+"").toLowerCase(),a.defaultValue)>=0&&(e.defaultValue=n)):a.setAttribute(e,r,n),i||s===o||a.trigger(e,r,o)},setAttribute:function(){var r=t.global.document;if(r&&document.createAttribute)try{r.createAttribute("{}")}catch(t){var n={},u=document.createElement("div");return function(t,r,a){var i,o,s,l=r.charAt(0);"{"!==l&&"("!==l&&"*"!==l||!t.setAttributeNode?1!==(s=r.split(":")).length?t.setAttributeNS(e[s[0]],r,a):t.setAttribute(r,a):((i=n[r])||(u.innerHTML="<div "+r+'=""></div>',i=n[r]=u.childNodes[0].attributes[0]),(o=i.cloneNode()).value=a,t.setAttributeNode(o))}}return function(t,e,r){t.setAttribute(e,r)}}(),trigger:function(e,n,u){if(t.data(t.$(e),"canHasAttributesBindings"))return n=n.toLowerCase(),r(function(){t.trigger(e,{type:"attributes",attributeName:n,target:e,oldValue:u,bubbles:!1},[])})},get:function(t,e){e=e.toLowerCase();var r=a.map[e];return"string"==typeof r&&u(t,r)?t[r]:!0===r&&u(t,e)?t[e]:t.getAttribute(e)},remove:function(t,e){e=e.toLowerCase();var r;a.MutationObserver||(r=a.get(t,e));var n=a.map[e];"function"==typeof n&&n(t,void 0),!0===n&&u(t,e)?t[e]=!1:"string"==typeof n&&u(t,n)?t[n]="":t.removeAttribute(e),a.MutationObserver||null==r||a.trigger(t,e,r)},has:function(){var e=t.global.document&&document.createElement("div");return e&&e.hasAttribute?function(t,e){return t.hasAttribute(e)}:function(t,e){return null!==t.getAttribute(e)}}()};return a});
/*can/util/array/isArrayLike*/
define("can/util/array/isArrayLike",["can/util/can"],function(n){n.isArrayLike=function(n){var e=n&&"boolean"!=typeof n&&"number"!=typeof n&&"length"in n&&n.length;return"function"!=typeof arr&&(0===e||"number"==typeof e&&e>0&&e-1 in n)}});
/*can/util/array/each*/
define("can/util/array/each",["can/util/can","can/util/array/isArrayLike"],function(a){return a.each=function(e,t,r){var i,n,l,c=0;if(e)if(a.isArrayLike(e))if(a.List&&e instanceof a.List)for(n=e.attr("length");c<n&&(l=e.attr(c),!1!==t.call(r||l,l,c,e));c++);else for(n=e.length;c<n&&(l=e[c],!1!==t.call(r||l,l,c,e));c++);else if("object"==typeof e)if(a.Map&&e instanceof a.Map||e===a.route){var f=a.Map.keys(e);for(c=0,n=f.length;c<n&&(i=f[c],l=e.attr(i),!1!==t.call(r||l,l,i,e));c++);}else for(i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&!1===t.call(r||e[i],e[i],i,e))break;return e},a});
/*can/util/array/makeArray*/
define('can/util/array/makeArray', [], function(){ return {}; });
/*can/util/domless/domless*/
define('can/util/domless/domless', [], function(){ return {}; });
/*can/view/view*/
define("can/view/view",["can/util/util"],function(e){var r=e.isFunction,n=e.makeArray,t=1,i=function(e){var r=function(){return c.frag(e.apply(this,arguments))};return r.render=function(){return e.apply(e,arguments)},r},o=function(r,n){if(!r.length)throw e.dev.log("can/view/view.js: There is no template or an empty template at "+n),new Error("can.view: No template or empty template:"+n)},u=function(n,t){if(r(n))return e.Deferred().resolve(n);var i,u,a,d="string"==typeof n?n:n.url,s=n.engine&&"."+n.engine||d.match(/\.[\w\d]+$/);if(d.match(/^#/)&&(d=d.substr(1)),(u=document.getElementById(d))&&(s="."+u.type.match(/\/(x\-)?(.+)/)[2]),s||c.cached[d]||(d+=s=c.ext),e.isArray(s)&&(s=s[0]),a=c.toId(d),d.match(/^\/\//)&&(d=d.substr(2),d=window.steal?steal.config().root.mapJoin(""+steal.id(d)):d),window.require&&require.toUrl&&(d=require.toUrl(d)),i=c.types[s],c.cached[a])return c.cached[a];if(u)return c.registerView(a,u.innerHTML,i);var f=new e.Deferred;return e.ajax({async:t,url:d,dataType:"text",error:function(e){o("",d),f.reject(e)},success:function(e){o(e,d),c.registerView(a,e,i,f)}}),f},a=function(r){var n=[];if(e.isPromise(r))return[r];for(var t in r)e.isPromise(r[t])&&n.push(r[t]);return n},d=function(r){return e.isArray(r)&&"success"===r[1]?r[0]:r},c=e.view=e.template=function(e,n,t,i){return r(t)&&(i=t,t=void 0),c.renderAs("fragment",e,n,t,i)};return e.extend(c,{frag:function(e,r){return c.hookup(c.fragment(e),r)},fragment:function(r){return e.frag(r,document)},toId:function(r){return e.map(r.toString().split(/\/|\./g),function(e){if(e)return e}).join("_")},toStr:function(e){return null==e?"":""+e},hookup:function(r,n){var t,i,o=[];return e.each(r.childNodes?e.makeArray(r.childNodes):r,function(r){1===r.nodeType&&(o.push(r),o.push.apply(o,e.makeArray(r.getElementsByTagName("*"))))}),e.each(o,function(e){e.getAttribute&&(t=e.getAttribute("data-view-id"))&&(i=c.hookups[t])&&(i(e,n,t),delete c.hookups[t],e.removeAttribute("data-view-id"))}),r},hookups:{},hook:function(e){return c.hookups[++t]=e," data-view-id='"+t+"'"},cached:{},cachedRenderers:{},cache:!0,register:function(r){this.types["."+r.suffix]=r,"undefined"!=typeof window&&window.steal&&steal.type&&steal.type(r.suffix+" view js",function(e,r,n){var t=c.types["."+e.type],i=c.toId(e.id+"");e.text=t.script(i,e.text),r()}),e[r.suffix]=c[r.suffix]=function(e,n){var t,o;if(!n)return o=function(){return t||(t=r.fragRenderer?r.fragRenderer(null,e):i(r.renderer(null,e))),t.apply(this,arguments)},o.render=function(){var n=r.renderer(null,e);return n.apply(n,arguments)},o;var u=function(){return t||(t=r.fragRenderer?r.fragRenderer(e,n):r.renderer(e,n)),t.apply(this,arguments)};return r.fragRenderer?c.preload(e,u):c.preloadStringRenderer(e,u)}},types:{},ext:".ejs",registerScript:function(e,r,n){return"can.view.preloadStringRenderer('"+r+"',"+c.types["."+e].script(r,n)+");"},preload:function(r,n){return(c.cached[r]=(new e.Deferred).resolve(function(e,r){return n.call(e,e,r)})).__view_id=r,c.cachedRenderers[r]=n,n},preloadStringRenderer:function(e,r){return this.preload(e,i(r))},render:function(r,n,t,i,o){return e.view.renderAs("string",r,n,t,i,o)},renderTo:function(e,r,n,t,i){return("string"===e&&r.render?r.render:r)(n,t,i)},renderAs:function(t,i,o,s,f,p){void 0!==f&&"string"==typeof f.expression&&(p=f,f=void 0),r(s)&&(f=s,s=void 0);var l,v,h,w,g=a(o);if(g.length)return l=new e.Deferred,v=e.extend({},o),g.push(u(i,!0)),e.when.apply(e,g).then(function(r){var i,u=n(arguments),a=u.pop();if(e.isPromise(o))v=d(r);else for(var c in o)e.isPromise(o[c])&&(v[c]=d(u.shift()));i=e.view.renderTo(t,a,v,s,p),l.resolve(i,v),f&&f(i,v)},function(){l.reject.apply(l,arguments)}),l;if(h=r(f),l=e.__notObserve(u)(i,h),h)w=l,l.then(function(r){f(o?e.view.renderTo(t,r,o,s,p):r)});else{if("resolved"===l.state()&&l.__view_id){var y=c.cachedRenderers[l.__view_id];return o?e.view.renderTo(t,y,o,s,p):y}l.then(function(r){w=o?e.view.renderTo(t,r,o,s,p):r})}return w},registerView:function(r,n,t,o){var u,a="object"==typeof t?t:c.types[t||c.ext];return u=a.fragRenderer?a.fragRenderer(r,n):i(a.renderer(r,n)),o=o||new e.Deferred,c.cache&&(c.cached[r]=o,o.__view_id=r,c.cachedRenderers[r]=u),o.resolve(u)},simpleHelper:function(r){return function(){var n=[],t=arguments;return e.each(t,function(e,r){if(r<=t.length){for(;e&&e.isComputed;)e=e();n.push(e)}}),r.apply(this,n)}}}),"undefined"!=typeof window&&window.steal&&steal.type&&steal.type("view js",function(e,r,n){var t=c.types["."+e.type],i=c.toId(e.id),o=t.plugin||"can/view/"+e.type,u=t.fragRenderer?"preload":"preloadStringRenderer";e.text="steal('can/view','"+o+"',function(can){return can.view."+u+"('"+i+"',"+e.text+");\n})",r()}),e});
/*lib/vendor/frog/can.view.view*/
define("lib/vendor/frog/can.view.view",["can/view/view"],function(e){e.extend(e.view,{toId:function(e){return e.toString()}})});
/*lib/vendor/frog/custom-functions*/
define("lib/vendor/frog/custom-functions",["module","@loader","require"],function(e,r,l){r.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var s=r.global.define,l=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'jQuery.fn.extend({replaceClass:function(s,t,a){var r;for($.isArray(s)||(s=(""+s).split(" ")),$.isArray(t)||(t=(""+t).split(" ")),!0===a&&s.forEach(function(t,a){s=s.concat(this.attr("class").match(new RegExp("([^ ]*"+t+"[^ ]*)","g")))}.bind(this)),r=0;r<s.length;r++)this.removeClass(s[r]);for(r=0;r<t.length;r++)this.addClass(t[r]);return this.attr("class")}});',address:e.uri}),r.global.require=l,r.global.define=s,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*public/js/libs/timezone/jstz.min*/
define("public/js/libs/timezone/jstz.min",["module","@loader","require"],function(a,e,i){e.get("@@global-helpers").prepareGlobal({require:i,name:a.id,deps:[]});var n=e.global.define,i=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'window.jstz=function(){var a=function(a){return null!==(a=-a.getTimezoneOffset())?a:0},e=function(){return a(new Date(2010,0,1,0,0,0,0))},i=function(){return a(new Date(2010,5,1,0,0,0,0))},n=function(){var a=e(),n=i(),r=e()-i();return new jstz.TimeZone(jstz.olson.timezones[0>r?a+",1":0<r?n+",1,s":a+",0"])};return{determine_timezone:function(){return"undefined"!=typeof console&&console.log("jstz.determine_timezone() is deprecated and will be removed in an upcoming version. Please use jstz.determine() instead."),n()},determine:n,date_is_dst:function(n){return 0!=(5<n.getMonth()?i():e())-(n=a(n))}}}(),jstz.TimeZone=function(a){var e=null,e=a;return void 0!==jstz.olson.ambiguity_list[e]&&function(){for(var a=jstz.olson.ambiguity_list[e],i=a.length,n=0,r=a[0];n<i;n+=1)if(r=a[n],jstz.date_is_dst(jstz.olson.dst_start_dates[r])){e=r;break}}(),{name:function(){return e}}},jstz.olson={},jstz.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"Etc/GMT+2","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,1":"Europe/Moscow","180,0":"Asia/Baghdad","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Yerevan","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},jstz.olson.dst_start_dates={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"Atlantic/Stanley":new Date(2011,8,4,7,0,0,0),"America/Asuncion":new Date(2011,9,2,3,0,0,0),"America/Santiago":new Date(2011,9,9,3,0,0,0),"America/Campo_Grande":new Date(2011,9,16,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2011,2,13,2,0,0,0),"America/New_York":new Date(2011,2,13,7,0,0,0),"Asia/Gaza":new Date(2011,2,26,23,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Minsk":new Date(2011,2,27,2,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Africa/Cairo":new Date(2010,3,30,4,0,0,0),"Asia/Yerevan":new Date(2011,2,27,4,0,0,0),"Asia/Baku":new Date(2011,2,27,8,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0)},jstz.olson.ambiguity_list={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Asuncion":["Atlantic/Stanley","America/Asuncion","America/Santiago","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":"Asia/Gaza Asia/Beirut Europe/Minsk Europe/Helsinki Europe/Istanbul Asia/Damascus Asia/Jerusalem Africa/Cairo".split(" "),"Asia/Yerevan":["Asia/Yerevan","Asia/Baku"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"]};',address:a.uri}),e.global.require=i,e.global.define=n,e.get("@@global-helpers").retrieveGlobal(a.id,void 0)});
/*lib/vendor/sprintf-js/src/sprintf*/
!function(e){function n(){var e=arguments[0],r=n.cache;return r[e]&&r.hasOwnProperty(e)||(r[e]=n.parse(e)),n.format.call(null,r[e],arguments)}function r(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,n){return Array(n+1).join(e)}var i={not_string:/[^s]/,number:/[dief]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fiosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};n.format=function(e,s){var o,a,l,f,c,p,u,d=1,g=e.length,h="",x=[],b=!0,y="";for(a=0;a<g;a++)if("string"===(h=r(e[a])))x[x.length]=e[a];else if("array"===h){if((f=e[a])[2])for(o=s[d],l=0;l<f[2].length;l++){if(!o.hasOwnProperty(f[2][l]))throw new Error(n("[sprintf] property '%s' does not exist",f[2][l]));o=o[f[2][l]]}else o=f[1]?s[f[1]]:s[d++];if("function"==r(o)&&(o=o()),i.not_string.test(f[8])&&"number"!=r(o)&&isNaN(o))throw new TypeError(n("[sprintf] expecting number but found %s",r(o)));switch(i.number.test(f[8])&&(b=o>=0),f[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":case"i":o=parseInt(o,10);break;case"e":o=f[7]?o.toExponential(f[7]):o.toExponential();break;case"f":o=f[7]?parseFloat(o).toFixed(f[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&f[7]?o.substring(0,f[7]):o;break;case"u":o>>>=0;break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}!i.number.test(f[8])||b&&!f[3]?y="":(y=b?"+":"-",o=o.toString().replace(i.sign,"")),p=f[4]?"0"===f[4]?"0":f[4].charAt(1):" ",u=f[6]-(y+o).length,c=f[6]&&u>0?t(p,u):"",x[x.length]=f[5]?y+o+c:"0"===p?y+c+o:c+y+o}return x.join("")},n.cache={},n.parse=function(e){for(var n=e,r=[],t=[],s=0;n;){if(null!==(r=i.text.exec(n)))t[t.length]=r[0];else if(null!==(r=i.modulo.exec(n)))t[t.length]="%";else{if(null===(r=i.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(r[2]){s|=1;var o=[],a=r[2],l=[];if(null===(l=i.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o[o.length]=l[1];""!==(a=a.substring(l[0].length));)if(null!==(l=i.key_access.exec(a)))o[o.length]=l[1];else{if(null===(l=i.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");o[o.length]=l[1]}r[2]=o}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");t[t.length]=r}n=n.substring(r[0].length)}return t};var s=function(e,r,t){return(t=(r||[]).slice(0)).splice(0,0,e),n.apply(null,t)};"undefined"!=typeof exports?(exports.sprintf=n,exports.vsprintf=s):(e.sprintf=n,e.vsprintf=s,"function"==typeof define&&define.amd&&define("lib/vendor/sprintf-js/src/sprintf",function(){return{sprintf:n,vsprintf:s}}))}("undefined"==typeof window?this:window);
/*public/js/libs/bootstrap/bootstrap*/
define("public/js/libs/bootstrap/bootstrap",["module","@loader","require"],function(t,e,i){e.get("@@global-helpers").prepareGlobal({require:i,name:t.id,deps:[]});var n=e.global.define,i=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'!function(t){"use strict";t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return i[t]}();return t&&{end:t}}()})}(window.jQuery),function(t){"use strict";var e=\'[data-dismiss="alert"]\',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){n.trigger("closed").remove()}var n,s=t(this),o=s.attr("data-target");o||(o=(o=s.attr("href"))&&o.replace(/.*(?=#[^\\s]*$)/,"")),n=t(o),e&&e.preventDefault(),n.length||(n=s.hasClass("alert")?s:s.parent()),n.trigger(e=t.Event("close")),e.isDefaultPrevented()||(n.removeClass("in"),t.support.transition&&n.hasClass("fade")?n.on(t.support.transition.end,i):i())};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),s=n.data("alert");s||n.data("alert",s=new i(this)),"string"==typeof e&&s[e].call(n)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.alert.data-api",e,i.prototype.close)}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,i)};e.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.data(),s=i.is("input")?"val":"html";t+="Text",n.resetText||i.data("resetText",i[s]()),i[s](n[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest(\'[data-toggle="buttons-radio"]\');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var n=t(this),s=n.data("button"),o="object"==typeof i&&i;s||n.data("button",s=new e(this,o)),"toggle"==i?s.toggle():i&&s.setState(i)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")})}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var i=this.getActiveIndex(),n=this;if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(e,i){var n,s=this.$element.find(".item.active"),o=i||s[e](),a=this.interval,r="next"==e?"left":"right",h="next"==e?"first":"last",l=this;if(this.sliding=!0,a&&this.pause(),o=o.length?o:this.$element.find(".item")[h](),n=t.Event("slide",{relatedTarget:o[0],direction:r}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(n),n.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,s.addClass(r),o.addClass(r),this.$element.one(t.support.transition.end,function(){o.removeClass([e,r].join(" ")).addClass("active"),s.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{if(this.$element.trigger(n),n.isDefaultPrevented())return;s.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var n=t(this),s=n.data("carousel"),o=t.extend({},t.fn.carousel.defaults,"object"==typeof i&&i),a="string"==typeof i?i:o.slide;s||n.data("carousel",s=new e(this,o)),"number"==typeof i?s.to(i):a?s[a]():o.interval&&s.pause().cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,n,s=t(this),o=t(s.attr("data-target")||(i=s.attr("href"))&&i.replace(/.*(?=#[^\\s]+$)/,"")),a=t.extend({},o.data(),s.data());o.carousel(a),(n=s.attr("data-slide-to"))&&o.data("carousel").pause().to(n).cycle(),e.preventDefault()})}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,i),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var e,i,n,s;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),i=t.camelCase(["scroll",e].join("-")),(n=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&n.length){if((s=n.data("collapse"))&&s.transitioning)return;n.collapse("hide"),s||n.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][i])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,i,n){var s=this,o=function(){"show"==i.type&&s.reset(),s.transitioning=0,s.$element.trigger(n)};this.$element.trigger(i),i.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var n=t(this),s=n.data("collapse"),o=t.extend({},t.fn.collapse.defaults,n.data(),"object"==typeof i&&i);s||n.data("collapse",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),s=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\\s]+$)/,""),o=t(s).data("collapse")?"toggle":n.data();n[t(s).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(s).collapse(o)})}(window.jQuery),function(t){"use strict";function e(){t(".dropdown-backdrop").remove(),t(n).each(function(){i(t(this)).removeClass("open")})}function i(e){var i,n=e.attr("data-target");return n||(n=(n=e.attr("href"))&&/#/.test(n)&&n.replace(/.*(?=#[^\\s]*$)/,"")),(i=n&&t(n))&&i.length||(i=e.parent()),i}var n="[data-toggle=dropdown]",s=function(e){var i=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};s.prototype={constructor:s,toggle:function(n){var s,o,a=t(this);if(!a.is(".disabled, :disabled"))return s=i(a),o=s.hasClass("open"),e(),o||("ontouchstart"in document.documentElement&&t(\'<div class="dropdown-backdrop"/>\').insertBefore(t(this)).on("click",e),s.toggleClass("open")),a.focus(),!1},keydown:function(e){var s,o,a,r,h;if(/(38|40|27)/.test(e.keyCode)&&(s=t(this),e.preventDefault(),e.stopPropagation(),!s.is(".disabled, :disabled"))){if(a=i(s),!(r=a.hasClass("open"))||r&&27==e.keyCode)return 27==e.which&&a.find(n).focus(),s.click();(o=t("[role=menu] li:not(.divider):visible a",a)).length&&(h=o.index(o.filter(":focus")),38==e.keyCode&&h>0&&h--,40==e.keyCode&&h<o.length-1&&h++,~h||(h=0),o.eq(h).focus())}}};var o=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("dropdown");n||i.data("dropdown",n=new s(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=o,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",n,s.prototype.toggle).on("keydown.dropdown.data-api",n+", [role=menu]",s.prototype.keydown)}(window.jQuery),function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e).delegate(\'[data-dismiss="modal"]\',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,i=t.Event("show");this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var i=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),i&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),i?e.$element.one(t.support.transition.end,function(){e.$element.focus().trigger("shown")}):e.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault();e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",function(t){e.$element[0]===t.target||e.$element.has(t.target).length||e.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,i=setTimeout(function(){e.$element.off(t.support.transition.end),e.hideModal()},500);this.$element.one(t.support.transition.end,function(){clearTimeout(i),e.hideModal()})},hideModal:function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t(\'<div class="modal-backdrop \'+i+\'" />\').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var i=t.fn.modal;t.fn.modal=function(i){return this.each(function(){var n=t(this),s=n.data("modal"),o=t.extend({},t.fn.modal.defaults,n.data(),"object"==typeof i&&i);s||n.data("modal",s=new e(this,o)),"string"==typeof i?s[i]():o.show&&s.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.modal.data-api",\'[data-toggle="modal"]\',function(e){var i=t(this),n=i.attr("href"),s=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\\s]+$)/,"")),o=s.data("modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),i.data());e.preventDefault(),s.modal(o).one("hide",function(){i.focus()})})}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,n){var s,o,a,r,h;for(this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.enabled=!0,h=(a=this.options.trigger.split(" ")).length;h--;)"click"==(r=a[h])?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=r&&(s="hover"==r?"mouseenter":"focus",o="hover"==r?"mouseleave":"blur",this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return(e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i,n=t.fn[this.type].defaults,s={};if(this._options&&t.each(this._options,function(t,e){n[t]!=e&&(s[t]=e)},this),!(i=t(e.currentTarget)[this.type](s).data(this.type)).options.delay||!i.options.delay.show)return i.show();clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!i.options.delay||!i.options.delay.hide)return i.hide();i.hoverState="out",this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)},show:function(){var e,i,n,s,o,a,r=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(r),r.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),i=this.getPosition(),n=e[0].offsetWidth,s=e[0].offsetHeight,o){case"bottom":a={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":a={top:i.top-s,left:i.left+i.width/2-n/2};break;case"left":a={top:i.top+i.height/2-s/2,left:i.left-n};break;case"right":a={top:i.top+i.height/2-s/2,left:i.left+i.width}}this.applyPlacement(a,o),this.$element.trigger("shown")}},applyPlacement:function(t,e){var i,n,s,o,a=this.tip(),r=a[0].offsetWidth,h=a[0].offsetHeight;a.offset(t).addClass(e).addClass("in"),i=a[0].offsetWidth,n=a[0].offsetHeight,"top"==e&&n!=h&&(t.top=t.top+h-n,o=!0),"bottom"==e||"top"==e?(s=0,t.left<0&&(s=-2*t.left,t.left=0,a.offset(t),i=a[0].offsetWidth,n=a[0].offsetHeight),this.replaceArrow(s-r+i,i,"left")):this.replaceArrow(n-h,n,"top"),o&&a.offset(t)},replaceArrow:function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){var e=this.tip(),i=t.Event("hide");if(this.$element.trigger(i),!i.isDefaultPrevented())return e.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?function(){var i=setTimeout(function(){e.off(t.support.transition.end).detach()},500);e.one(t.support.transition.end,function(){clearTimeout(i),e.detach()})}():e.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var i=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;i.tip().hasClass("in")?i.hide():i.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),s=n.data("tooltip"),o="object"==typeof i&&i;s||n.data("tooltip",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:\'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>\',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t=this.$element,e=this.options;return("function"==typeof e.content?e.content.call(t[0]):e.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),s=n.data("popover"),o="object"==typeof i&&i;s||n.data("popover",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:\'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>\'}),t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(window.jQuery),function(t){"use strict";function e(e,i){var n,s=t.proxy(this.process,this),o=t(t(e).is("body")?window:e);this.options=t.extend({},t.fn.scrollspy.defaults,i),this.$scrollElement=o.on("scroll.scroll-spy.data-api",s),this.selector=(this.options.target||(n=t(e).attr("href"))&&n.replace(/.*(?=#[^\\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e=this;this.offsets=t([]),this.targets=t([]),this.$body.find(this.selector).map(function(){var i=t(this),n=i.data("target")||i.attr("href"),s=/^#\\w/.test(n)&&t(n);return s&&s.length&&[[s.position().top+(!t.isWindow(e.$scrollElement.get(0))&&e.$scrollElement.scrollTop()),n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),n=this.offsets,s=this.targets,o=this.activeTarget;if(e>=i)return o!=(t=s.last()[0])&&this.activate(t);for(t=n.length;t--;)o!=s[t]&&e>=n[t]&&(!n[t+1]||e<=n[t+1])&&this.activate(s[t])},activate:function(e){var i,n;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),n=this.selector+\'[data-target="\'+e+\'"],\'+this.selector+\'[href="\'+e+\'"]\',(i=t(n).parent("li").addClass("active")).parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")}};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),s=n.data("scrollspy"),o="object"==typeof i&&i;s||n.data("scrollspy",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t(\'[data-spy="scroll"]\').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,i,n,s=this.element,o=s.closest("ul:not(.dropdown-menu)"),a=s.attr("data-target");a||(a=(a=s.attr("href"))&&a.replace(/.*(?=#[^\\s]*$)/,"")),s.parent("li").hasClass("active")||(e=o.find(".active:last a")[0],n=t.Event("show",{relatedTarget:e}),s.trigger(n),n.isDefaultPrevented()||(i=t(a),this.activate(s.parent("li"),o),this.activate(i,i.parent(),function(){s.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,i,n){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var o=i.find("> .active"),a=n&&t.support.transition&&o.hasClass("fade");a?o.one(t.support.transition.end,s):s(),o.removeClass("in")}};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),s=n.data("tab");s||n.data("tab",s=new e(this)),"string"==typeof i&&s[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.tab.data-api",\'[data-toggle="tab"], [data-toggle="pill"]\',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){var i;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(i=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source)?this.process(i):this},process:function(e){var i=this;return e=t.grep(e,function(t){return i.matcher(t)}),(e=this.sorter(e)).length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],n=[],s=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?n.push(e):s.push(e):i.push(e);return i.concat(n,s)},highlighter:function(t){var e=this.query.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,"\\\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var i=this;return(e=t(e).map(function(e,n){return(e=t(i.options.item).attr("data-value",n)).find("a").html(i.highlighter(n)),e[0]})).first().addClass("active"),this.$menu.html(e),this},next:function(e){var i=this.$menu.find(".active").removeClass("active"),n=i.next(),s=i.index()==this.$menu.find("li").length-1?0:i.index()+1;n.length||(n=t(this.$menu.find("li")[0])),n.addClass("active"),this.$menu[0].scrollTop=s*i.height()},prev:function(t){var e=this.$menu.find(".active").removeClass("active"),i=e.prev(),n=0==e.index()?this.$menu.find("li").length:i.index();i.length||(i=this.$menu.find("li").last()),i.addClass("active"),this.$menu[0].scrollTop=n*i.height()},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(t){this.focused=!0},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var i=t.fn.typeahead;t.fn.typeahead=function(i){return this.each(function(){var n=t(this),s=n.data("typeahead"),o="object"==typeof i&&i;s||n.data("typeahead",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.typeahead.defaults={source:[],items:8,menu:\'<ul class="typeahead dropdown-menu"></ul>\',item:\'<li><a href="#"></a></li>\',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=i,this},t(document).on("focus.typeahead.data-api",\'[data-provide="typeahead"]\',function(e){var i=t(this);i.data("typeahead")||i.typeahead(i.data())})}(window.jQuery),function(t){"use strict";var e=function(e,i){this.options=t.extend({},t.fn.affix.defaults,i),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy(function(){setTimeout(t.proxy(this.checkPosition,this),1)},this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,i=t(document).height(),n=this.$window.scrollTop(),s=this.$element.offset(),o=this.options.offset,a=o.bottom,r=o.top;"object"!=typeof o&&(a=r=o),"function"==typeof r&&(r=o.top()),"function"==typeof a&&(a=o.bottom()),e=!(null!=this.unpin&&n+this.unpin<=s.top)&&(null!=a&&s.top+this.$element.height()>=i-a?"bottom":null!=r&&n<=r&&"top"),this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?s.top-n:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(e?"-"+e:"")))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var n=t(this),s=n.data("affix"),o="object"==typeof i&&i;s||n.data("affix",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t(\'[data-spy="affix"]\').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(window.jQuery);',address:t.uri}),e.global.require=i,e.global.define=n,e.get("@@global-helpers").retrieveGlobal(t.id,void 0)});
/*can/util/string/string*/
define("can/util/string/string",["can/util/util"],function(e){var r=/_|-/,n=/\=\=/,t=/([A-Z]+)([A-Z][a-z])/g,a=/([a-z\d])([A-Z])/g,u=/([a-z\d])([A-Z])/g,i=/\{([^\}]+)\}/g,c=/"/g,o=/'/g,l=/-+(.)?/g,p=/[a-z][A-Z]/g,f=function(e,r,n){var t=e[r];return void 0===t&&!0===n&&(t=e[r]={}),t},g=function(e){return/^f|^o/.test(typeof e)},d=function(e){return""+(null===e||void 0===e||isNaN(e)&&""+e=="NaN"?"":e)};return e.extend(e,{esc:function(e){return d(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(c,"&#34;").replace(o,"&#39;")},getObject:function(r,n,t){var a,u,i,c,o=r?r.split("."):[],l=o.length,p=0;if(n=e.isArray(n)?n:[n||window],c=n.length,!l)return n[0];for(p;p<c;p++){for(a=n[p],i=void 0,u=0;u<l&&g(a);u++)a=f(i=a,o[u]);if(void 0!==i&&void 0!==a)break}if(!1===t&&void 0!==a&&delete i[o[u-1]],!0===t&&void 0===a)for(a=n[0],u=0;u<l&&g(a);u++)a=f(a,o[u],!0);return a},capitalize:function(e,r){return e.charAt(0).toUpperCase()+e.slice(1)},camelize:function(e){return d(e).replace(l,function(e,r){return r?r.toUpperCase():""})},hyphenate:function(e){return d(e).replace(p,function(e,r){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})},underscore:function(e){return e.replace(n,"/").replace(t,"$1_$2").replace(a,"$1_$2").replace(u,"_").toLowerCase()},sub:function(r,n,t){var a=[];return r=r||"",a.push(r.replace(i,function(r,u){var i=e.getObject(u,n,!0!==t&&void 0);return void 0===i||null===i?(a=null,""):g(i)&&a?(a.push(i),""):""+i})),null===a?a:a.length<=1?a[0]:a},replacer:i,undHash:r}),e});
/*can/util/bind/bind*/
define("can/util/bind/bind",["can/util/util"],function(i){return i.bindAndSetup=function(){return i.addEvent.apply(this,arguments),this.__inSetup||(this._bindings?this._bindings++:(this._bindings=1,this._bindsetup&&this._bindsetup())),this},i.unbindAndTeardown=function(n,t){if(!this.__bindEvents)return this;var s=this.__bindEvents[n]||[],d=s.length;return i.removeEvent.apply(this,arguments),null===this._bindings?this._bindings=0:this._bindings=this._bindings-(d-s.length),!this._bindings&&this._bindteardown&&this._bindteardown(),this},i});
/*can/util/batch/batch*/
define("can/util/batch/batch",["can/util/can"],function(t){var a=1,n=0,c=null,e=null,s=[],u=!1;t.batch={start:function(t){if(1==++n){var c={events:[],callbacks:[],number:a++};s.push(c),t&&c.callbacks.push(t),e=c}},stop:function(a,l){if(a?n=0:n--,0===n){e=null;var h;if(!1===u){u=!0;for(var r,i=[];h=s.shift();){var b=h.events;i.push.apply(i,h.callbacks),c=h,t.batch.batchNum=h.number;var p;for(l&&t.batch.start(),r=0,p=b.length;r<p;r++)t.dispatch.apply(b[r][0],b[r][1]);t.batch._onDispatchedEvents(h.number),c=null,t.batch.batchNum=void 0}for(r=i.length-1;r>=0;r--)i[r]();u=!1}}},_onDispatchedEvents:function(){},trigger:function(a,n,c){a.__inSetup||(n="string"==typeof n?{type:n}:n,e?(n.batchNum=e.number,e.events.push([a,[n,c]])):n.batchNum?t.dispatch.call(a,n,c):s.length?(t.batch.start(),n.batchNum=e.number,e.events.push([a,[n,c]]),t.batch.stop()):t.dispatch.call(a,n,c))},afterPreviousEvents:function(a){var n=t.last(s);if(n){var c={};t.bind.call(c,"ready",a),n.events.push([c,[{type:"ready"},[]]])}else a({})},after:function(t){var a=e||c;a?a.callbacks.push(t):t({})}}});
/*can/compute/read*/
define("can/compute/read",["can/util/util"],function(e){var t=function(e,r,a){for(var o,s,i={foundObservable:!1},u=n(e,0,r,a=a||{},i),d=r.length,l=0;l<d;){s=u;for(var v=0,f=t.propertyReaders.length;v<f;v++){var c=t.propertyReaders[v];if(c.test(u)){u=c.read(u,r[l],l,a,i);break}}if(l+=1,u=n(u,l,r,a,i,s),o=typeof u,l<r.length&&(null===u||"function"!==o&&"object"!==o))return a.earlyExit&&a.earlyExit(s,l-1,u),{value:void 0,parent:s}}return void 0===u&&a.earlyExit&&a.earlyExit(s,l-1),{value:u,parent:s}},r=function(e,t){var r=t[e-1];return r&&r.at},n=function(e,r,n,a,o,s){var i;do{i=!1;for(var u=0,d=t.valueReaders.length;u<d;u++)t.valueReaders[u].test(e,r,n,a)&&(e=t.valueReaders[u].read(e,r,n,a,o,s))}while(i);return e};t.valueReaders=[{name:"compute",test:function(e,t,n,a){return e&&e.isComputed&&!r(t,n)},read:function(t,r,n,a,o){return!1===a.readCompute&&r===n.length?t:(!o.foundObservable&&a.foundObservable&&(a.foundObservable(t,r),o.foundObservable=!0),t instanceof e.Compute?t.get():t())}},{name:"function",test:function(t,r,n,a){return!("function"!==typeof t||t.isComputed||e.Construct&&t.prototype instanceof e.Construct||e.route&&t===e.route)},read:function(t,n,a,o,s,i){return r(n,a)?n===a.length?e.proxy(t,i):t:o.callMethodsOnObservables&&e.isMapLike(i)?t.apply(i,o.args||[]):o.isArgument&&n===a.length?!1!==o.proxyMethods?e.proxy(t,i):t:t.apply(i,o.args||[])}}],t.propertyReaders=[{name:"map",test:e.isMapLike,read:function(e,t,r,n,a){!a.foundObservable&&n.foundObservable&&(n.foundObservable(e,r),a.foundObservable=!0);var o=e.attr(t.key);return void 0!==o?o:e[t.key]}},{name:"promise",test:function(t){return e.isPromise(t)},read:function(t,r,n,a,o){!o.foundObservable&&a.foundObservable&&(a.foundObservable(t,n),o.foundObservable=!0);var s=t.__observeData;return t.__observeData||(s=t.__observeData={isPending:!0,state:"pending",isResolved:!1,isRejected:!1,value:void 0,reason:void 0},e.cid(s),e.simpleExtend(s,e.event),t.then(function(e){s.isPending=!1,s.isResolved=!0,s.value=e,s.state="resolved",s.dispatch("state",["resolved","pending"])},function(e){s.isPending=!1,s.isRejected=!0,s.reason=e,s.state="rejected",s.dispatch("state",["rejected","pending"])})),e.__observe(s,"state"),r.key in s?s[r.key]:t[r.key]}},{name:"object",test:function(){return!0},read:function(t,r){if(null!=t)return r.key in t?t[r.key]:r.at&&a[r.key]&&"@"+r.key in t?(e.dev.warn("Use %"+r.key+" in place of @"+r.key+"."),r.at=!1,t["@"+r.key]):void 0}}];var a={index:!0,key:!0,event:!0,element:!0,viewModel:!0};return t.write=function(t,r,n,a){return a=a||{},e.isMapLike(t)?!a.isArgument&&t._data&&t._data[r]&&t._data[r].isComputed?t._data[r](n):t.attr(r,n):t[r]&&t[r].isComputed?t[r](n):void("object"==typeof t&&(t[r]=n))},t.reads=function(e){var t=[],r=0,n=!1;"@"===e.charAt(0)&&(r=1,n=!0);for(var a="",o=r;o<e.length;o++){var s=e.charAt(o);"."===s||"@"===s?"\\"!==e.charAt(o-1)?(t.push({key:a,at:n}),n="@"===s,a=""):a=a.substr(0,a.length-1)+".":a+=s}return t.push({key:a,at:n}),t},t});
/*can/compute/get_value_and_bind*/
define("can/compute/get_value_and_bind",["can/util/util"],function(e){function t(t,n,r){this.newObserved={},this.oldObserved=null,this.func=t,this.context=n,this.compute=r,this.onDependencyChange=e.proxy(this.onDependencyChange,this),this.depth=null,this.childDepths={},this.ignore=0,this.inBatch=!1,this.ready=!1,r.observedInfo=this,this.setReady=e.proxy(this._setReady,this)}e.simpleExtend(t.prototype,{getPrimaryDepth:function(){return this.compute._primaryDepth},_setReady:function(){this.ready=!0},getDepth:function(){return null!==this.depth?this.depth:this.depth=this._getDepth()},_getDepth:function(){var e=0,t=this.childDepths;for(var n in t)t[n]>e&&(e=t[n]);return e+1},addEdge:function(e){e.obj.bind(e.event,this.onDependencyChange),e.obj.observedInfo&&(this.childDepths[e.obj._cid]=e.obj.observedInfo.getDepth(),this.depth=null)},removeEdge:function(e){e.obj.unbind(e.event,this.onDependencyChange),e.obj.observedInfo&&(delete this.childDepths[e.obj._cid],this.depth=null)},dependencyChange:function(e){this.bound&&this.ready&&(void 0!==e.batchNum?e.batchNum!==this.batchNum&&(t.registerUpdate(this),this.batchNum=e.batchNum):this.updateCompute(e.batchNum))},onDependencyChange:function(e,t,n){this.dependencyChange(e,t,n)},updateCompute:function(e){if(this.bound){var t=this.value;this.getValueAndBind(),this.compute.updater(this.value,t,e)}},getValueAndBind:function(){this.bound=!0,this.oldObserved=this.newObserved||{},this.ignore=0,this.newObserved={},this.ready=!1,h.push(this),this.value=this.func.call(this.context),h.pop(),this.updateBindings(),e.batch.afterPreviousEvents(this.setReady)},updateBindings:function(){var e,t,n=this.newObserved,r=this.oldObserved;for(e in n)t=n[e],r[e]?r[e]=null:this.addEdge(t);for(e in r)(t=r[e])&&this.removeEdge(t)},teardown:function(){this.bound=!1;for(var e in this.newObserved){var t=this.newObserved[e];this.removeEdge(t)}this.newObserved={}}});var n,r=[],i=1/0,s=0;t.registerUpdate=function(e,t){var n=e.getDepth()-1,h=e.getPrimaryDepth();i=Math.min(h,i),s=Math.max(h,s);var o=r[h]||(r[h]={observeInfos:[],current:1/0,max:0});(o.observeInfos[n]||(o.observeInfos[n]=[])).push(e),o.current=Math.min(n,o.current),o.max=Math.max(n,o.max)},t.updateUntil=function(e,t){for(var h;;){if(!(i<=s&&i<=e))return;var o=r[i];if(o&&o.current<=o.max){if(o.current>t)return;var a=o.observeInfos[o.current];a&&(h=a.pop())?h.updateCompute(n):o.current++}else i++}},t.batchEnd=function(e){var t;for(n=e;;){if(!(i<=s))return r=[],i=1/0,void(s=0);var h=r[i];if(h&&h.current<=h.max){var o=h.observeInfos[h.current];o&&(t=o.pop())?t.updateCompute(e):h.current++}else i++}};var h=[];return e.__observe=function(e,t){var n=h[h.length-1];if(n&&!n.ignore){var r=t+"",i=e._cid+"|"+r;n.traps?n.traps.push({obj:e,event:r,name:i}):n.newObserved[i]||(n.newObserved[i]={obj:e,event:r})}},e.__reading=e.__observe,e.__trapObserves=function(){if(h.length){var e=h[h.length-1],t=e.traps=[];return function(){return e.traps=null,t}}return function(){return[]}},e.__observes=function(e){var t=h[h.length-1];if(t)for(var n=0,r=e.length;n<r;n++){var i=e[n],s=i.name;t.newObserved[s]||(t.newObserved[s]=i)}},e.__isRecordingObserves=function(){var e=h.length,t=h[e-1];return e&&0===t.ignore&&t},e.__notObserve=function(e){return function(){if(h.length){var t=h[h.length-1];t.ignore++;var n=e.apply(this,arguments);return t.ignore--,n}return e.apply(this,arguments)}},e.batch._onDispatchedEvents=t.batchEnd,t});
/*can/compute/proto_compute*/
define("can/compute/proto_compute",["can/util/util","can/util/bind/bind","can/compute/read","can/compute/get_value_and_bind","can/util/batch/batch"],function(t,e,n,i){t.Compute=function(e,n,i,s){t.cid(this,"compute");for(var u=[],h=0,r=arguments.length;h<r;h++)u[h]=arguments[h];var o=typeof u[1];"function"==typeof u[0]?this._setupGetterSetterFn(u[0],u[1],u[2],u[3]):u[1]?"string"===o?this._setupProperty(u[0],u[1],u[2]):"function"===o?this._setupSetter(u[0],u[1],u[2]):u[1]&&u[1].fn?this._setupAsyncCompute(u[0],u[1]):this._setupSettings(u[0],u[1]):this._setupSimpleValue(u[0]),this._args=u,this._primaryDepth=0,this.isComputed=!0},t.simpleExtend(t.Compute.prototype,{setPrimaryDepth:function(t){this._primaryDepth=t},_setupGetterSetterFn:function(e,n,i){this._set=n?t.proxy(e,n):e,this._get=n?t.proxy(e,n):e,this._canObserve=!1!==i;var s=u(this,e,n||this);t.simpleExtend(this,s)},_setupProperty:function(e,n,i){var s,u=this;t.isMapLike(e)?(s=function(t,e,n){u.updater(e,n,t.batchNum)},this.hasDependencies=!0,this._get=function(){return e.attr(n)},this._set=function(t){e.attr(n,t)}):(s=function(){u.updater(u._get(),u.value)},this._get=function(){return t.getObject(n,[e])},this._set=function(i){var s=n.split("."),u=s.pop();t.getObject(s.join("."),[e])[u]=i}),this._on=function(u){t.bind.call(e,i||n,s),this.value=this._get()},this._off=function(){return t.unbind.call(e,i||n,s)}},_setupSetter:function(e,n,i){this.value=e,this._set=n,t.simpleExtend(this,i)},_setupSettings:function(t,e){if(this.value=t,this._set=e.set||this._set,this._get=e.get||this._get,!e.__selfUpdater){var n=this,i=this.updater;this.updater=function(){i.call(n,n._get(),n.value)}}this._on=e.on?e.on:this._on,this._off=e.off?e.off:this._off},_setupAsyncCompute:function(e,n){var i=this;this.value=e,this._setUpdates=!0,this.lastSetValue=new t.Compute(e),this._set=function(t){return t===i.lastSetValue.get()?this.value:i.lastSetValue.set(t)},this._get=function(){return h.call(n.context,i.lastSetValue.get())};var s,h=n.fn;if(0===h.length)s=u(this,h,n.context);else if(1===h.length)s=u(this,function(){return h.call(n.context,i.lastSetValue.get())},n);else{var r=this.updater,o=function(t){r.call(i,t,i.value)};this.updater=function(t){r.call(i,t,i.value)},s=u(this,function(){var t=h.call(n.context,i.lastSetValue.get(),o);return void 0!==t?t:this.value},this)}t.simpleExtend(this,s)},_setupSimpleValue:function(t){this.value=t},_bindsetup:t.__notObserve(function(){this.bound=!0,this._on(this.updater)}),_bindteardown:function(){this._off(this.updater),this.bound=!1},bind:t.bindAndSetup,unbind:t.unbindAndTeardown,clone:function(e){return e&&"function"==typeof this._args[0]?this._args[1]=e:e&&(this._args[2]=e),new t.Compute(this._args[0],this._args[1],this._args[2],this._args[3])},_on:t.k,_off:t.k,get:function(){var e=t.__isRecordingObserves();return e&&!1!==this._canObserve&&(t.__observe(this,"change"),this.bound||t.Compute.temporarilyBind(this)),this.bound?(e&&this.getDepth&&this.getDepth()>=e.getDepth()&&i.updateUntil(this.getPrimaryDepth(),this.getDepth()),this.value):this._get()},_get:function(){return this.value},set:function(t){var e=this.value,n=this._set(t,e);return this._setUpdates?this.value:this.hasDependencies?this._get():(this.value=void 0===n?this._get():n,s(this,this.value,e),this.value)},_set:function(t){return this.value=t},updater:function(t,e,n){this.value=t,s(this,t,e,n)},toFunction:function(){return t.proxy(this._computeFn,this)},_computeFn:function(t){return arguments.length?this.set(t):this.get()}});var s=function(e,n,i,s){n!==i&&!(n!==n&&i!==i)&&t.batch.trigger(e,{type:"change",batchNum:s},[n,i])},u=function(e,n,s){var u=new i(n,s,e);return{readInfo:u,_on:function(){u.getValueAndBind(),e.value=u.value,e.hasDependencies=!t.isEmptyObject(u.newObserved)},_off:function(){u.teardown()},getDepth:function(){return u.getDepth()},getPrimaryDepth:function(){return u.getPrimaryDepth()}}};t.Compute.temporarilyBind=function(e){var n=e.computeInstance||e;n.bind("change",t.k),h||(h=[],setTimeout(r,10)),h.push(n)};var h,r=function(){for(var e=0,n=h.length;e<n;e++)h[e].unbind("change",t.k);h=null};return t.Compute.async=function(e,n,i){return new t.Compute(e,{fn:n,context:i})},t.Compute.truthy=function(e){return new t.Compute(function(){var t=e.get();return"function"==typeof t&&(t=t.get()),!!t})},t.Compute.read=n,t.Compute.set=n.write,t.Compute});
/*can/compute/compute*/
define("can/compute/compute",["can/util/util","can/util/bind/bind","can/util/batch/batch","can/compute/proto_compute"],function(t,n){return t.compute=function(n,e,u,o){var c=new t.Compute(n,e,u,o),i=c.bind,p=c.unbind,r=function(t){return arguments.length?c.set(t):c.get()},m="__handler"+t.cid(r,"compute");return r.bind=function(t,n){var e=n&&n[m];return n&&!e&&(e=n[m]=function(){n.apply(r,arguments)}),i.call(c,t,e)},r.unbind=function(t,n){var e=n&&n[m];return e?(delete n[m],c.unbind(t,e)):p.apply(c,arguments)},r.isComputed=c.isComputed,r.clone=function(u){return"function"==typeof n&&(e=u),t.compute(n,e,u,o)},r.computeInstance=c,r},t.compute.truthy=function(n){return t.compute(function(){var t=n();return"function"==typeof t&&(t=t()),!!t})},t.compute.async=function(n,e,u){return t.compute(n,{fn:e,context:u})},t.compute.read=t.Compute.read,t.compute.set=t.Compute.set,t.compute.temporarilyBind=t.Compute.temporarilyBind,t.compute});
/*can/view/elements*/
define("can/view/elements",["can/util/util","can/view/view"],function(e){var t="undefined"!=typeof document?document:null,n=t&&1===e.$(document.createComment("~")).length,o={tagToContentPropMap:{option:t&&"textContent"in document.createElement("option")?"textContent":"innerText",textarea:"value"},attrMap:e.attr.map,attrReg:/([^\s=]+)[\s]*=[\s]*/,defaultValue:e.attr.defaultValue,tagMap:{"":"span",colgroup:"col",table:"tbody",tr:"td",ol:"li",ul:"li",tbody:"tr",thead:"tr",tfoot:"tr",select:"option",optgroup:"option"},reverseTagMap:{col:"colgroup",tr:"tbody",option:"select",td:"tr",th:"tr",li:"ul"},selfClosingTags:{col:!0},getParentNode:function(e,t){return t&&11===e.parentNode.nodeType?t:e.parentNode},setAttr:e.attr.set,getAttr:e.attr.get,removeAttr:e.attr.remove,contentText:function(e){return"string"==typeof e?e:e||0===e?""+e:""},after:function(t,n){var o=t[t.length-1];o.nextSibling?e.insertBefore(o.parentNode,n,o.nextSibling,e.document):e.appendChild(o.parentNode,n,e.document)},replace:function(t,r){var a,l=t[0].parentNode;"SELECT"===l.nodeName.toUpperCase()&&l.selectedIndex>=0&&(a=l.value),o.after(t,r),e.remove(e.$(t)).length<t.length&&!n&&e.each(t,function(e){8===e.nodeType&&e.parentNode.removeChild(e)}),void 0!==a&&(l.value=a)}};return e.view.elements=o,o});
/*can/view/callbacks/callbacks*/
define("can/view/callbacks/callbacks",["can/util/util","can/view/view"],function(t){var e=t.view.attr=function(t,e){if(!e){var r=a[t];if(!r)for(var o=0,s=n.length;o<s;o++){var i=n[o];if(i.match.test(t)){r=i.handler;break}}return r}"string"==typeof t?a[t]=e:n.push({match:t,handler:e})},a={},n=[],r=/[-\:]/,o=t.view.tag=function(e,a){if(!a){var n=s[e.toLowerCase()];return!n&&r.test(e)&&(n=function(){}),n}void 0!==s[e.toLowerCase()]&&t.dev.warn("Custom tag: "+e.toLowerCase()+" is already defined"),r.test(e)||"content"===e||t.dev.warn("Custom tag: "+e.toLowerCase()+" is missing a hyphen"),t.global.html5&&(t.global.html5.elements+=" "+e,t.global.html5.shivDocument()),s[e.toLowerCase()]=a},s={};return t.view.callbacks={_tags:s,_attributes:a,_regExpAttributes:n,tag:o,attr:e,tagHandler:function(e,a,n){var r,o=n.options.get("tags."+a,{proxyMethods:!1})||s[a],i=n.scope;if(r=o?t.__notObserve(o)(e,n):i,o||t.dev.warn("can/view/scanner.js: No custom element found for "+a),r&&n.subtemplate){i!==r&&(i=i.add(r));var l=n.subtemplate(i,n.options),c="string"==typeof l?t.view.frag(l):l;t.appendChild(e,c)}}},t.view.callbacks});
/*can/view/scanner*/
define("can/view/scanner",["can/view/view","./elements","can/view/callbacks/callbacks"],function(can,elements,viewCallbacks){var newLine=/(\r|\n)+/g,notEndTag=/\//,clean=function(t){return t.split("\\").join("\\\\").split("\n").join("\\n").split('"').join('\\"').split("\t").join("\\t")},getTag=function(t,e,n){if(t)return t;for(;n<e.length;){if("<"===e[n]&&!notEndTag.test(e[n+1]))return elements.reverseTagMap[e[n+1]]||"span";n++}return""},bracketNum=function(t){return--t.split("{").length- --t.split("}").length},myEval=function(script){eval(script)},attrReg=/([^\s]+)[\s]*=[\s]*$/,startTxt="var ___v1ew = [];",finishTxt="return ___v1ew.join('')",put_cmd="___v1ew.push(\n",insert_cmd=put_cmd,htmlTag=null,quote=null,beforeQuote=null,rescan=null,getAttrName=function(){var t=beforeQuote.match(attrReg);return t&&t[1]},status=function(){return quote?"'"+getAttrName()+"'":htmlTag?1:0},top=function(t){return t[t.length-1]},Scanner;return can.view.Scanner=Scanner=function(t){can.extend(this,{text:{},tokens:[]},t),this.text.options=this.text.options||"",this.tokenReg=[],this.tokenSimple={"<":"<",">":">",'"':'"',"'":"'"},this.tokenComplex=[],this.tokenMap={};for(var e,n=0;e=this.tokens[n];n++)e[2]?(this.tokenReg.push(e[2]),this.tokenComplex.push({abbr:e[1],re:new RegExp(e[2]),rescan:e[3]})):(this.tokenReg.push(e[1]),this.tokenSimple[e[1]]=e[0]),this.tokenMap[e[0]]=e[1];this.tokenReg=new RegExp("("+this.tokenReg.slice(0).concat(["<",">",'"',"'"]).join("|")+")","g")},Scanner.prototype={helpers:[],scan:function(t,e){var n=[],s=0,a=this.tokenSimple,r=this.tokenComplex;t=t.replace(newLine,"\n"),this.transform&&(t=this.transform(t)),t.replace(this.tokenReg,function(e,i){var o=arguments[arguments.length-2];if(o>s&&n.push(t.substring(s,o)),a[e])n.push(e);else for(var u,c=0;u=r[c];c++)if(u.re.test(e)){n.push(u.abbr),u.rescan&&n.push(u.rescan(i));break}s=o+i.length}),s<t.length&&n.push(t.substr(s));var i,o,u,c,l="",p=[startTxt+(this.text.start||"")],h=function(t,e){p.push(put_cmd,'"',clean(t),'"'+(e||"")+");")},g=[],f=null,m=!1,k={attributeHookups:[],tagHookups:[],lastTagHookup:""},b=function(){k.lastTagHookup=k.tagHookups.pop()+k.tagHookups.length},v="",x=[],T=!1,w=!1,d=0,_=this.tokenMap;for(htmlTag=quote=beforeQuote=null;void 0!==(u=n[d++]);){if(null===f)switch(u){case _.left:case _.escapeLeft:case _.returnLeft:m=htmlTag&&1;case _.commentLeft:f=u,l.length&&h(l),l="";break;case _.escapeFull:m=htmlTag&&1,rescan=1,f=_.escapeLeft,l.length&&h(l),l=(rescan=n[d++]).content||rescan,rescan.before&&h(rescan.before),n.splice(d,0,_.right);break;case _.commentFull:break;case _.templateLeft:l+=_.left;break;case"<":0!==n[d].indexOf("!--")&&(htmlTag=1,m=0),l+=u;break;case">":htmlTag=0;var H="/"===l.substr(l.length-1)||"--"===l.substr(l.length-2),N="";if(k.attributeHookups.length&&(N="attrs: ['"+k.attributeHookups.join("','")+"'], ",k.attributeHookups=[]),v+k.tagHookups.length!==k.lastTagHookup&&v===top(k.tagHookups))H&&(l=l.substr(0,l.length-1)),p.push(put_cmd,'"',clean(l),'"',",can.view.pending({tagName:'"+v+"',"+N+"scope: "+(this.text.scope||"this")+this.text.options),H?(p.push("}));"),l="/>",b()):"<"===n[d]&&n[d+1]==="/"+v?(p.push("}));"),l=u,b()):(p.push(",subtemplate: function("+this.text.argNames+"){\n"+startTxt+(this.text.start||"")),l="");else if(m||!T&&elements.tagToContentPropMap[x[x.length-1]]||N){var R=",can.view.pending({"+N+"scope: "+(this.text.scope||"this")+this.text.options+'}),"';H?h(l.substr(0,l.length-1),R+'/>"'):h(l,R+'>"'),l="",m=0}else l+=u;(H||T)&&(x.pop(),v=x[x.length-1],T=!1),k.attributeHookups=[];break;case"'":case'"':if(htmlTag)if(quote&&quote===u){quote=null;var L=getAttrName();if(viewCallbacks.attr(L)&&k.attributeHookups.push(L),w){h(l+=u),p.push(finishTxt,"}));\n"),l="",w=!1;break}}else if(null===quote&&(quote=u,beforeQuote=i,c=getAttrName(),"img"===v&&"src"===c||"style"===c)){h(l.replace(attrReg,"")),l="",w=!0,p.push(insert_cmd,"can.view.txt(2,'"+getTag(v,n,d)+"',"+status()+",this,function(){",startTxt),h(c+"="+u);break}default:if("<"===i){var S,y=!1;0===(v="!--"===u.substr(0,3)?"!--":u.split(/\s/)[0]).indexOf("/")&&(y=!0,S=v.substr(1)),y?(top(x)===S&&(v=S,T=!0),top(k.tagHookups)===S&&(h(l.substr(0,l.length-1)),p.push(finishTxt+"}}) );"),l="><",b())):(v.lastIndexOf("/")===v.length-1&&(v=v.substr(0,v.length-1)),"!--"!==v&&viewCallbacks.tag(v)&&("content"===v&&elements.tagMap[top(x)]&&(u=u.replace("content",elements.tagMap[top(x)])),k.tagHookups.push(v)),x.push(v))}l+=u}else switch(u){case _.right:case _.returnRight:switch(f){case _.left:1===(o=bracketNum(l))?(p.push(insert_cmd,"can.view.txt(0,'"+getTag(v,n,d)+"',"+status()+",this,function(){",startTxt,l),g.push({before:"",after:finishTxt+"}));\n"})):((s=g.length&&-1===o?g.pop():{after:";"}).before&&p.push(s.before),p.push(l,";",s.after));break;case _.escapeLeft:case _.returnLeft:(o=bracketNum(l))&&g.push({before:finishTxt,after:"}));\n"});for(var j=f===_.escapeLeft?1:0,C={insert:insert_cmd,tagName:getTag(v,n,d),status:status(),specialAttribute:w},q=0;q<this.helpers.length;q++){var E=this.helpers[q];if(E.name.test(l)){l=E.fn(l,C),E.name.source===/^>[\s]*\w*/.source&&(j=0);break}}"object"==typeof l?l.startTxt&&l.end&&w?p.push(insert_cmd,"can.view.toStr( ",l.content,"() ) );"):(l.startTxt?p.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||(null!=l.escaped?l.escaped:j))+",\n'"+v+"',\n"+status()+",\nthis,\n"):l.startOnlyTxt&&p.push(insert_cmd,"can.view.onlytxt(this,\n"),p.push(l.content),l.end&&p.push("));")):w?p.push(insert_cmd,l,");"):p.push(insert_cmd,"can.view.txt(\n"+("string"==typeof status()||j)+",\n'"+v+"',\n"+status()+",\nthis,\nfunction(){ "+(this.text.escape||"")+"return ",l,o?startTxt:"}));\n"),rescan&&rescan.after&&rescan.after.length&&(h(rescan.after.length),rescan=null)}f=null,l="";break;case _.templateLeft:l+=_.left;break;default:l+=u}i=u}l.length&&h(l),p.push(";");var M=p.join(""),A={out:(this.text.outStart||"")+M+" "+finishTxt+(this.text.outEnd||"")};return myEval.call(A,"this.fn = (function("+this.text.argNames+"){"+A.out+"});\r\n//# sourceURL="+e+".js"),A}},can.view.pending=function(t){var e=can.view.getHooks();return can.view.hook(function(n){can.each(e,function(t){t(n)}),t.templateType="legacy",t.tagName&&viewCallbacks.tagHandler(n,t.tagName,t),can.each(t&&t.attrs||[],function(e){t.attributeName=e;var s=viewCallbacks.attr(e);s&&s(n,t)})})},can.view.tag("content",function(t,e){return e.scope}),can.view.Scanner=Scanner,Scanner});
/*can/view/node_lists/node_lists*/
define("can/view/node_lists/node_lists",["can/util/util","can/view/elements"],function(e){var n=!0;try{document.createTextNode("")._=0}catch(e){n=!1}var r={},t={},i="ejs_"+Math.random(),a=0,s=function(e,r){var s=r||t,l=u(e,s);return l||(n||3!==e.nodeType?(++a,e[i]=(e.nodeName?"element_":"obj_")+a):(++a,s["text_"+a]=e,"text_"+a))},u=function(e,r){if(n||3!==e.nodeType)return e[i];for(var t in r)if(r[t]===e)return t},l=[].splice,p=[].push,c=function(e){for(var n=0,r=0,t=e.length;r<t;r++){var i=e[r];i.nodeType?n++:n+=c(i)}return n},d=function(e,n){for(var r={},t=0,i=e.length;t<i;t++){var a=f.first(e[t]);r[s(a,n)]=e[t]}return r},o=function(e,n,r){for(var t in n)r[t]||e.newDeepChildren.push(n[t])},f={id:s,update:function(n,r){var t=f.unregisterChildren(n);r=e.makeArray(r);var i=n.length;return l.apply(n,[0,i].concat(r)),n.replacements?(f.nestReplacements(n),n.deepChildren=n.newDeepChildren,n.newDeepChildren=[]):f.nestList(n),t},nestReplacements:function(e){for(var n=0,r={},t=d(e.replacements,r),i=e.replacements.length,a={};n<e.length&&i;){var s=e[n],l=u(s,r),p=t[l];p&&(e.splice(n,c(p),p),a[l]=!0,i--),n++}i&&o(e,t,a),e.replacements=[]},nestList:function(e){for(var n=0;n<e.length;){var t=e[n],i=r[s(t)];i?i!==e&&e.splice(n,c(i),i):r[s(t)]=e,n++}},last:function(e){var n=e[e.length-1];return n.nodeType?n:f.last(n)},first:function(e){var n=e[0];return n.nodeType?n:f.first(n)},flatten:function(e){for(var n=[],r=0;r<e.length;r++){var t=e[r];t.nodeType?n.push(t):n.push.apply(n,f.flatten(t))}return n},register:function(n,r,t,i){return e.cid(n),n.unregistered=r,n.parentList=t,n.nesting=t&&void 0!==t.nesting?t.nesting+1:0,t?(n.deepChildren=[],n.newDeepChildren=[],n.replacements=[],!0!==t&&(i?t.replacements.push(n):t.newDeepChildren.push(n))):f.nestList(n),n},unregisterChildren:function(n){var t=[];return e.each(n,function(e){e.nodeType?(n.replacements||delete r[s(e)],t.push(e)):p.apply(t,f.unregister(e,!0))}),e.each(n.deepChildren,function(e){f.unregister(e,!0)}),t},unregister:function(e,n){var r=f.unregisterChildren(e,!0);if(e.unregistered){var t=e.unregistered;if(e.replacements=e.unregistered=null,!n){var i=e.parentList&&e.parentList.deepChildren;if(i){var a=i.indexOf(e);-1!==a&&i.splice(a,1)}}t()}return r},nodeMap:r};return e.view.nodeLists=f,f});
/*can/view/parser/parser*/
define("can/view/parser/parser",[],function(){function t(t,e){for(var a=0;a<t.length;a++)e(t[a],a)}function e(e){var a={};return t(e.split(","),function(t){a[t]=!0}),a}function a(t,e){for(var a=0,r=t.length;a<r;a++){var n=t[a];e[n.tokenType].apply(e,n.args)}return t}var r=new RegExp("^<([A-Za-z0-9][-:_A-Za-z0-9]*)((?:\\s*(?:(?:(?:[^=>\\s\\/]+)?(?:\\s*=\\s*(?:(?:\\{\\{[^\\}]\\}\\}\\}?)|(?:\\{[^\\}\\{]\\})|(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)|(?:\\{\\{[^\\}]*\\}\\}\\}?)+))*)\\s*(\\/?)>"),n=new RegExp("^<\\/([-:_A-Za-z0-9]+)[^>]*>"),o=new RegExp("\\{\\{([^\\}]*)\\}\\}\\}?","g"),i=/<|\{\{/,l=/\s/,s=e("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),u=e("a,address,article,applet,aside,audio,blockquote,button,canvas,center,dd,del,dir,div,dl,dt,fieldset,figcaption,figure,footer,form,frameset,h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,output,p,pre,section,script,table,tbody,td,tfoot,th,thead,tr,ul,video"),f=e("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),c=e("altGlyph,altGlyphDef,altGlyphItem,animateColor,animateMotion,animateTransform,clipPath,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,foreignObject,glyphRef,linearGradient,radialGradient,textPath"),g=e("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),p=e("script"),d="start,end,close,attrStart,attrEnd,attrValue,chars,comment,special,done".split(","),h=function(){},m=function(e,l,b){function v(t,e){var a;if(e)for(e=c[e]?e:e.toLowerCase(),a=V.length-1;a>=0&&V[a]!==e;a--);else a=0;if(a>=0){for(var r=V.length-1;r>=a;r--)l.close&&l.close(V[r]);V.length=a}}if("object"==typeof e)return a(e,l);var S=[];l=l||{},b&&t(d,function(t){var e=l[t]||h;l[t]=function(){!1!==e.apply(this,arguments)&&S.push({tokenType:t,args:[].slice.call(arguments,0)})}});var k,F,y,x=function(){C&&l.chars&&l.chars(C),C=""},V=[],E=e,C="";for(V.last=function(){return this[this.length-1]};e;){if(F=!0,V.last()&&p[V.last()])e=e.replace(new RegExp("([\\s\\S]*?)</"+V.last()+"[^>]*>"),function(t,e){return e=e.replace(/<!--([\s\S]*?)-->|<!\[CDATA\[([\s\S]*?)]]>/g,"$1$2"),l.chars&&l.chars(e),""}),v(0,V.last());else if(0===e.indexOf("\x3c!--")?(k=e.indexOf("--\x3e"))>=0&&(x(),l.comment&&l.comment(e.substring(4,k)),e=e.substring(k+3),F=!1):0===e.indexOf("</")?(y=e.match(n))&&(x(),e=e.substring(y[0].length),y[0].replace(n,v),F=!1):0===e.indexOf("<")?(y=e.match(r))&&(x(),e=e.substring(y[0].length),y[0].replace(r,function(t,e,a,r){if(e=c[e]?e:e.toLowerCase(),u[e]&&!f[e])for(var n=V.last();n&&f[n]&&!u[n];)v(0,n),n=V.last();g[e]&&V.last()===e&&v(0,e),r=s[e]||!!r,l.start(e,r),r||V.push(e),m.parseAttrs(a,l),l.end(e,r)}),F=!1):0===e.indexOf("{{")&&(y=e.match(o))&&(x(),e=e.substring(y[0].length),y[0].replace(o,function(t,e){l.special&&l.special(e)})),F){0===(k=e.search(i))&&e===E&&(C+=e.charAt(0),k=(e=e.substr(1)).search(i));var N=k<0?e:e.substring(0,k);e=k<0?"":e.substring(k),N&&(C+=N)}if(e===E)throw new Error("Parse Error: "+e);E=e}return x(),v(),l.done(),S},b=function(t,e,a,r){t.attrStart=r.substring("number"==typeof t.nameStart?t.nameStart:e,e),a.attrStart(t.attrStart),t.inName=!1},v=function(t,e,a,r){void 0!==t.valueStart&&t.valueStart<e?a.attrValue(r.substring(t.valueStart,e)):t.inValue,a.attrEnd(t.attrStart),t.attrStart=void 0,t.valueStart=void 0,t.inValue=!1,t.inName=!1,t.lookingForEq=!1,t.inQuote=!1,t.lookingForName=!0};return m.parseAttrs=function(t,e){if(t){for(var a,r=0,n={inDoubleCurly:!1,inName:!1,nameStart:void 0,inValue:!1,valueStart:void 0,inQuote:!1,attrStart:void 0,lookingForName:!0,lookingForValue:!1,lookingForEq:!1};r<t.length;){a=r;var o=t.charAt(r),i=t.charAt(r+1),s=t.charAt(r+2);if(r++,"{"===o&&"{"===i)n.inValue&&a>n.valueStart?e.attrValue(t.substring(n.valueStart,a)):n.inName&&n.nameStart<a?(b(n,a,e,t),v(n,a,e,t)):n.lookingForValue?n.inValue=!0:n.lookingForEq&&n.attrStart&&v(n,a,e,t),n.inDoubleCurly=!0,n.doubleCurlyStart=a+2,r++;else if(n.inDoubleCurly){if("}"===o&&"}"===i){var u="}"===s?1:0;e.special(t.substring(n.doubleCurlyStart,a)),n.inDoubleCurly=!1,n.inValue&&(n.valueStart=a+2+u),r+=1+u}}else n.inValue?n.inQuote?o===n.inQuote&&v(n,a,e,t):l.test(o)&&v(n,a,e,t):"="===o&&(n.lookingForEq||n.lookingForName||n.inName)?(n.attrStart||b(n,a,e,t),n.lookingForValue=!0,n.lookingForEq=!1,n.lookingForName=!1):n.inName?l.test(o)&&(b(n,a,e,t),n.lookingForEq=!0):n.lookingForName?l.test(o)||(n.attrStart&&v(n,a,e,t),n.nameStart=a,n.inName=!0):n.lookingForValue&&(l.test(o)||(n.lookingForValue=!1,n.inValue=!0,"'"===o||'"'===o?(n.inQuote=o,n.valueStart=a+1):n.valueStart=a))}n.inName?(b(n,a+1,e,t),v(n,a+1,e,t)):n.lookingForEq?v(n,a+1,e,t):n.inValue&&v(n,a+1,e,t)}},m});
/*can/util/array/diff*/
define("can/util/array/diff",[],function(){var e=[].slice;return function(n,t){for(var i=0,r=0,l=n.length,u=t.length,s=[];i<l&&r<u;){var d=n[i],f=t[r];if(d!==f)if(r+1<u&&t[r+1]===d)s.push({index:r,deleteCount:0,insert:[t[r]]}),i++,r+=2;else{if(!(i+1<l&&n[i+1]===f))return s.push({index:r,deleteCount:l-i,insert:e.call(t,r)}),s;s.push({index:r,deleteCount:1,insert:[]}),i+=2,r++}else i++,r++}return r===u&&i===l?s:(s.push({index:r,deleteCount:l-i,insert:e.call(t,r)}),s)}});
/*can/view/live/live*/
define("can/view/live/live",["can/util/util","can/view/elements","can/view/view","can/view/node_lists/node_lists","can/view/parser/parser","can/util/array/diff"],function(t,e,n,r,a,i){e=e||t.view.elements,r=r||t.view.NodeLists,a=a||t.view.parser;var o=function(e,n,r){var a=!1,i=function(){return a||(a=!0,r(o),t.unbind.call(e,"removed",i)),!0},o={teardownCheck:function(t){return!t&&i()}};return t.bind.call(e,"removed",i),n(o),o},c=function(t){var e=t.childNodes;if("length"in e)return e;for(var n=t.firstChild,r=[];n;)r.push(n),n=n.nextSibling;return r},l=function(t,e,n){return o(t,function(){e.computeInstance.bind("change",n)},function(t){e.computeInstance.unbind("change",n),t.nodeList&&r.unregister(t.nodeList)})},u=function(t){var e,n={};return a.parseAttrs(t,{attrStart:function(t){n[t]="",e=t},attrValue:function(t){n[e]+=t},attrEnd:function(){}}),n},d=[].splice,s=function(t){return t&&t.nodeType},f=function(t){t.firstChild||t.appendChild(t.ownerDocument.createTextNode(""))},p=function(e){var n="string"==typeof e,r=t.frag(e);return n?t.view.hookup(r):r},h=function(e,n,a,i,o){var l=[];n&&(r.register(l,null,!0,!0),l.parentList=n,l.expression="#each SUBEXPRESSION");var u=a.apply(i,o.concat([l])),d=p(u),s=t.makeArray(c(d));return n?(r.update(l,s),e.push(l)):e.push(r.register(s)),d},v=function(e,n,a){var i=e.splice(n+1,a),o=[];return t.each(i,function(t){var e=r.unregister(t);[].push.apply(o,e)}),o},b=function(t,n,r,a){if(n&&0===t.length){var i=[],o=h(i,a,n,t,[t]);e.after([r[0]],o),r.push(i[0])}},g={},C={registerChildMutationCallback:function(t,e){if(!e)return g[t];g[t]=e},callChildMutationCallback:function(t){var e=t&&g[t.nodeName.toLowerCase()];e&&e(t)},list:function(n,a,c,l,u,s,f){var p,g=s||[n],m=[],k=!1,w=!1,N=function(n,a,i){if(k){var o=x.ownerDocument.createDocumentFragment(),u=[],f=[];t.each(a,function(e,n){var r=t.compute(n+i),a=h(u,s,c,l,[e,r]);o.appendChild(a),f.push(r)});var p=i+1;if(!m.length){var b=v(g,0,g.length-1);t.remove(t.$(b))}if(g[p]){var w=r.first(g[p]);t.insertBefore(w.parentNode,o,w)}else e.after(1===p?[x]:[r.last(g[p-1])],o);d.apply(g,[p,0].concat(u)),d.apply(m,[i,0].concat(f));for(var N=i+f.length,y=m.length;N<y;N++)m[N](N);!1!==n.callChildMutationCallback&&C.callChildMutationCallback(x.parentNode)}},y=function(t,e,n){A({},{length:1},n,!0),N({},[e],n)},A=function(e,n,a,i,o){if(k&&(i||!S.teardownCheck(x.parentNode))){a<0&&(a=m.length+a);var c=v(g,a,n.length);m.splice(a,n.length);for(var l=a,u=m.length;l<u;l++)m[l](l);o?r.unregister(g):(b(p,f,g,s),t.remove(t.$(c)),!1!==e.callChildMutationCallback&&C.callChildMutationCallback(x.parentNode))}},M=function(e,n,a,i){if(k){i+=1;var o,c=g[a+=1],l=t.frag(r.flatten(g[i]));o=i<a?r.last(c).nextSibling:r.first(c),g[0].parentNode.insertBefore(l,o);var u=g[i];[].splice.apply(g,[i,1]),[].splice.apply(g,[a,0,u]),a-=1;var d=m[i-=1];[].splice.apply(m,[i,1]),[].splice.apply(m,[a,0,d]);var s=Math.min(i,a),f=m.length;for(f;s<f;s++)m[s](s);!1!==e.callChildMutationCallback&&C.callChildMutationCallback(x.parentNode)}},x=n.ownerDocument.createTextNode(""),_=function(t){p&&p.unbind&&p.unbind("add",N).unbind("set",y).unbind("remove",A).unbind("move",M),A({callChildMutationCallback:!!t},{length:g.length-1},0,!0,t)},P=function(e,n,r){if(!w){if(k=!0,n&&r){p=n||[];var a=i(r,n);r.unbind&&r.unbind("add",N).unbind("set",y).unbind("remove",A).unbind("move",M);for(var o=0,c=a.length;o<c;o++){var l=a[o];l.deleteCount&&A({callChildMutationCallback:!1},{length:l.deleteCount},l.index,!0),l.insert.length&&N({callChildMutationCallback:!1},l.insert,l.index)}}else r&&_(),N({callChildMutationCallback:!1},p=n||[],0),b(p,f,g,s);C.callChildMutationCallback(x.parentNode),k=!1,p.bind&&p.bind("add",N).bind("set",y).bind("remove",A).bind("move",M),t.batch.afterPreviousEvents(function(){k=!0})}};u=e.getParentNode(n,u);var S=o(u,function(){t.isFunction(a)&&a.bind("change",P)},function(){t.isFunction(a)&&a.unbind("change",P),_(!0)});s?(e.replace(g,x),r.update(g,[x]),s.unregistered=function(){S.teardownCheck(),w=!0}):C.replace(g,x,S.teardownCheck),P(0,t.isFunction(a)?a():a)},html:function(n,a,i,o){var u;i=e.getParentNode(n,i),u=l(i,a,function(t,e,n){r.first(d).parentNode&&p(e);var a=r.first(d).parentNode;u.teardownCheck(a),C.callChildMutationCallback(a)});var d=o||[n],p=function(n){var a="function"==typeof n,o=s(n),l=t.frag(a?"":n),u=t.makeArray(d);f(l),o||a||(l=t.view.hookup(l,i)),u=r.update(d,c(l)),a&&n(l.firstChild),e.replace(u,l)};u.nodeList=d,o?o.unregistered=u.teardownCheck:r.register(d,u.teardownCheck),p(a())},replace:function(n,a,i){var o=n.slice(0),l=t.frag(a);return r.register(n,i),"string"==typeof a&&(l=t.view.hookup(l,n[0].parentNode)),r.update(n,c(l)),e.replace(o,l),n},text:function(n,a,i,o){var c=e.getParentNode(n,i),u=l(c,a,function(e,n,r){"unknown"!=typeof d.nodeValue&&(d.nodeValue=t.view.toStr(n)),u.teardownCheck(d.parentNode)}),d=n.ownerDocument.createTextNode(t.view.toStr(a()));o?(o.unregistered=u.teardownCheck,u.nodeList=o,r.update(o,[d]),e.replace([n],d)):u.nodeList=C.replace([n],d,u.teardownCheck)},setAttributes:function(e,n){var r=u(n);for(var a in r)t.attr.set(e,a,r[a])},attributes:function(n,r,a){var i={},o=function(r){var a,o=u(r);for(a in o){var c=o[a];c!==i[a]&&t.attr.set(n,a,c),delete i[a]}for(a in i)e.removeAttr(n,a);i=o};l(n,r,function(t,e){o(e)}),arguments.length>=3?i=u(a):o(r())},attributePlaceholder:"__!!__",attributeReplace:/__!!__/g,attribute:function(n,r,a){l(n,a,function(t,a){e.setAttr(n,r,c.render())});var i,o=t.$(n);(i=t.data(o,"hooks"))||t.data(o,"hooks",i={});var c,u=String(e.getAttr(n,r)),d=u.split(C.attributePlaceholder),s=[];s.push(d.shift(),d.join(C.attributePlaceholder)),i[r]?i[r].computes.push(a):i[r]={render:function(){var t=0;return u?u.replace(C.attributeReplace,function(){return e.contentText(c.computes[t++]())}):e.contentText(c.computes[t++]())},computes:[a],batchNum:void 0},c=i[r],s.splice(1,0,a()),e.setAttr(n,r,s.join(""))},specialAttribute:function(t,n,r){l(t,r,function(r,a){e.setAttr(t,n,k(a))}),e.setAttr(t,n,k(r()))},simpleAttribute:function(t,n,r){l(t,r,function(r,a){e.setAttr(t,n,a)}),e.setAttr(t,n,r())}};C.attr=C.simpleAttribute,C.attrs=C.attributes,C.getAttributeParts=u;var m=/(\r|\n)+/g,k=function(t){var n=/^["'].*["']$/;return t=t.replace(e.attrReg,"").replace(m,""),n.test(t)?t.substr(1,t.length-2):t};return t.view.live=C,C});
/*can/view/render*/
define("can/view/render",["can/view/view","./elements","can/view/live/live","can/util/string/string"],function(t,n,e){var i,r=[],u=function(t){var e=n.tagMap[t]||"span";return"span"===e?"@@!!@@":"<"+e+">"+u(e)+"</"+e+">"},o=function(n,e){if("string"==typeof n)return n;if(!n&&0!==n)return"";var i=n.hookup&&function(t,e){n.hookup.call(n,t,e)}||"function"==typeof n&&n;return i?e?"<"+e+" "+t.view.hook(i)+"></"+e+">":(r.push(i),""):""+n},s=function(n,e){return"string"==typeof n||"number"==typeof n?t.esc(n):o(n,e)},c=!1,a=function(){};return t.extend(t.view,{live:e,setupLists:function(){var n,e=t.view.lists;return t.view.lists=function(t,e){return n={list:t,renderer:e},Math.random()},function(){return t.view.lists=e,n}},getHooks:function(){var t=r.slice(0);return i=t,r=[],t},onlytxt:function(t,n){return s(n.call(t))},txt:function(f,l,p,v,h){var g,w,d,b,y=n.tagMap[l]||"span",k=!1,m=a;if(c)g=h.call(v);else{"string"!=typeof p&&1!==p||(c=!0);var x=t.view.setupLists();m=function(){d.unbind("change",a)},(d=t.compute(h,v,!1)).bind("change",a),w=x(),g=d(),c=!1,k=d.computeInstance.hasDependencies}if(w)return m(),"<"+y+t.view.hook(function(t,n){e.list(t,w.list,w.renderer,v,n)})+"></"+y+">";if(!k||"function"==typeof g)return m(),(c||2===f||!f?o:s)(g,0===p&&y);var M=n.tagToContentPropMap[l];if(0!==p||M)return 1===p?(r.push(function(t){e.attributes(t,d,d()),m()}),d()):2===f?(b=p,r.push(function(t){e.specialAttribute(t,b,d),m()}),d()):(b=0===p?M:p,(0===p?i:r).push(function(t){e.attribute(t,b,d),m()}),e.attributePlaceholder);var C=!!n.selfClosingTags[y];return"<"+y+t.view.hook(f&&"object"!=typeof g?function(t,n){e.text(t,d,n),m()}:function(t,n){e.html(t,d,n),m()})+(C?"/>":">"+u(y)+"</"+y+">")}}),t});
/*can/view/ejs/ejs*/
define("can/view/ejs/ejs",["can/util/util","can/view/view","can/util/string/string","can/compute/compute","can/view/scanner","can/view/render"],function(t){var e=t.extend,n=function(t){if(this.constructor!==n){var r=new n(t);return function(t,e){return r.render(t,e)}}"function"!=typeof t?(e(this,t),this.template=this.scanner.scan(this.text,this.name)):this.template={fn:t}};return t.EJS=n,n.prototype.render=function(t,e){return t=t||{},this.template.fn.call(t,t,new n.Helpers(t,e||{}))},e(n.prototype,{scanner:new t.view.Scanner({text:{outStart:"with(_VIEW) { with (_CONTEXT) {",outEnd:"}}",argNames:"_CONTEXT,_VIEW",context:"this"},tokens:[["templateLeft","<%%"],["templateRight","%>"],["returnLeft","<%=="],["escapeLeft","<%="],["commentLeft","<%#"],["left","<%"],["right","%>"],["returnRight","%>"]],helpers:[{name:/\s*\(([\$\w]+)\)\s*->([^\n]*)/,fn:function(t){var e=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,n=t.match(e);return"can.proxy(function(__){var "+n[1]+"=can.$(__);"+n[2]+"}, this);"}}],transform:function(t){return t.replace(/<%([\s\S]+?)%>/gm,function(t,e){var n,r,i=[];e.replace(/[{}]/gm,function(t,e){i.push([t,e])});do{for(n=!1,r=i.length-2;r>=0;r--)if("{"===i[r][0]&&"}"===i[r+1][0]){i.splice(r,2),n=!0;break}}while(n);if(i.length>=2){var s,a=["<%"],c=0;for(r=0;s=i[r];r++)a.push(e.substring(c,c=s[1])),"{"===s[0]&&r<i.length-1||"}"===s[0]&&r>0?a.push("{"===s[0]?"{ %><% ":" %><% }"):a.push(s[0]),++c;return a.push(e.substring(c),"%>"),a.join("")}return"<%"+e+"%>"})}})}),n.Helpers=function(t,n){this._data=t,this._extras=n,e(this,n)},n.Helpers.prototype={list:function(e,n){t.each(e,function(t,r){n(t,r,e)})},each:function(e,n){t.isArray(e)?this.list(e,n):t.view.lists(e,n)}},t.view.register({suffix:"ejs",script:function(t,e){return"can.EJS(function(_CONTEXT,_VIEW) { "+new n({text:e,name:t}).template.out+" })"},renderer:function(t,e){return n({text:e,name:t})}}),t.ejs.Helpers=n.Helpers,t});
/*can/view/ejs/system*/
"format steal";define("can/view/ejs/system",["can/view/ejs/ejs"],function(e){return{translate:function(n){return"define(['can/view/ejs/ejs'],function(can){return can.view.preloadStringRenderer('"+n.metadata.pluginArgument+"',can.EJS(function(_CONTEXT,_VIEW) { "+new e.EJS({text:n.source,name:n.name}).template.out+" }))})"}}});
/*jquery/view/view*/
define("jquery/view/view",["jquery/jquery"],function(){var t=function(t){return t.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},e=$.makeArray,n=1,r=$.View=function(t,n,r,i){"function"==typeof r&&(i=r,r=void 0);var f=a(n);if(f.length){h=$.Deferred();return f.push(o(t,!0)),$.when.apply($,f).then(function(t){var o,a=e(arguments),f=a.pop()[0];if(u(n))n=c(t);else for(var s in n)u(n[s])&&(n[s]=c(a.shift()));o=f(n,r),h.resolve(o),i&&i(o)}),h.promise()}var s,p="function"==typeof i,h=o(t,p);return p?(s=h,h.done(function(t){i(t(n,r))})):h.done(function(t){s=t(n,r)}),s},i=function(t,e){if(!t.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+e},o=function(t,e){return $.ajax({url:t,dataType:"view",async:e})},u=function(t){return t&&$.isFunction(t.always)},a=function(t){var e=[];if(u(t))return[t];for(var n in t)u(t[n])&&e.push(t[n]);return e},c=function(t){return $.isArray(t)&&3===t.length&&"success"===t[1]?t[0]:t};$.ajaxTransport("view",function(e,n){var o,u,a,c,f=n.url,s=f.match(/\.[\w\d]+$/),p=function(t){var e=o.renderer(a,t);return r.cache&&(r.cached[a]=e),{view:e}};if((u=document.getElementById(f))&&(s="."+u.type.match(/\/(x\-)?(.+)/)[2]),s||(s=r.ext,f+=r.ext),a=t(f),f.match(/^\/\//)){var h=f.substr(2);f="undefined"==typeof steal?f="/"+h:steal.root.mapJoin(h)+""}return o=r.types[s],{send:function(t,e){if(r.cached[a])return e(200,"success",{view:r.cached[a]});u?e(200,"success",p(u.innerHTML)):c=$.ajax({async:n.async,url:f,dataType:"text",error:function(){i("",f),e(404)},success:function(t){i(t,f),e(200,"success",p(t))}})},abort:function(){c&&c.abort()}}}),$.extend(r,{hookups:{},hookup:function(t){var e=++n;return r.hookups[e]=t,e},cached:{},cache:!0,register:function(t){this.types["."+t.suffix]=t},types:{},ext:".ejs",registerScript:function(t,e,n){return"$.View.preload('"+e+"',"+r.types["."+t].script(e,n)+");"},preload:function(t,e){r.cached[t]=function(t,n){return e.call(t,t,n)}}}),window.steal;var f,s,p,h,l,d,y,v={val:!0,text:!0};f=function(t){var n=$.fn[t];$.fn[t]=function(){var i,o,a,c=e(arguments),f=this;if(u(c[0]))return c[0].done(function(t){s.call(f,[t],n)}),this;if(p(c)){if(i=d(c))return o=c[i],c[i]=function(t){s.call(f,[t],n),o.call(f,t)},r.apply(r,c),this;if(a=r.apply(r,c),u(a))return a.done(function(t){s.call(f,[t],n)}),this;c=[a]}return v[t]?n.apply(this,c):s.call(this,c,n)}},s=function(t,e){var n,i;for(var o in r.hookups)break;return o&&t[0]&&h(t[0])&&(i=r.hookups,r.hookups={},t[0]=$(t[0])),n=e.apply(this,t),i&&y(t[0],i),n},p=function(t){var e=typeof t[1];return"string"==typeof t[0]&&("object"==e||"function"==e)&&!l(t[1])},l=function(t){return t.nodeType||t.jquery},h=function(t){return!!l(t)||"string"==typeof t&&("<"===(t=$.trim(t)).substr(0,1)&&">"===t.substr(t.length-1,1)&&t.length>=3)},d=function(t){return"function"==typeof t[3]?3:"function"==typeof t[2]&&2},y=function(t,e){var n,i,o,u,a=0;for(i=(n=(t=t.filter(function(){return 3!=this.nodeType})).add("[data-view-id]",t)).length;a<i;a++)n[a].getAttribute&&(o=n[a].getAttribute("data-view-id"))&&(u=e[o])&&(u(n[a],o),delete e[o],n[a].removeAttribute("data-view-id"));$.extend(r.hookups,e)},$.fn.hookup=function(){var t=r.hookups;return r.hookups={},y(this,t),this},$.each(["prepend","append","after","before","text","html","replaceWith","val"],function(t,e){f(e)})});
/*jquery/lang/string/rsplit/rsplit*/
define("jquery/lang/string/rsplit/rsplit",["jquery/lang/string/string"],function(){$.String.rsplit=function(n,e){for(var i,r=e.exec(n),s=[];null!==r;)i=r.index,e.lastIndex,0!==i&&(s.push(n.substring(0,i)),n=n.slice(i)),s.push(r[0]),n=n.slice(r[0].length),r=e.exec(n);return""!==n&&s.push(n),s}});
/*jquery/view/ejs/ejs*/
define("jquery/view/ejs/ejs",["jquery/view/view","jquery/lang/string/rsplit/rsplit"],function(){var myEval=function(script){eval(script)},rSplit=$.String.rsplit,extend=$.extend,isArray=$.isArray,returnReg=/\r\n/g,retReg=/\r/g,newReg=/\n/g,nReg=/\n/,slashReg=/\\/g,quoteReg=/"/g,singleQuoteReg=/'/g,tabReg=/\t/g,leftBracket=/\{/g,rightBracket=/\}/g,quickFunc=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,clean=function(e){return e.replace(slashReg,"\\\\").replace(newReg,"\\n").replace(quoteReg,'\\"').replace(tabReg,"\\t")},escapeHTML=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(quoteReg,"&#34;").replace(singleQuoteReg,"&#39;")},$View=$.View,bracketNum=function(e){var t=e.match(leftBracket),n=e.match(rightBracket);return(t?t.length:0)-(n?n.length:0)},EJS=function(e){if(this.constructor!=EJS){var t=new EJS(e);return function(e,n){return t.render(e,n)}}"function"!=typeof e?(extend(this,EJS.options,e),this.template=compile(this.text,this.type,this.name)):this.template={fn:e}};window.jQuery&&(jQuery.EJS=EJS),EJS.prototype.render=function(e,t){e=e||{},this._extra_helpers=t;var n=new EJS.Helpers(e,t||{});return this.template.fn.call(e,e,n)},extend(EJS,{text:function(e){if("string"==typeof e)return e;if(null===e||void 0===e)return"";var t=e.hookup&&function(t,n){e.hookup.call(e,t,n)}||"function"==typeof e&&e||isArray(e)&&function(t,n){for(var r=0;r<e.length;r++)e[r].hookup?e[r].hookup(t,n):e[r](t,n)};return t?"data-view-id='"+$View.hookup(t)+"'":e.toString?e.toString():""},clean:function(e){return"string"==typeof e?escapeHTML(e):"number"==typeof e?e:EJS.text(e)},options:{type:"<",ext:".ejs"}});var scan=function(e,t,n){for(var r=rSplit(t,nReg),i=0;i<r.length;i++)scanline(e,r[i],n)},scanline=function(e,t,n){e.lines++;for(var r,i=rSplit(t,e.splitter),s=0;s<i.length;s++)null!==(r=i[s])&&n(r,e)},makeScanner=function(e,t){var n={};return extend(n,{left:e+"%",right:"%"+t,dLeft:e+"%%",dRight:"%%"+t,eeLeft:e+"%==",eLeft:e+"%=",cmnt:e+"%#",scan:scan,lines:0}),n.splitter=new RegExp("("+[n.dLeft,n.dRight,n.eeLeft,n.eLeft,n.cmnt,n.left,n.right+"\n",n.right,"\n"].join(")|(").replace(/\[/g,"\\[").replace(/\]/g,"\\]")+")"),n},compile=function(e,t,n){e=e.replace(returnReg,"\n").replace(retReg,"\n"),t=t||"<";var r="var ___v1ew = [];",i=new EJS.Buffer([r],[]),s="",u=function(e){i.push("___v1ew.push(",'"',clean(e),'");')},a=null,c=function(){s=""},l=[];scan(makeScanner(t,"["===t?"]":">"),e||"",function(e,t){var n;if(null===a)switch(e){case"\n":u(s+="\n"),i.cr(),c();break;case t.left:case t.eLeft:case t.eeLeft:case t.cmnt:a=e,s.length>0&&u(s),c();break;case t.dLeft:s+=t.left;break;default:s+=e}else switch(e){case t.right:switch(a){case t.left:n=bracketNum(s);var p=l.length&&-1==n?l.pop():";";"));"===p&&i.push("return ___v1ew.join('')"),i.push(s,p),1===n&&l.push(";");break;case t.eLeft:if((n=bracketNum(s))&&l.push("));"),quickFunc.test(s)){var h=s.match(quickFunc);s="function(__){var "+h[1]+"=$(__);"+h[2]+"}"}i.push("___v1ew.push(","jQuery.EJS.clean(",s,n?r:"));");break;case t.eeLeft:(n=bracketNum(s))&&l.push("));"),i.push("___v1ew.push(","jQuery.EJS.text(",s,n?r:"));")}a=null,c();break;case t.dRight:s+=t.right;break;default:s+=e}}),s.length>0&&i.push("___v1ew.push(",'"',clean(s)+'");');var p={out:"with(_VIEW) { with (_CONTEXT) {"+i.close()+" return ___v1ew.join('')}}"};return myEval.call(p,"this.fn = (function(_CONTEXT,_VIEW){"+p.out+'});\r\n//@ sourceURL="'+n+'.js"'),p};EJS.Buffer=function(e,t){this.line=[],this.script=[],this.post=t,this.push.apply(this,e)},EJS.Buffer.prototype={push:function(){this.line.push.apply(this.line,arguments)},cr:function(){this.script.push(this.line.join(""),"\n"),this.line=[]},close:function(){return this.line.length>0&&(this.script.push(this.line.join("")),this.line=[]),this.post.length&&this.push.apply(this,this.post),this.script.push(";"),this.script.join("")}},EJS.Helpers=function(e,t){this._data=e,this._extras=t,extend(this,t)},EJS.Helpers.prototype={plugin:function(e){var t=$.makeArray(arguments),n=t.shift();return function(e){var r=$(e);r[n].apply(r,t)}},view:function(e,t,n){return n=n||this._extras,t=t||this._data,$View(e,t,n)}},$View.register({suffix:"ejs",script:function(e,t){return"jQuery.EJS(function(_CONTEXT,_VIEW) { "+new EJS({text:t,name:e}).template.out+" })"},renderer:function(e,t){return EJS({text:t,name:e})}})});
/*jquery/view/json/json*/
define("jquery/view/json/json",["module","@loader","require"],function(e,r,n){r.get("@@global-helpers").prepareGlobal({require:n,name:e.id,deps:[]});var i=r.global.define,n=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'$.View.register({suffix:"json",script:function(r,n){var e=JSON.parse(n);return"function(){ return "+JSON.stringify(e)+"; }"},renderer:function(r,n){var e=JSON.parse(n);return function(){return e}}});',address:e.uri}),r.global.require=n,r.global.define=i,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*jquery/dom/dom*/
define("jquery/dom/dom",["jquery/jquery"]);
/*jquery/lang/object/object*/
define("jquery/lang/object/object",["jquery/jquery"],function(){var r=$.isArray,e=function(r){var e=0;for(var n in r)e++;return e};$.Object={};var n=$.Object.same=function(e,u,i,o,f,c){var v,a=typeof e,s=r(e),b=typeof i;if("string"!=b&&null!==i||(i=t[i],b="function"),"function"==b)return i(e,u,o,f);if(i=i||{},-1===c)return"object"===a||e===u;if(a!==typeof u||s!==r(u))return!1;if(e===u)return!0;if(s){if(e.length!==u.length)return!1;for(var j=0;j<e.length;j++)if(v=void 0===i[j]?i["*"]:i[j],!n(e[j],u[j],e,u,v))return!1;return!0}if("object"===a||"function"===a){var l=$.extend({},u);for(var d in e){if(v=void 0===i[d]?i["*"]:i[d],!n(e[d],u[d],v,e,u,!1===c?-1:void 0))return!1;delete l[d]}for(d in l)if(void 0===i[d]||!n(void 0,u[d],i[d],e,u,!1===c?-1:void 0))return!1;return!0}return!1};$.Object.subsets=function(r,n,t){for(var u=n.length,i=[],o=(e(r),0);o<u;o++){var f=n[o];$.Object.subset(r,f,t)&&i.push(f)}return i},$.Object.subset=function(r,e,t){var t=t||{};for(var u in e)if(!n(r[u],e[u],t[u],r,e))return!1;return!0};var t={null:function(){return!0},i:function(r,e){return(""+r).toLowerCase()==(""+e).toLowerCase()}}});
/*jquery/dom/fixture/fixture*/
define("jquery/dom/fixture/fixture",["jquery/dom/dom","jquery/lang/object/object","jquery/lang/string/string"],function(){$.ajaxPrefilter(function(e,t,n){if($.fixture.on){var i=r(e);if(e.fixture)if("string"==typeof e.fixture&&$.fixture[e.fixture]&&(e.fixture=$.fixture[e.fixture]),"string"==typeof e.fixture){var u=e.fixture;if(/^\/\//.test(u)){var a=e.fixture.substr(2)+"";u="undefined"==typeof steal?u="/"+a:steal.root.mapJoin(a)+""}e.url=u,e.data=null,e.type="GET",e.error||(e.error=function(e,t,r){throw"fixtures.js Error "+t+" "+r})}else e.dataTypes.splice(0,0,"fixture"),i&&$.extend(t.data,i);else"file:"===window.location.protocol&&console.log("ajax request to "+e.url+", no fixture found")}}),$.ajaxTransport("fixture",function(e,t){e.dataTypes.shift();var r,n=e.dataTypes[0];return{send:function(i,u){r=setTimeout(function(){var r=e.fixture(t,e,i);if($.isArray(r)||((a=[{}])[0][n]=r,r=a),"number"!=typeof r[0]&&r.unshift(200,"success"),!r[2]||!r[2][n]){var a={};a[n]=r[2],r[2]=a}u.apply(null,r)},$.fixture.delay)},abort:function(){clearTimeout(r)}}});var e=[],t=function(t,r){for(var n=0;n<e.length;n++)if(i._similar(t,e[n],r))return n;return-1},r=function(r){var n=t(r);if(n>-1)return r.fixture=e[n].fixture,i._getData(e[n].url,r.url)},n=function(e){var t=e.data.id;return void 0===t&&"number"==typeof e.data&&(t=e.data),void 0===t&&e.url.replace(/\/(\d+)(\/|$|\.)/g,function(e,r){t=r}),void 0===t&&(t=e.url.replace(/\/(\w+)(\/|$|\.)/g,function(e,r){"update"!=r&&(t=r)})),void 0===t&&(t=Math.round(1e3*Math.random())),t},i=$.fixture=function(r,n){if(void 0!==n){if("string"==typeof r){var i=r.match(/(GET|POST|PUT|DELETE) (.+)/i);r=i?{url:i[2],type:i[1]}:{url:r}}var u=t(r,!!n);if(u>-1&&e.splice(u,1),null==n)return;r.fixture=n,e.push(r)}},u=$.String._regs.replacer;$.extend($.fixture,{_similar:function(e,t,r){return r?$.Object.same(e,t,{fixture:null}):$.Object.subset(e,t,$.fixture._compare)},_compare:{url:function(e,t){return!!i._getData(t,e)},fixture:null,type:"i"},_getData:function(e,t){var r=[],n=e.replace(".","\\.").replace("?","\\?"),i=new RegExp(n.replace(u,function(e,t){return r.push(t),"([^/]+)"})+"$").exec(t),a={};return i?(i.shift(),$.each(r,function(e,t){a[t]=i.shift()}),a):null},"-restUpdate":function(e){return[200,"succes",{id:n(e)},{location:e.url+"/"+n(e)}]},"-restDestroy":function(e,t){return{}},"-restCreate":function(e,t,r,n){return[200,"succes",{id:n=n||parseInt(1e5*Math.random(),10)},{location:e.url+"/"+n}]},make:function(e,t,r,i){"string"==typeof e&&(e=[e+"s",e]);for(var u=$.fixture["~"+e[0]]=[],a=function(e){for(var t=0;t<u.length;t++)if(e==u[t].id)return u[t]},o=0;o<t;o++){var f=r(o,u);f.id||(f.id=o),u.push(f)}return $.fixture["-"+e[0]]=function(e){var t=u.slice(0);e.data=e.data||{},$.each((e.data.order||[]).slice(0).reverse(),function(e,r){var n=r.split(" ");t=t.sort(function(e,t){return"ASC"!==n[1].toUpperCase()?e[n[0]]<t[n[0]]?1:e[n[0]]==t[n[0]]?0:-1:e[n[0]]<t[n[0]]?-1:e[n[0]]==t[n[0]]?0:1})}),$.each((e.data.group||[]).slice(0).reverse(),function(e,r){var n=r.split(" ");t=t.sort(function(e,t){return e[n[0]]>t[n[0]]})});var r=parseInt(e.data.offset,10)||0,n=parseInt(e.data.limit,10)||u.length-r,a=0;for(var o in e.data)if(a=0,void 0!==e.data[o]&&(-1!=o.indexOf("Id")||-1!=o.indexOf("_id")))for(;a<t.length;)e.data[o]!=t[a][o]?t.splice(a,1):a++;if(i)for(a=0;a<t.length;)i(t[a],e)?a++:t.splice(a,1);return[{count:t.length,limit:e.data.limit,offset:e.data.offset,data:t.slice(r,r+n)}]},$.fixture["-"+e[1]]=function(e){var t=a(n(e));return t?[t]:[]},$.fixture["-"+e[1]+"Update"]=function(e,t){var r=n(e);return $.extend(a(r),e.data),$.fixture["-restUpdate"](e,t)},$.fixture["-"+e[1]+"Destroy"]=function(e,t){for(var r=n(e),i=0;i<u.length;i++)if(u[i].id==r){u.splice(i,1);break}return $.extend(a(r),e.data),$.fixture["-restDestroy"](e,t)},$.fixture["-"+e[1]+"Create"]=function(e,t){var n=r(u.length,u);return $.extend(n,e.data),n.id||(n.id=u.length),u.push(n),$.fixture["-restCreate"](e,t,void 0,n.id)},{getId:n,findOne:a,find:function(e){return a(n(e))}}},rand:function(e,t,r){if("number"==typeof e)return"number"==typeof t?e+Math.floor(Math.random()*(t-e)):Math.floor(Math.random()*e);var n=arguments.callee;if(void 0===t)return n(e,n(e.length+1));var i=[];e=e.slice(0),r||(r=t),r=t+Math.round(n(r-t));for(var u=0;u<r;u++)i.push(e.splice(n(e.length),1)[0]);return i},xhr:function(e){return $.extend({},{abort:$.noop,getAllResponseHeaders:function(){return""},getResponseHeader:function(){return""},open:$.noop,overrideMimeType:$.noop,readyState:4,responseText:"",responseXML:null,send:$.noop,setRequestHeader:$.noop,status:200,statusText:"OK"},e)},on:!0}),$.fixture.delay=200,$.fixture["-handleFunction"]=function(e){return"string"==typeof e.fixture&&$.fixture[e.fixture]&&(e.fixture=$.fixture[e.fixture]),"function"==typeof e.fixture&&(setTimeout(function(){e.success&&e.success.apply(null,e.fixture(e,"success")),e.complete&&e.complete.apply(null,e.fixture(e,"complete"))},$.fixture.delay),!0)},$.fixture.overwrites=e});
/*jquery/dom/form_params/form_params*/
define("jquery/dom/form_params/form_params",["jquery/dom/dom"],function(){var r=/[^\[\]]+/g,a=function(r){if($.isNumeric(r))return parseFloat(r);if("true"===r)return!0;if("false"===r)return!1;if(""!==r)return r},t=function(r,a,e,i,n,s){var f=i.shift();if(i.length)e[f]||(e[f]={}),t(r,a,e[f],i,n,s);else{if(f in s&&"radio"!=a&&!$.isArray(e[f])?e[f]=f in e?[e[f]]:[]:s[f]=!0,("radio"==a||"checkbox"==a)&&!r.is(":checked"))return;e[f]?e[f].push(n):e[f]=n}};$.fn.extend({formParams:function(r){var a;return!!r===r&&(a=r,r=null),r?this.setParams(r):this.getParams(a)},setParams:function(r){this.find("[name]").each(function(){var a,t=r[$(this).attr("name")];void 0!==t&&((a=$(this)).is(":radio")?a.val()==t&&a.attr("checked",!0):a.is(":checkbox")?(t=$.isArray(t)?t:[t],$.inArray(a.val(),t)>-1&&a.attr("checked",!0)):a.val(t))})},getParams:function(e){var i={},n={};return this.find("[name]").each(function(){var s,f=$(this),c=f.attr("type"),u=f.attr("name"),o=f.val();"submit"!=c&&u&&((s=u.match(r)).length||(s=[u]),e&&(o=a(o)),t(f,c,i,s,o,n))}),i}})});
/*jquery/lang/openajax/openajax*/
define("jquery/lang/openajax/openajax",[],function(){window.OpenAjax||(OpenAjax=new function(){window;var i="org.openajax.hub.",e={};this.hub=e,e.implementer="http://openajax.org",e.implVersion="2.0",e.specVersion="2.0",e.implExtraData={};var s={};e.libraries=s,e.registerLibrary=function(e,t,n,r){s[e]={prefix:e,namespaceURI:t,version:n,extraData:r},this.publish(i+"registerLibrary",s[e])},e.unregisterLibrary=function(e){this.publish(i+"unregisterLibrary",s[e]),delete s[e]},e._subscriptions={c:{},s:[]},e._cleanup=[],e._subIndex=0,e._pubDepth=0,e.subscribe=function(i,e,s,t,n){s||(s=window);var r=i+"."+this._subIndex,a={scope:s,cb:e,fcb:n,data:t,sid:this._subIndex++,hdl:r},p=i.split(".");return this._subscribe(this._subscriptions,p,0,a),r},e.publish=function(i,e){var s=i.split(".");if(this._pubDepth++,this._publish(this._subscriptions,s,0,i,e),this._pubDepth--,this._cleanup.length>0&&0==this._pubDepth){for(var t=0;t<this._cleanup.length;t++)this.unsubscribe(this._cleanup[t].hdl);delete this._cleanup,this._cleanup=[]}},e.unsubscribe=function(i){var e=i.split("."),s=e.pop();this._unsubscribe(this._subscriptions,e,0,s)},e._subscribe=function(i,e,s,t){var n=e[s];s==e.length?i.s.push(t):(void 0===i.c&&(i.c={}),void 0===i.c[n]?(i.c[n]={c:{},s:[]},this._subscribe(i.c[n],e,s+1,t)):this._subscribe(i.c[n],e,s+1,t))},e._publish=function(i,e,s,t,n,r){if(void 0!==i){var a;if(s==e.length?a=i:(this._publish(i.c[e[s]],e,s+1,t,n,r),this._publish(i.c["*"],e,s+1,t,n,r),a=i.c["**"]),void 0!==a)for(var p=a.s,u=p.length,b=0;b<u;b++)if(p[b].cb){var c=p[b].scope,h=p[b].cb,o=p[b].fcb,l=p[b].data;"string"==typeof h&&(h=c[h]),"string"==typeof o&&(o=c[o]),o&&!o.call(c,t,n,l)||h.call(c,t,n,l,r)}}},e._unsubscribe=function(i,e,s,t){if(void 0!==i){if(s<e.length){var n=i.c[e[s]];if(this._unsubscribe(n,e,s+1,t),0==n.s.length){for(var r in n.c)return;delete i.c[e[s]]}return}for(var a=i.s,p=a.length,u=0;u<p;u++)if(t==a[u].sid)return void(this._pubDepth>0?(a[u].cb=null,this._cleanup.push(a[u])):a.splice(u,1))}},e.reinit=function(){for(var i in OpenAjax.hub.libraries)delete OpenAjax.hub.libraries[i];OpenAjax.hub.registerLibrary("OpenAjax","http://openajax.org/hub","1.0",{}),delete OpenAjax._subscriptions,OpenAjax._subscriptions={c:{},s:[]},delete OpenAjax._cleanup,OpenAjax._cleanup=[],OpenAjax._subIndex=0,OpenAjax._pubDepth=0}},OpenAjax.hub.registerLibrary("OpenAjax","http://openajax.org/hub","1.0",{})),OpenAjax.hub.registerLibrary("JavaScriptMVC","http://JavaScriptMVC.com","3.1",{})});
/*jquery/controller/subscribe/subscribe*/
define("jquery/controller/subscribe/subscribe",["jquery/controller/controller","jquery/lang/openajax/openajax"],function(){jQuery.Controller.processors.subscribe=function(r,e,n,u,o){var b=OpenAjax.hub.subscribe(n,function(){return o[u].apply(o,arguments)});return function(){OpenAjax.hub.unsubscribe(b)}},jQuery.Controller.prototype.publish=function(){OpenAjax.hub.publish.apply(OpenAjax.hub,arguments)}});
/*jquery/controller/view/view*/
define("jquery/controller/view/view",["jquery/controller/controller","jquery/view/view"],function(e){var r=steal.URI||steal.File;jQuery.Controller.getFolder=function(){return jQuery.String.underscore(this.fullName.replace(/\./g,"/")).replace("/Controllers","")},jQuery.Controller._calculatePosition=function(e,t,l){var n=e.fullName.split("."),o=n.slice(0);o.splice(0,2);o.join("/");var i=n.length>2&&"Controllers"==n[1],s=i?jQuery.String.underscore(n[0]):jQuery.String.underscore(n.join("/")),u=jQuery.String.underscore(o.join("/")).toLowerCase(),a="string"==typeof t&&/\.[\w\d]+$/.test(t)?"":jQuery.View.ext;return"string"==typeof t?t="~/"==t.substr(0,2)?t.substr(2):s+"/views/"+(-1!==t.indexOf("/")?t:(i?u+"/":"")+t)+a:t||(t="//"+r(s).join("views/"+(i?u+"/":"")+l.replace(/\.|#/g,"").replace(/ /g,"_"))+a),t};var t=function(e){var r={};if(e)if(jQuery.isArray(e))for(var t=0;t<e.length;t++)jQuery.extend(r,e[t]);else jQuery.extend(r,e);else{this._default_helpers&&(r=this._default_helpers);for(var l=window,n=this.constructor.fullName.split(/\./),o=0;o<n.length;o++)l&&("object"==typeof l.Helpers&&jQuery.extend(r,l.Helpers),l=l[n[o]]);l&&"object"==typeof l.Helpers&&jQuery.extend(r,l.Helpers),this._default_helpers=r}return r};jQuery.Controller.prototype.view=function(e,r,l){"string"==typeof e||l||(l=r,r=e,e=null),e=jQuery.Controller._calculatePosition(this.Class,e,this.called),r=r||this;var n=t.call(this,l);return jQuery.View(e,r,n)}});
/*jquery/lang/json/json*/
define("jquery/lang/json/json",["jquery/jquery"],function(){$.toJSON=function(r,e,t,n){if("object"==typeof JSON&&JSON.stringify)return JSON.stringify(r,e,t);!n&&$.isFunction(e)&&(r=e("",r)),"number"==typeof t&&(t="          ".substring(0,t)),t="string"==typeof t?t.substring(0,10):"";b=typeof r;if(null===r)return"null";if("undefined"!=b&&"function"!=b){if("number"==b||"boolean"==b)return r+"";if("string"==b)return $.quoteString(r);if("object"==b){if("function"==typeof r.toJSON)return $.toJSON(r.toJSON(),e,t,!0);if(r.constructor===Date){var i=r.getUTCMonth()+1;i<10&&(i="0"+i);var o=r.getUTCDate();o<10&&(o="0"+o);var u=r.getUTCFullYear(),f=r.getUTCHours();f<10&&(f="0"+f);var a=r.getUTCMinutes();a<10&&(a="0"+a);var s=r.getUTCSeconds();s<10&&(s="0"+s);var c=r.getUTCMilliseconds();return c<100&&(c="0"+c),c<10&&(c="0"+c),'"'+u+"-"+i+"-"+o+"T"+f+":"+a+":"+s+"."+c+'Z"'}var l=$.isFunction(e)?function(r,t){return e(r,t)}:function(r,e){return e},g=t?"\n":"",p=t?" ":"";if(r.constructor===Array){for(var S=[],v=0;v<r.length;v++)S.push(($.toJSON(l(v,r[v]),e,t,!0)||"null").replace(/^/gm,t));return"["+g+S.join(","+g)+g+"]"}var y,d=[];$.isArray(e)&&(y=$.map(e,function(r){return"string"==typeof r||"number"==typeof r?r+"":null}));for(var J in r){var N,O,b=typeof J;if(!y||-1!=$.inArray(J+"",y)){if("number"==b)N='"'+J+'"';else{if("string"!=b)continue;N=$.quoteString(J)}void 0!==(O=$.toJSON(l(J,r[J]),e,t,!0))&&d.push((N+":"+p+O).replace(/^/gm,t))}}return"{"+g+d.join(","+g)+g+"}"}}},$.evalJSON=function(src){return"object"==typeof JSON&&JSON.parse?JSON.parse(src):eval("("+src+")")},$.secureEvalJSON=function(src){if("object"==typeof JSON&&JSON.parse)return JSON.parse(src);var filtered=src;if(filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@"),filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]"),filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(r){return r.match(_escapeable)?'"'+r.replace(_escapeable,function(r){var e=_meta[r];return"string"==typeof e?e:(e=r.charCodeAt(),"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))})+'"':'"'+r+'"'};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,_meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}});
/*jquery/dom/cookie/cookie*/
define("jquery/dom/cookie/cookie",["jquery/lang/json/json"],function(){jQuery.cookie=function(e,o,i){if(void 0===o){var r=null;if(document.cookie&&""!=document.cookie)for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var u=jQuery.trim(t[n]);if(u.substring(0,e.length+1)==e+"="){r=decodeURIComponent(u.substring(e.length+1));break}}if(jQuery.evalJSON&&r&&r.match(/^\s*\{/))try{r=jQuery.evalJSON(r)}catch(e){}return r}i=i||{},null===o&&(o="",i.expires=-1),"object"==typeof o&&jQuery.toJSON&&(o=jQuery.toJSON(o));var c="";if(i.expires&&("number"==typeof i.expires||i.expires.toUTCString)){var a;"number"==typeof i.expires?(a=new Date).setTime(a.getTime()+24*i.expires*60*60*1e3):a=i.expires,c="; expires="+a.toUTCString()}var s=i.path?"; path="+i.path:"",p=i.domain?"; domain="+i.domain:"",m=i.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(o),c,s,p,m].join("")}});
/*jquery/dom/compare/compare*/
define("jquery/dom/compare/compare",["jquery/dom/dom"],function(e){jQuery.fn.compare=function(e){try{e=e.jquery?e[0]:e}catch(e){return null}if(window.HTMLElement){var t=HTMLElement.prototype.toString.call(e);if("[xpconnect wrapped native prototype]"==t||"[object XULElement]"==t||"[object Window]"===t)return null}if(this[0].compareDocumentPosition)return this[0].compareDocumentPosition(e);if(this[0]==document&&e!=document)return 8;var n=(this[0]!==e&&this[0].contains(e)&&16)+(this[0]!=e&&e.contains(this[0])&&8),o=document.documentElement;if(this[0].sourceIndex)n+=this[0].sourceIndex<e.sourceIndex&&4,n+=this[0].sourceIndex>e.sourceIndex&&2,n+=(this[0].ownerDocument!==e.ownerDocument||this[0]!=o&&this[0].sourceIndex<=0||e!=o&&e.sourceIndex<=0)&&1;else{var r=document.createRange(),c=document.createRange();r.selectNode(this[0]),c.selectNode(e),r.compareBoundaryPoints(Range.START_TO_START,c)}return n}});
/*lib/frog_query*/
define("lib/frog_query",["module","@loader","require"],function(e,t,r){t.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var i=t.global.define,r=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'steal.import("sprintf!lib-js").then(function(){window.FrogOS=function(){var t=jQuery(".os_core:first"),e={getUser:function(){return t.triggerHandler("os.getUser",{})},sprintf:sprintf,fdp:function(t){return t.type||(t.type="get"),t.path?-1===t.path.indexOf(Frog.Utilities.getBaseUrl())&&(0===t.path.indexOf("..")&&(t.path=t.path.substr(2,t.path.length)),t.path=Frog.Utilities.getBaseUrl()+t.path):t.path=Frog.Utilities.getBaseUrl()+"/api/fdp/1/",Lib.Models.Abstract.Fdp.api(t)},openSite:function(e){return t.trigger("os.app.siteviewer",{data:e}),this},openApp:function(e,r){return t.trigger("os.internal.launchapp",{data:{name:e,data:r}}),this}};return jQuery("body:first").one("FrogCore.ready",function(e){e.stopImmediatePropagation(),t=jQuery(".os_core:first")}),e}()});',address:e.uri}),t.global.require=r,t.global.define=i,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/broadcast/broadcast_model*/
define("lib/broadcast/broadcast_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'$.Model("Broadcast.Model",{},{});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/broadcast/interval_model*/
define("lib/broadcast/interval_model",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var r=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Broadcast.Model.extend("Broadcast.Models.Interval",{attributes:{endTime:"number",startTime:"number"},init:function(){this.validate(["endTime","startTime"],function(t){return"number"!=typeof t?"must be a number":parseInt(t,10)!==t?"must be an integer":void 0}),this.validate("startTime",function(t){if(this.endTime&&t>this.endTime)return"can not be greater than the end time provided"}),this.validate("endTime",function(t){if(this.startTime&&t<this.startTime)return"can not be greater than the start time provided"})}},{});',address:e.uri}),t.global.require=i,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/broadcast/user_model*/
define("lib/broadcast/user_model",["module","@loader","require"],function(e,r,i){r.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var o=r.global.define,i=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Broadcast.Model.extend("Broadcast.Models.User",{id:"uuid",attributes:{details:"Broadcast.Models.User.Detail.model",displayname:"string",profile:"Broadcast.Models.User.Profile.model",source:"string",username:"string",uuid:"string"},init:function(){this.validate("uuid",function(e){if("string"!=typeof e)return"must be provided"})}},{}),Broadcast.Model.extend("Broadcast.Models.User.Detail",{attributes:{forename:"string",gender:"string",surname:"string",thumbnail:"string"}},{}),Broadcast.Model.extend("Broadcast.Models.User.Profile",{attributes:{type:"string"}},{});',address:e.uri}),r.global.require=i,r.global.define=o,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/broadcast/calendar_model*/
define("lib/broadcast/calendar_model",["module","@loader","require"],function(e,l,i){l.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var r=l.global.define,i=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Broadcast.Model.extend("Broadcast.Models.Calendar",{id:"uuid",attributes:{uuid:"string"},init:function(){this.validate("uuid",function(t){if("string"!=typeof t)return"must be provided"})}},{});',address:e.uri}),l.global.require=i,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/broadcast/subject_model*/
define("lib/broadcast/subject_model",["module","@loader","require"],function(e,i,r){i.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var l=i.global.define,r=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'Broadcast.Model.extend("Broadcast.Models.Subject",{id:"uuid",attributes:{name:"string",code:"string",uuid:"string"},init:function(){this.validate("uuid",function(t){if("string"!=typeof t)return"must be provided"})}},{});',address:e.uri}),i.global.require=r,i.global.define=l,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/broadcast/submittedform_model*/
define("lib/broadcast/submittedform_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Broadcast.Model.extend("Broadcast.Models.SubmittedForm",{},{});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/broadcast/control_model*/
define("lib/broadcast/control_model",["module","@loader","require"],function(e,o,i){o.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var r=o.global.define,i=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:'Broadcast.Model.extend("Broadcast.Models.Control.Button",{id:"uuid",attributes:{name:"string",code:"string",uuid:"string"},init:function(){this.validate("uuid",function(t){if("string"!=typeof t)return"must be provided"})}},{});',address:e.uri}),o.global.require=i,o.global.define=r,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/broadcast/broadcast*/
define("lib/broadcast/broadcast",["lib/broadcast/broadcast_model","lib/broadcast/interval_model","lib/broadcast/user_model","lib/broadcast/calendar_model","lib/broadcast/subject_model","lib/broadcast/submittedform_model","lib/broadcast/control_model"]);
/*lib/frog_widget_model*/
define("lib/frog_widget_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model("Frog.Widget.Model",{},{});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/controller/realtime/realtime*/
define("lib/controller/realtime/realtime",["module","@loader","require"],function(e,r,i){r.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var o=r.global.define,i=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Controller.processors.realtime=function(r,e,i,o,n){var s=i.split(".").shift(),t=moment().unix();OpenAjax.hub.publish("realtime.subscribe",{root:s,selector:i,driver:n.options.driver||void 0,id:n.id||t});var u=OpenAjax.hub.subscribe("realtime."+i,function(){return n[o].apply(n,arguments)});return function(){OpenAjax.hub.publish("realtime.unsubscribe",{root:s,selector:i,driver:n.options.driver||void 0,id:n.id||t}),OpenAjax.hub.unsubscribe(u)}};',address:e.uri}),r.global.require=i,r.global.define=o,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/frog_widget_text_controller*/
define("lib/frog_widget_text_controller",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var o=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Widget.Controller.extend("Frog.Widget.Text.Controller",{instances:[]},{ckeditor_options:{toolbar:[["PasteFromWord","-","Undo","Redo"],["OSBgColor"],["RemoveFormat"],["TextColor","BGColor","-","Bold","Italic","Underline","Subscript","Superscript"],["Format","Font","FontSize"],"/",["BorderThickness","RoundedCorners","BorderColor"],["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","NumberedList","BulletedList","-","Indent","Outdent"],"/",["PaddingAll","PaddingTop","PaddingRight","PaddingBottom","PaddingLeft"],["Discover","FrogOSImage","Table","HorizontalRule","SpecialChar","ckeditor_wiris_formulaEditor"],["AppLink","FrogOSLink","SiteLink","PageLink","FileLink","Unlink"]],extraPlugins:"discover,frogossitelink,frogoslink,sharedspace,frogosimage,frogospagelink,frogosfilelink,ckeditor_wiris,frogosbgcolor,frogosbordercolor,frogosapplink,imageresize,frogospadding,frogosborders",removePlugins:"floatingspace,resize,elementspath,link,magicline",allowedContent:!0,frogos_site_uuid:null},init:function(t){var e=this;this.elements={},this.ckeditor_instance=null,this.ckeditor_pref=this.ckeditor_pref||null,this.elements.content=this.element.find("div.content"),this.edit_mode=!1,this.Class.instances.push(e),$.support.touch&&(this.ckeditor_options.toolbar=[["PasteFromWord","-","Undo","Redo"],["RemoveFormat"],"/",["TextColor","BGColor","-","Bold","Italic","Underline"],["Format","Font","FontSize"],"/",["BorderThickness","RoundedCorners","BorderColor"],["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","NumberedList","BulletedList","-","Indent","Outdent"],"/",["PaddingAll","PaddingTop","PaddingRight","PaddingBottom","PaddingLeft"],["Discover","FrogOSImage","Table","HorizontalRule","SpecialChar"],["AppLink","FrogOSLink","SiteLink","PageLink","FileLink","Unlink"]]),this.ckeditor_options.language=Lib.Models.i18n.get("language"),$(window).on("error",function(t){if(e.edit_mode){if(!e.Class.instances||0===e.Class.instances.length)return;return setTimeout(function(){var t=e.Class.instances[0];e.Class&&e.Class.instances&&0!==e.Class.instances.length&&(t.edit_mode=!0,t.element.find(".content").trigger("focus"),t.initEditor(),e.Class.instances=[])},1e3),$(window).off(t),!0}}),this.ckeditor_pref||(this.ckeditor_pref=this.prefs.user_input),this.loadComponent(),this.componentLoaded.then(function(){e.render()})},loadComponent:function(){this.componentLoaded=steal.import("frogui/components/ckeditor/ckeditor!frog-component")},render:function(){if(!window.ckeditorFontsLoaded)return setTimeout(this.render.bind(this),300);this.elements&&this.elements.content.html(this.ckeditor_pref.value),this.prefs.backgroundColour&&this.prefs.backgroundColour.value&&this.elements.content.css({"background-color":this.prefs.backgroundColour.value,padding:"3px"})},"widget.edit":function(t,e){var i=this;i.componentLoaded.then(function(){CKEDITOR.config.siteLink=i.options.siteLink,CKEDITOR.config.site_uuid=i.options.site_uuid,CKEDITOR.config.skin="frogos,/app/public/js/frog/ckeditor/skins/frogos/",i.edit_mode=!0})},"widget.live":function(t,e){this.edit_mode=!1,this.element.find(".Wirisformula").bind("dblclick",function(t){t.stopImmediatePropagation()})},"widget.focus":function(t,e){var i=this;this.edit_mode&&($.support.touch&&$("#ckeditor_richtext_toolbar_msg").hide(),this.elements.content.attr("contenteditable",!0),void 0!==i.componentsLoaded?i.componentsLoaded.then(function(){i.initEditor()}):i.initEditor(),this.element.find(".content").trigger("focus"))},"widget.blur":function(){!0===this.edit_mode&&(this.destroyEditor(),this.element.find(".content").trigger("blur"),$.support.touch&&$("#ckeditor_richtext_toolbar_msg").show())},"widget.before_destroy":function(t,e,i){this.destroyEditor(),this.Class.instances=[],i(!0)},initEditor:function(){var t=this,e="ckeditor_richtext_inline_"+Frog.Utilities.generateSimpleId();this.ckeditor_options.frogos_site_uuid=this.options.site_uuid,this.componentLoaded.then(function(){t.elements.content.before($("<div>").attr("id",e).on("click",function(t){t.stopPropagation()})),t.elements.content.frogui_components_ckeditor($.extend(!0,{sharedSpaces:{top:e},placeholder:t.ckeditor_pref.defaultValue},t.ckeditor_options)).on("postRender",function(e,i){i.getData()===t._(t.ckeditor_pref.defaultValue)&&i.ckeditor_instance.setData(""),i.ckeditor_instance.focus()})})},destroyEditor:function(t){var e=this;t="function"==typeof t?t:$.noop,this.elements.content.hasClass("frogui_components_ckeditor")&&this.elements.content.frogui_components_ckeditor("destroy").on("postDestroy",function(){e.elements.content.attr("contenteditable",!1),e.elements.content.prev("[id^=ckeditor_richtext_inline_]").remove()}).on("destroyed",t)},"[data-resource-uuid-cke] {click}":function(t,e){if(e.preventDefault(),!this.edit_mode)return Frog.Utilities.download(t.data("resource-url")+"/?mode=download&original_filename=true&size=original",!0),!1},"[data-page-link-cke] {click}":function(t,e){if(e.preventDefault(),!this.edit_mode){var i=\'[data-link="\'+t.data("page-link-cke")+\'"]\';this.element.closest(".sites_core").find(i).trigger(this.options.click)}},"[data-app-link-cke] {click}":function(t,e){e.preventDefault()},"[data-site-uuid-cke] {click}":function(t,e){if(e.preventDefault(),!this.edit_mode)return this.trigger("os.app.siteviewer",{site:t.data("site-uuid-cke")}),!1},"a[data-cke-saved-href] click":function(t,e){var i=this;if("#"!==t.data("cke-saved-href")){var o=t.attr("href"),n="";if(e.preventDefault(),this.edit_mode||void 0===t.attr("href"))return;this.deepLinkMod(o).done(function(e){e||(i.deeplinkdata[o]?i.launchThirdPartyApp(i.deeplinkdata[o]):(void 0!==t.attr("target")&&(n=t.attr("target")),o.match(/^(http|https):\\/\\/|mailto:/)||(o="http://"+o),"_blank"!==n&&_Roles.has("widget.text.target.enabled")?window.location.replace(o):window.open(o)))})}},"ckeditor.changeBackgroundColour":function(t,e,i){this.elements.content.css("backgroundColor",i),Sites.Models.PrefsDom.getSibling("backgroundColour").trigger("setValue",i)}});',address:e.uri}),t.global.require=i,t.global.define=o,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/frog_widget_html_controller*/
define("lib/frog_widget_html_controller",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var s=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Widget.Controller.extend("Frog.Widget.Html.Controller",{listensTo:["widget.edit","widget.live","widget.save"],regexp_script:/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi},{prefs:{html:{type:"codeeditor",label:"label.html.textarea",languageSelect:!1,defaultValue:""},js:{type:"hidden",label:"",defaultValue:""},associations:{type:"associations",label:"Widget Collections",defaultValue:JSON.stringify({associations:[],publisher:!1,subscriber:!0})}},init:function(){this.prefs.html.label=this._(this.prefs.html.label);try{JSON.parse(this.prefs.html.value)}catch(t){this.prefs.html.value=JSON.stringify({code:this.prefs.html.value,lang:"htmlmixed"})}},parseData:function(){for(var t,e=JSON.parse(this.prefs.html.value).code||"",i=this.prefs.js.value,s=this.Class,a=e.match(s.regexp_script)||[],l=e.replace(s.regexp_script,""),r=(this.element,0);r<a.length;r++)a[r]=a[r].replace(/<script.*?>|<\\/script>/gi," ");return t=$.trim(a.join(" ")+" "+i),{html:l,js:t}},render:function(t,e){steal.import("frogui/modules/quickassign/quickassign!frog-component").then(function(){var i=this.element,s={site:this.element.closest(".sites_core"),page:this.element.closest(".sites_page")};if(this.element.html(t),""!==e)try{new Function(e).call({element:this.element,elements:s},this.element)}catch(t){console.log(t),i.html($(\'<div class="alert alert-error"></div>\').text(this._("code.js.malformed")))}}.bind(this))},\'[data-action="showhHelp"] {click}\':function(){"edit"===this.state&&this.element.trigger("os.app.help",{data:{page:"HTML"}})},"widget.live":function(t,e){if(!0!==this.options.disabled){var i=this.parseData(),s=[],a=this;$("<div></div>").html(i.html).find("a").each(function(t){void 0!==$(this).attr("href")&&s.push($(this).attr("href"))}),s.length>0?(this.showLoader(),this.getDeepLinkData(s).always(function(){a.hideLoader()})):this.deeplinkdata=[],this.render(i.html,i.js)}else this.element.html($(\'<div class="alert alert-error"></div>\').append($("<strong />").text(this._("widget.disabled"))).append(this._("widget.disabled.message")))},"widget.edit":function(t,e){this.element.empty().append($("<img />").attr("src",this.options.imgDir+"icon.png").after($("<h4 />").text(this._("widget.title"))).after($("<p>"+this._("widget.warning")+"</p>")))},"a click":function(t,e){if(void 0!==t.attr("href")&&t.attr("href").match(/^#/))return!0;if(e.preventDefault(),void 0!==t.attr("href"))if(this.deeplinkdata[t.attr("href")])this.launchThirdPartyApp(this.deeplinkdata[t.attr("href")]);else{var i=t.attr("href"),s=t.attr("target");i.match(/^(http|https):\\/\\/|(mailto:.+\\@.+\\..+)/)||(i="http://"+i),void 0!==s?window.open(i,s):window.open(i)}}});',address:e.uri}),t.global.require=i,t.global.define=s,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/models/models-ex*/
define("lib/models/models-ex",["jquery/jquery","jquery/model/model","public/js/libs/moment/moment.min","public/js/libs/jquery-i18n/jquery.i18n","lib/vendor/i18n/extensions","lib/models/abstract/fdp_model","lib/models/abstract/api/cache_model","lib/frog_model","lib/models/folder_model","lib/models/i18n_model","lib/models/preferences_model","lib/models/quicklaunch_model","lib/models/resourcelist_model","lib/models/timetable_model","lib/models/widgets_model","lib/models/app_model","lib/models/orgips_model","lib/models/i18n/externalapps_i18n_model","lib/models/site_model","lib/models/assignment/activity_model","lib/models/award_model","lib/models/curriculum/curriculum_type_model","lib/models/curriculum/learning_objective_model","lib/models/systempreferences_model","lib/models/user_model","lib/models/assignment/group_model","lib/models/resource_model","lib/models/note_model","lib/models/user_award_model","lib/models/curriculum/learning_locker_resource_model","lib/models/assignment/group/user_model","lib/models/external_resource_model","lib/models/user/details_model","lib/models/user/profile_model","lib/models/user/auth_model","lib/models/group/type_model","lib/models/user_model","lib/models/group_model","lib/models/secure_gateway/config_model","lib/models/secure_gateway/rule_model","lib/models/resource_model","lib/models/site_model","lib/models/network_drive_model","lib/models/network/directory_model","lib/models/network/file_model","lib/models/site/condition_model","lib/models/site/rule_model","lib/models/resources/share_model","lib/models/resources/report_model","lib/models/resources/package_model","lib/models/filedrop_model"],function(e,l,o){window.moment=o});
/*lib/frog_widget_criteria_controller*/
define("lib/frog_widget_criteria_controller",["module","@loader","require"],function(e,r,l){r.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var o=r.global.define,l=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Widget.Controller.extend("Frog.Widget.Criteria.Controller",{},{});',address:e.uri}),r.global.require=l,r.global.define=o,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*public/js/libs/textareamaxlength/textareamaxlength*/
define("public/js/libs/textareamaxlength/textareamaxlength",["module","@loader","require"],function(e,r,l){r.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var n=r.global.define,l=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'!function(e){jQuery.fn.textareaMaxLength=function(){return e.browser.msie&&"8"==e.browser.version.slice(0,1)?this.each(function(t,n){if(!(n=e(n)).is("textarea"))return n;n.on("keyup",function(){var e=n.val(),t=n.attr("maxlength");t&&e.length>t&&(e=e.substring(0,t),n.val(e))})}):this}}(jQuery);',address:e.uri}),r.global.require=l,r.global.define=n,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*public/js/libs/bootstrap/bootstrap-modals-override*/
define("public/js/libs/bootstrap/bootstrap-modals-override",["module","@loader","require"],function(e,o,l){o.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var r=o.global.define,l=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:"$.fn.modal.Constructor.prototype.enforceFocus=function(){};",address:e.uri}),o.global.require=l,o.global.define=r,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*public/js/libs/bootstrap/bootstrap-carousel-override*/
define("public/js/libs/bootstrap/bootstrap-carousel-override",["module","@loader","require"],function(e,i,t){i.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var s=i.global.define,t=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'$.fn.carousel.Constructor.prototype.slide=function(e,t){var i,s=this.$element.find(".item.active"),n=t||s[e](),a=this.interval,l="next"==e?"left":"right",r="next"==e?"first":"last",d=this;if(this.sliding=!0,a&&this.pause(),n=n.length?n:this.$element.find(".item")[r](),i=$.Event("slide",{relatedTarget:n[0],direction:l}),!n.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=$(d.$indicators.children()[d.getActiveIndex()]);e&&e.addClass("active"),e[0].offsetHeight})),$.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;n.addClass(e),n[0].offsetWidth,s.addClass(l),n.addClass(l),this.$element.one($.support.transition.end,function(){n.removeClass([e,l].join(" ")).addClass("active"),s.removeClass(["active",l].join(" ")),d.sliding=!1,setTimeout(function(){d.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;s.removeClass("active"),n.addClass("active"),n[0].offsetHeight,this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}};',address:e.uri}),i.global.require=t,i.global.define=s,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*public/js/libs/bootstrap/custom-typeahead-override*/
define("public/js/libs/bootstrap/custom-typeahead-override",["module","@loader","require"],function(e,t,o){t.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var s=t.global.define,o=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'$.fn.typeahead.Constructor.prototype.keyup=function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.preventDefault()},$.fn.typeahead.Constructor.prototype.show=function(t){var e=$.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return $(document).on("click",$.proxy(this.blur,this)),this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},$.fn.typeahead.Constructor.prototype.hide=function(){return this.$menu.hide(),this.shown=!1,$(document).off("click",$.proxy(this.blur,this)),this},$.fn.typeahead.Constructor.prototype.listen=function(){this.$element.on("focus",$.proxy(this.focus,this)).on("keypress",$.proxy(this.keypress,this)).on("keyup",$.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",$.proxy(this.keydown,this)),this.$menu.on("tap click",$.proxy(this.click,this)).on("mouseenter","li",$.proxy(this.mouseenter,this)).on("mouseleave","li",$.proxy(this.mouseleave,this)).on("touchstart","li",$.proxy(this.mouseenter,this)).on("touchend","li",$.proxy(this.mouseleave,this))},$.fn.typeahead.Constructor.prototype.mouseleave=function(t){this.mousedover=!1};',address:e.uri}),t.global.require=o,t.global.define=s,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*public/js/libs/dotdotdot/jquery.dotdotdot*/
define("public/js/libs/dotdotdot/jquery.dotdotdot",["module","@loader","require"],function(t,e,n){e.get("@@global-helpers").prepareGlobal({require:n,name:t.id,deps:[]});var o=e.global.define,n=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'!function(t,e){function n(t,e,n){var r=t.children(),o=!1;t.empty();for(var i=0,d=r.length;i<d;i++){var l=r.eq(i);if(t.append(l),n&&t.append(n),a(t,e)){l.remove(),o=!0;break}n&&n.detach()}return o}function r(e,n,i,d,l){var s=!1;return e.contents().detach().each(function(){var c=this,u=t(c);if(void 0===c||3==c.nodeType&&0==t.trim(c.data).length)return!0;if(u.is("script"))e.append(u);else{if(s)return!0;e.append(u),l&&e[e.is("table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style")?"after":"append"](l),a(i,d)&&((s=3==c.nodeType?o(u,n,i,d,l):r(u,n,i,d,l))||(u.detach(),s=!0)),s||l&&l.detach()}}),s}function o(e,n,r,o,d){var c=e[0];if(!c)return!1;var h=s(c),f=-1!==h.indexOf(" ")?" ":"",p="letter"==o.wrap?"":f,g=h.split(p),v=-1,w=-1,b=0,y=g.length-1;for(o.fallbackToLetter&&0==b&&0==y&&(p="",y=(g=h.split(p)).length-1);b<=y&&(0!=b||0!=y);){var m=Math.floor((b+y)/2);if(m==w)break;w=m,l(c,g.slice(0,w+1).join(p)+o.ellipsis),a(r,o)?(y=w,o.fallbackToLetter&&0==b&&0==y&&(p="",v=-1,w=-1,b=0,y=(g=g[0].split(p)).length-1)):(v=w,b=w)}if(-1==v||1==g.length&&0==g[0].length){var x=e.parent();e.detach();var T=d&&d.closest(x).length?d.length:0;x.contents().length>T?c=u(x.contents().eq(-1-T),n):(c=u(x,n,!0),T||x.detach()),c&&(l(c,h=i(s(c),o)),T&&d&&t(c).parent().append(d))}else l(c,h=i(g.slice(0,v+1).join(p),o));return!0}function a(t,e){return t.innerHeight()>e.maxHeight}function i(e,n){for(;t.inArray(e.slice(-1),n.lastCharacter.remove)>-1;)e=e.slice(0,-1);return t.inArray(e.slice(-1),n.lastCharacter.noEllipsis)<0&&(e+=n.ellipsis),e}function d(t){return{width:t.innerWidth(),height:t.innerHeight()}}function l(t,e){t.innerText?t.innerText=e:t.nodeValue?t.nodeValue=e:t.textContent&&(t.textContent=e)}function s(t){return t.innerText?t.innerText:t.nodeValue?t.nodeValue:t.textContent?t.textContent:""}function c(t){do{t=t.previousSibling}while(t&&1!==t.nodeType&&3!==t.nodeType);return t}function u(e,n,r){var o,a=e&&e[0];if(a){if(!r){if(3===a.nodeType)return a;if(t.trim(e.text()))return u(e.contents().last(),n)}for(o=c(a);!o;){if((e=e.parent()).is(n)||!e.length)return!1;o=c(e[0])}if(o)return u(t(o),n)}return!1}function h(e,n){return!!e&&("string"==typeof e?!!(e=t(e,n)).length&&e:!!e.jquery&&e)}function f(t){for(var e=t.innerHeight(),n=["paddingTop","paddingBottom"],r=0,o=n.length;r<o;r++){var a=parseInt(t.css(n[r]),10);isNaN(a)&&(a=0),e-=a}return e}if(!t.fn.dotdotdot){t.fn.dotdotdot=function(e){if(0==this.length)return t.fn.dotdotdot.debug(\'No element found for "\'+this.selector+\'".\'),this;if(this.length>1)return this.each(function(){t(this).dotdotdot(e)});var o=this;o.data("dotdotdot")&&o.trigger("destroy.dot"),o.data("dotdotdot-style",o.attr("style")||""),o.css("word-wrap","break-word"),"nowrap"===o.css("white-space")&&o.css("white-space","normal"),o.bind_events=function(){return o.bind("update.dot",function(e,d){e.preventDefault(),e.stopPropagation(),l.maxHeight="number"==typeof l.height?l.height:f(o),l.maxHeight+=l.tolerance,void 0!==d&&(("string"==typeof d||d instanceof HTMLElement)&&(d=t("<div />").append(d).contents()),d instanceof t&&(i=d)),(g=o.wrapInner(\'<div class="dotdotdot" />\').children()).contents().detach().end().append(i.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var c=!1,u=!1;return s.afterElement&&((c=s.afterElement.clone(!0)).show(),s.afterElement.detach()),a(g,l)&&(u="children"==l.wrap?n(g,l,c):r(g,o,g,l,c)),g.replaceWith(g.contents()),g=null,t.isFunction(l.callback)&&l.callback.call(o[0],u,i),s.isTruncated=u,u}).bind("isTruncated.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(o[0],s.isTruncated),s.isTruncated}).bind("originalContent.dot",function(t,e){return t.preventDefault(),t.stopPropagation(),"function"==typeof e&&e.call(o[0],i),i}).bind("destroy.dot",function(t){t.preventDefault(),t.stopPropagation(),o.unwatch().unbind_events().contents().detach().end().append(i).attr("style",o.data("dotdotdot-style")||"").data("dotdotdot",!1)}),o},o.unbind_events=function(){return o.unbind(".dot"),o},o.watch=function(){if(o.unwatch(),"window"==l.watch){var e=t(window),n=e.width(),r=e.height();e.bind("resize.dot"+s.dotId,function(){n==e.width()&&r==e.height()&&l.windowResizeFix||(n=e.width(),r=e.height(),u&&clearInterval(u),u=setTimeout(function(){o.trigger("update.dot")},10))})}else c=d(o),u=setInterval(function(){var t=d(o);c.width==t.width&&c.height==t.height||(o.trigger("update.dot"),c=d(o))},100);return o},o.unwatch=function(){return t(window).unbind("resize.dot"+s.dotId),u&&clearInterval(u),o};var i=o.contents(),l=t.extend(!0,{},t.fn.dotdotdot.defaults,e),s={},c={},u=null,g=null;return l.lastCharacter.remove instanceof Array||(l.lastCharacter.remove=t.fn.dotdotdot.defaultArrays.lastCharacter.remove),l.lastCharacter.noEllipsis instanceof Array||(l.lastCharacter.noEllipsis=t.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),s.afterElement=h(l.after,o),s.isTruncated=!1,s.dotId=p++,o.data("dotdotdot",!0).bind_events().trigger("update.dot"),l.watch&&o.watch(),o},t.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},t.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","",",",";",".","!","?"],noEllipsis:[]}},t.fn.dotdotdot.debug=function(t){};var p=1,g=t.fn.html;t.fn.html=function(e){return void 0!=e&&!t.isFunction(e)&&this.data("dotdotdot")?this.trigger("update",[e]):g.apply(this,arguments)};var v=t.fn.text;t.fn.text=function(e){return void 0!=e&&!t.isFunction(e)&&this.data("dotdotdot")?(e=t("<div />").text(e).html(),this.trigger("update",[e])):v.apply(this,arguments)}}}(jQuery);',address:t.uri}),e.global.require=n,e.global.define=o,e.get("@@global-helpers").retrieveGlobal(t.id,void 0)});
/*public/js/libs/customsortable/customsortable*/
define("public/js/libs/customsortable/customsortable",["module","@loader","require"],function(t,e,i){e.get("@@global-helpers").prepareGlobal({require:i,name:t.id,deps:[]});var s=e.global.define,i=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'$.widget("ui.customsortable",$.ui.sortable,{_create:function(){$.ui.sortable.prototype._create.apply(this)},_mouseCapture:function(t,e){var i=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(t);var s=null;$(t.target).parents().each(function(){if($.data(this,i.widgetName+"-item")==i)return s=$(this),!1});if($.data(t.target,i.widgetName+"-item")==i&&(s=$(t.target)),!s)return!1;if(this.options.handle&&!e){var n=!1;if($(this.options.handle,s).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),s.is(this.options.handle)&&(n=!0),!n)return!1}return this.currentItem=s,this._removeCurrentsFromItems(),!0}}),$.ui.plugin.add("draggable","connectToCustomSortable",{start:function(t,e){var i=$(this).data("draggable"),s=i.options,n=$.extend({},e,{item:i.element});i.sortables=[],$(s.connectToCustomSortable).each(function(){var e=$.data(this,"customsortable");e&&!e.options.disabled&&(i.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",t,n))})},stop:function(t,e){var i=$(this).data("draggable"),s=$.extend({},e,{item:i.element});$.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"==i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,s))})},drag:function(t,e){var i=$(this).data("draggable"),s=this;$.each(i.sortables,function(n){var a=!1,r=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,$.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!=r&&this.instance._intersectsWith(this.instance.containerCache)&&$.ui.contains(r.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=$(s).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return e.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)})}});',address:t.uri}),e.global.require=i,e.global.define=s,e.get("@@global-helpers").retrieveGlobal(t.id,void 0)});
/*public/js/libs/jqueryui-selectable/jquery.ui.selectable.frog*/
define("public/js/libs/jqueryui-selectable/jquery.ui.selectable.frog",["module","@loader","require"],function(e,t,s){t.get("@@global-helpers").prepareGlobal({require:s,name:e.id,deps:[]});var l=t.global.define,s=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'$.widget("ui.selectable",$.ui.mouse,{version:"1.9.2.Frog.0.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var e=this;this.element.addClass("ui-selectable"),this.dragged=!1;var t;this.refresh=function(){(t=$(e.options.filter,e.element[0])).addClass("ui-selectee"),t.each(function(){var e=$(this),t=e.offset();$.data(this,"selectable-item",{element:this,$element:e,left:t.left,top:t.top,right:t.left+e.outerWidth(),bottom:t.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=$("<div class=\'ui-selectable-helper\'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var t=this;if(this.opos=[e.pageX,e.pageY],!this.options.disabled){var s=this.options;this.selectees=$(s.filter,this.element[0]),this._trigger("start",e),$(s.appendTo).append(this.helper),this.helper.css({left:e.clientX-2,top:e.clientY-2,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=$.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,t._trigger("unselecting",e,{unselecting:s.element}))}),$(e.target).parents().andSelf().each(function(){var s=$.data(this,"selectable-item");if(s){var l=!e.metaKey&&!e.ctrlKey||!s.$element.hasClass("ui-selected");return s.$element.removeClass(l?"ui-unselecting":"ui-selected").addClass(l?"ui-selecting":"ui-unselecting"),s.unselecting=!l,s.selecting=l,s.selected=l,l?t._trigger("selecting",e,{selecting:s.element}):t._trigger("unselecting",e,{unselecting:s.element}),!1}})}},_mouseDrag:function(e){var t=this;if(this.dragged=!0,!this.options.disabled){var s=this.options,l=this.opos[0],i=this.opos[1],n=e.pageX,c=e.pageY;if(l>n){a=n;n=l,l=a}if(i>c){var a=c;c=i,i=a}return this.helper.css({left:l,top:i,width:n-l,height:c-i}),this.selectees.each(function(){var a=$.data(this,"selectable-item");if(a&&a.element!=t.element[0]){var r=!1;"touch"==s.tolerance?r=!(a.left>n||a.right<l||a.top>c||a.bottom<i):"fit"==s.tolerance&&(r=a.left>l&&a.right<n&&a.top>i&&a.bottom<c),r?(a.selected&&(a.$element.removeClass("ui-selected"),a.selected=!1),a.unselecting&&(a.$element.removeClass("ui-unselecting"),a.unselecting=!1),a.selecting||(a.$element.addClass("ui-selecting"),a.selecting=!0,t._trigger("selecting",e,{selecting:a.element}))):(a.selecting&&((e.metaKey||e.ctrlKey)&&a.startselected?(a.$element.removeClass("ui-selecting"),a.selecting=!1,a.$element.addClass("ui-selected"),a.selected=!0):(a.$element.removeClass("ui-selecting"),a.selecting=!1,a.startselected&&(a.$element.addClass("ui-unselecting"),a.unselecting=!0),t._trigger("unselecting",e,{unselecting:a.element}))),a.selected&&(e.metaKey||e.ctrlKey||a.startselected||(a.$element.removeClass("ui-selected"),a.selected=!1,a.$element.addClass("ui-unselecting"),a.unselecting=!0,t._trigger("unselecting",e,{unselecting:a.element}))))}}),!1}},_mouseStop:function(e){var t=this;this.dragged=!1;this.options;return $(".ui-unselecting",this.element[0]).each(function(){var s=$.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,t._trigger("unselected",e,{unselected:s.element})}),$(".ui-selecting",this.element[0]).each(function(){var s=$.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,t._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}});',address:e.uri}),t.global.require=s,t.global.define=l,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*public/js/libs/selectmenu/jquery.ui.selectmenu*/
define("public/js/libs/selectmenu/jquery.ui.selectmenu",["module","@loader","require"],function(e,t,s){t.get("@@global-helpers").prepareGlobal({require:s,name:e.id,deps:[]});var i=t.global.define,s=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'$.widget("ui.selectmenu",{getter:"value",version:"1.9",eventPrefix:"selectmenu",options:{transferClasses:!0,typeAhead:1e3,style:"dropdown",positionOptions:{my:"left top",at:"left bottom",offset:null},width:null,menuWidth:null,handleWidth:26,maxHeight:null,icons:null,format:null,bgImage:function(){},wrapperElement:"<div />"},_create:function(){var e=this,t=this.options,s=(this.element.attr("id")||"ui-selectmenu-"+Math.random().toString(16).slice(2,10)).replace(":","\\\\:");this.ids=[s,s+"-button",s+"-menu"],this._safemouseup=!0,this.isOpen=!1,this.newelement=$("<a />",{class:this.widgetBaseClass+" ui-widget ui-state-default ui-corner-all",id:this.ids[1],role:"button",href:"#nogo",tabindex:this.element.attr("disabled")?1:0,"aria-haspopup":!0,"aria-owns":this.ids[2]}),this.newelementWrap=$(t.wrapperElement).append(this.newelement).insertAfter(this.element);var i=this.element.attr("tabindex");i&&this.newelement.attr("tabindex",i),this.newelement.data("selectelement",this.element),this.selectmenuIcon=$(\'<span class="\'+this.widgetBaseClass+\'-icon ui-icon"></span>\').prependTo(this.newelement),this.newelement.prepend(\'<span class="\'+e.widgetBaseClass+\'-status" />\'),this.element.bind({"click.selectmenu":function(t){e.newelement.focus(),t.preventDefault()}}),this.newelement.bind("mousedown.selectmenu",function(s){return e._toggle(s,!0),"popup"==t.style&&(e._safemouseup=!1,setTimeout(function(){e._safemouseup=!0},300)),!1}).bind("click.selectmenu",function(){return!1}).bind("keydown.selectmenu",function(t){var s=!1;switch(t.keyCode){case $.ui.keyCode.ENTER:s=!0;break;case $.ui.keyCode.SPACE:e._toggle(t);break;case $.ui.keyCode.UP:t.altKey?e.open(t):e._moveSelection(-1);break;case $.ui.keyCode.DOWN:t.altKey?e.open(t):e._moveSelection(1);break;case $.ui.keyCode.LEFT:e._moveSelection(-1);break;case $.ui.keyCode.RIGHT:e._moveSelection(1);break;case $.ui.keyCode.TAB:s=!0;break;case $.ui.keyCode.HOME:e.index(0);break;default:s=!0}return s}).bind("keypress.selectmenu",function(t){return t.which>0&&e._typeAhead(t.which,"mouseup"),!0}).bind("mouseover.selectmenu focus.selectmenu",function(){t.disabled||$(this).addClass(e.widgetBaseClass+"-focus ui-state-hover")}).bind("mouseout.selectmenu blur.selectmenu",function(){t.disabled||$(this).removeClass(e.widgetBaseClass+"-focus ui-state-hover")}),$(document).bind("mousedown.selectmenu-"+this.ids[0],function(t){e.isOpen&&e.close(t)}),this.element.bind("click.selectmenu",function(){e._refreshValue()}).bind("focus.selectmenu",function(){e.newelement&&e.newelement[0].focus()}),t.width||(t.width=this.element.outerWidth()),this.newelement.width(t.width),this.element.hide(),this.list=$("<ul />",{class:"ui-widget ui-widget-content","aria-hidden":!0,role:"listbox","aria-labelledby":this.ids[1],id:this.ids[2]}),this.listWrap=$(t.wrapperElement).addClass(e.widgetBaseClass+"-menu").append(this.list).appendTo("body"),this.list.bind("keydown.selectmenu",function(t){var s=!1;switch(t.keyCode){case $.ui.keyCode.UP:t.altKey?e.close(t,!0):e._moveFocus(-1);break;case $.ui.keyCode.DOWN:t.altKey?e.close(t,!0):e._moveFocus(1);break;case $.ui.keyCode.LEFT:e._moveFocus(-1);break;case $.ui.keyCode.RIGHT:e._moveFocus(1);break;case $.ui.keyCode.HOME:e._moveFocus(":first");break;case $.ui.keyCode.PAGE_UP:e._scrollPage("up");break;case $.ui.keyCode.PAGE_DOWN:e._scrollPage("down");break;case $.ui.keyCode.END:e._moveFocus(":last");break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:e.close(t,!0),$(t.target).parents("li:eq(0)").trigger("mouseup");break;case $.ui.keyCode.TAB:s=!0,e.close(t,!0),$(t.target).parents("li:eq(0)").trigger("mouseup");break;case $.ui.keyCode.ESCAPE:e.close(t,!0);break;default:s=!0}return s}).bind("keypress.selectmenu",function(t){return t.which>0&&e._typeAhead(t.which,"focus"),!0}).bind("mousedown.selectmenu mouseup.selectmenu",function(){return!1}),$(window).bind("resize.selectmenu-"+this.ids[0],$.proxy(e.close,this))},_init:function(){var e=this,t=this.options,s=[];this.element.find("option").each(function(){var i=$(this);s.push({value:i.attr("value"),text:e._formatText(i.text()),selected:i.attr("selected"),disabled:i.attr("disabled"),classes:i.attr("class"),typeahead:i.attr("typeahead"),parentOptGroup:i.parent("optgroup"),bgImage:t.bgImage.call(i)})});var i="popup"==e.options.style?" ui-state-active":"";if(this.list.html(""),s.length)for(var a=0;a<s.length;a++){var n={role:"presentation"};s[a].disabled&&(n.class=this.namespace+"-state-disabled");var o={html:s[a].text,href:"#nogo",tabindex:-1,role:"option","aria-selected":!1};s[a].disabled&&(o["aria-disabled"]=s[a].disabled),s[a].typeahead&&(o.typeahead=s[a].typeahead);var l=$("<a/>",o),d=$("<li/>",n).append(l).data("index",a).addClass(s[a].classes).data("optionClasses",s[a].classes||"").bind("mouseup.selectmenu",function(t){if(e._safemouseup&&!e._disabled(t.currentTarget)&&!e._disabled($(t.currentTarget).parents("ul>li."+e.widgetBaseClass+"-group "))){var s=$(this).data("index")!=e._selectedIndex();e.index($(this).data("index")),e.select(t),s&&e.change(t),e.close(t,!0)}return!1}).bind("click.selectmenu",function(){return!1}).bind("mouseover.selectmenu focus.selectmenu",function(t){$(t.currentTarget).hasClass(e.namespace+"-state-disabled")||$(t.currentTarget).parent("ul").parent("li").hasClass(e.namespace+"-state-disabled")||(e._selectedOptionLi().addClass(i),e._focusedOptionLi().removeClass(e.widgetBaseClass+"-item-focus ui-state-hover"),$(this).removeClass("ui-state-active").addClass(e.widgetBaseClass+"-item-focus ui-state-hover"))}).bind("mouseout.selectmenu blur.selectmenu",function(){$(this).is(e._selectedOptionLi().selector)&&$(this).addClass(i),$(this).removeClass(e.widgetBaseClass+"-item-focus ui-state-hover")});if(s[a].parentOptGroup.length){var r=e.widgetBaseClass+"-group-"+this.element.find("optgroup").index(s[a].parentOptGroup);this.list.find("li."+r).length?this.list.find("li."+r+":last ul").append(d):$(\' <li role="presentation" class="\'+e.widgetBaseClass+"-group "+r+(s[a].parentOptGroup.attr("disabled")?" "+this.namespace+\'-state-disabled" aria-disabled="true"\':\'"\')+\'><span class="\'+e.widgetBaseClass+\'-group-label">\'+s[a].parentOptGroup.attr("label")+"</span><ul></ul></li> ").appendTo(this.list).find("ul").append(d)}else d.appendTo(this.list);if(t.icons)for(var h in t.icons)if(d.is(t.icons[h].find)){d.data("optionClasses",s[a].classes+" "+e.widgetBaseClass+"-hasIcon").addClass(e.widgetBaseClass+"-hasIcon");var u=t.icons[h].icon||"";d.find("a:eq(0)").prepend(\'<span class="\'+e.widgetBaseClass+"-item-icon ui-icon "+u+\'"></span>\'),s[a].bgImage&&d.find("span").css("background-image",s[a].bgImage)}}else $(\'<li role="presentation"><a href="#nogo" tabindex="-1" role="option"></a></li>\').appendTo(this.list);var c="dropdown"==t.style;if(this.newelement.toggleClass(e.widgetBaseClass+"-dropdown",c).toggleClass(e.widgetBaseClass+"-popup",!c),this.list.toggleClass(e.widgetBaseClass+"-menu-dropdown ui-corner-bottom",c).toggleClass(e.widgetBaseClass+"-menu-popup ui-corner-all",!c).find("li:first").toggleClass("ui-corner-top",!c).end().find("li:last").addClass("ui-corner-bottom"),this.selectmenuIcon.toggleClass("ui-icon-triangle-1-s",c).toggleClass("ui-icon-triangle-2-n-s",!c),t.transferClasses){var p=this.element.attr("class")||"";this.newelement.add(this.list).addClass(p)}"dropdown"==t.style?this.list.width(t.menuWidth?t.menuWidth:t.width):this.list.width(t.menuWidth?t.menuWidth:t.width-t.handleWidth),this.list.css("height","auto");var m=this.listWrap.height();if(t.maxHeight&&t.maxHeight<m)this.list.height(t.maxHeight);else{var f=$(window).height()/3;f<m&&this.list.height(f)}this._optionLis=this.list.find("li:not(."+e.widgetBaseClass+"-group)"),this.element.attr("disabled")?this.disable():this.enable(),this.index(this._selectedIndex()),window.setTimeout(function(){e._refreshPosition()},200)},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled").unbind(".selectmenu"),$(window).unbind(".selectmenu-"+this.ids[0]),$(document).unbind(".selectmenu-"+this.ids[0]),this.newelementWrap.remove(),this.listWrap.remove(),this.element.unbind(".selectmenu").show(),$.Widget.prototype.destroy.apply(this,arguments)},_typeAhead:function(e,t){var s=this,i=String.fromCharCode(e).toLowerCase(),a=this.list.find("li a"),n=null,o=null;s._typeAhead_timer&&(window.clearTimeout(s._typeAhead_timer),s._typeAhead_timer=void 0),s._typeAhead_chars=(void 0===s._typeAhead_chars?"":s._typeAhead_chars).concat(i),s._typeAhead_chars.length<2||s._typeAhead_chars.substr(-2,1)===i&&s._typeAhead_cycling?(s._typeAhead_cycling=!0,n=i):(s._typeAhead_cycling=!1,n=s._typeAhead_chars);for(var l=("focus"!==t?this._selectedOptionLi().data("index"):this._focusedOptionLi().data("index"))||0,d=0;d<a.length;d++)if(a.eq(d).text().substr(0,n.length).toLowerCase()===n)if(s._typeAhead_cycling){if(null===o&&(o=d),d>l){o=d;break}}else o=d;null!==o&&a.eq(o).trigger(t),s._typeAhead_timer=window.setTimeout(function(){s._typeAhead_timer=void 0,s._typeAhead_chars=void 0,s._typeAhead_cycling=void 0},s.options.typeAhead)},_uiHash:function(){var e=this.index();return{index:e,option:$("option",this.element).get(e),value:this.element[0].value}},open:function(e){var t=this,s=this.options;if("true"!=t.newelement.attr("aria-disabled")){t._closeOthers(e),t.newelement.addClass("ui-state-active"),t.listWrap.appendTo(s.appendTo),t.list.attr("aria-hidden",!1),t.listWrap.addClass(t.widgetBaseClass+"-open");var i=this._selectedOptionLi();"dropdown"==s.style?t.newelement.removeClass("ui-corner-all").addClass("ui-corner-top"):this.list.css("left",-5e3).scrollTop(this.list.scrollTop()+i.position().top-this.list.outerHeight()/2+i.outerHeight()/2).css("left","auto"),t._refreshPosition();var a=i.find("a");a.length&&a[0].focus(),t.isOpen=!0,t._trigger("open",e,t._uiHash())}},close:function(e,t){this.newelement.is(".ui-state-active")&&(this.newelement.removeClass("ui-state-active"),this.listWrap.removeClass(this.widgetBaseClass+"-open"),this.list.attr("aria-hidden",!0),"dropdown"==this.options.style&&this.newelement.removeClass("ui-corner-top").addClass("ui-corner-all"),t&&this.newelement.focus(),this.isOpen=!1,this._trigger("close",e,this._uiHash()))},change:function(e){this.element.trigger("change"),this._trigger("change",e,this._uiHash())},select:function(e){if(this._disabled(e.currentTarget))return!1;this._trigger("select",e,this._uiHash())},_closeOthers:function(e){$("."+this.widgetBaseClass+".ui-state-active").not(this.newelement).each(function(){$(this).data("selectelement").selectmenu("close",e)}),$("."+this.widgetBaseClass+".ui-state-hover").trigger("mouseout")},_toggle:function(e,t){this.isOpen?this.close(e,t):this.open(e)},_formatText:function(e){return this.options.format?this.options.format(e):e},_selectedIndex:function(){return this.element[0].selectedIndex},_selectedOptionLi:function(){return this._optionLis.eq(this._selectedIndex())},_focusedOptionLi:function(){return this.list.find("."+this.widgetBaseClass+"-item-focus")},_moveSelection:function(e,t){if(!this.options.disabled){var s=parseInt(this._selectedOptionLi().data("index")||0,10)+e;if(s<0&&(s=0),s>this._optionLis.size()-1&&(s=this._optionLis.size()-1),s===t)return!1;if(!this._optionLis.eq(s).hasClass(this.namespace+"-state-disabled"))return this._optionLis.eq(s).trigger("mouseup");e>0?++e:--e,this._moveSelection(e,s)}},_moveFocus:function(e,t){if(isNaN(e))s=parseInt(this._optionLis.filter(e).data("index"),10);else var s=parseInt(this._focusedOptionLi().data("index")||0,10)+e;if(s<0&&(s=0),s>this._optionLis.size()-1&&(s=this._optionLis.size()-1),s===t)return!1;var i=this.widgetBaseClass+"-item-"+Math.round(1e3*Math.random());this._focusedOptionLi().find("a:eq(0)").attr("id",""),this._optionLis.eq(s).hasClass(this.namespace+"-state-disabled")?(e>0?++e:--e,this._moveFocus(e,s)):this._optionLis.eq(s).find("a:eq(0)").attr("id",i).focus(),this.list.attr("aria-activedescendant",i)},_scrollPage:function(e){var t=Math.floor(this.list.outerHeight()/this.list.find("li:first").outerHeight());t="up"==e?-t:t,this._moveFocus(t)},_setOption:function(e,t){this.options[e]=t,"disabled"==e&&(t&&this.close(),this.element.add(this.newelement).add(this.list)[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",t))},disable:function(e,t){void 0===e?this._setOption("disabled",!0):"optgroup"==t?this._disableOptgroup(e):this._disableOption(e)},enable:function(e,t){void 0===e?this._setOption("disabled",!1):"optgroup"==t?this._enableOptgroup(e):this._enableOption(e)},_disabled:function(e){return $(e).hasClass(this.namespace+"-state-disabled")},_disableOption:function(e){var t=this._optionLis.eq(e);t&&(t.addClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",!0),this.element.find("option").eq(e).attr("disabled","disabled"))},_enableOption:function(e){var t=this._optionLis.eq(e);t&&(t.removeClass(this.namespace+"-state-disabled").find("a").attr("aria-disabled",!1),this.element.find("option").eq(e).removeAttr("disabled"))},_disableOptgroup:function(e){var t=this.list.find("li."+this.widgetBaseClass+"-group-"+e);t&&(t.addClass(this.namespace+"-state-disabled").attr("aria-disabled",!0),this.element.find("optgroup").eq(e).attr("disabled","disabled"))},_enableOptgroup:function(e){var t=this.list.find("li."+this.widgetBaseClass+"-group-"+e);t&&(t.removeClass(this.namespace+"-state-disabled").attr("aria-disabled",!1),this.element.find("optgroup").eq(e).removeAttr("disabled"))},index:function(e){return arguments.length?!this._disabled($(this._optionLis[e]))&&(this.element[0].selectedIndex=e,void this._refreshValue()):this._selectedIndex()},value:function(e){if(!arguments.length)return this.element[0].value;this.element[0].value=e,this._refreshValue()},_refreshValue:function(){var e="popup"==this.options.style?" ui-state-active":"",t=this.widgetBaseClass+"-item-"+Math.round(1e3*Math.random());this.list.find("."+this.widgetBaseClass+"-item-selected").removeClass(this.widgetBaseClass+"-item-selected"+e).find("a").attr("aria-selected","false").attr("id",""),this._selectedOptionLi().addClass(this.widgetBaseClass+"-item-selected"+e).find("a").attr("aria-selected","true").attr("id",t);var s=this.newelement.data("optionClasses")?this.newelement.data("optionClasses"):"",i=this._selectedOptionLi().data("optionClasses")?this._selectedOptionLi().data("optionClasses"):"";this.newelement.removeClass(s).data("optionClasses",i).addClass(i).find("."+this.widgetBaseClass+"-status").html(this._selectedOptionLi().find("a:eq(0)").html()),this.list.attr("aria-activedescendant",t)},_refreshPosition:function(){var e=this.options;if("popup"==e.style&&!e.positionOptions.offset)var t=this._selectedOptionLi(),s="0 "+(this.list.offset().top-t.offset().top-(this.newelement.outerHeight()+t.outerHeight())/2);this.listWrap.zIndex(this.element.zIndex()+1).position({of:e.positionOptions.of||this.newelement,my:e.positionOptions.my,at:e.positionOptions.at,offset:e.positionOptions.offset||s,collision:e.positionOptions.collision||"flip"})}});',address:e.uri}),t.global.require=s,t.global.define=i,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*public/js/libs/zindex_ordering/zindex_ordering*/
define("public/js/libs/zindex_ordering/zindex_ordering",["module","@loader","require"],function(e,r,i){r.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var l=r.global.define,i=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'!function(n){n.fn.orderByZ=function(){return this.length?this.sort(function(t,i){return n(i).css("z-index")-n(t).css("z-index")}):this}}(jQuery);',address:e.uri}),r.global.require=i,r.global.define=l,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*node_modules/jquery-lazy/jquery.lazy.min*/
define("node_modules/jquery-lazy/jquery.lazy.min",["module","@loader","require"],function(t,e,r){e.get("@@global-helpers").prepareGlobal({require:r,name:t.id,deps:[]});var a=e.global.define,r=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'!function(t,e){"use strict";function r(r,a,i,l,u){function f(){L=t.devicePixelRatio>1,i=c(i),a.delay>=0&&setTimeout(function(){s(!0)},a.delay),(a.delay<0||a.combined)&&(l.e=v(a.throttle,function(t){"resize"===t.type&&(w=B=-1),s(t.all)}),l.a=function(t){t=c(t),i.push.apply(i,t)},l.g=function(){return i=n(i).filter(function(){return!n(this).data(a.loadedName)})},l.f=function(t){for(var e=0;e<t.length;e++){var r=i.filter(function(){return this===t[e]});r.length&&s(!1,r)}},s(),n(a.appendScroll).on("scroll."+u+" resize."+u,l.e))}function c(t){for(var i=a.defaultImage,o=a.placeholder,l=a.imageBase,u=a.srcsetAttribute,f=a.loaderAttribute,c=a._f||{},s=0,d=(t=n(t).filter(function(){var t=n(this),r=m(this);return!t.data(a.handledName)&&(t.attr(a.attribute)||t.attr(u)||t.attr(f)||c[r]!==e)}).data("plugin_"+a.name,r)).length;s<d;s++){var A=n(t[s]),g=m(t[s]),h=A.attr(a.imageBaseAttribute)||l;g===N&&h&&A.attr(u)&&A.attr(u,b(A.attr(u),h)),c[g]===e||A.attr(f)||A.attr(f,c[g]),g===N&&i&&!A.attr(E)?A.attr(E,i):g===N||!o||A.css(O)&&"none"!==A.css(O)||A.css(O,"url(\'"+o+"\')")}return t}function s(t,e){if(i.length){for(var o=e||i,l=!1,u=a.imageBase||"",f=a.srcsetAttribute,c=a.handledName,s=0;s<o.length;s++)if(t||e||A(o[s])){var g=n(o[s]),h=m(o[s]),b=g.attr(a.attribute),v=g.attr(a.imageBaseAttribute)||u,p=g.attr(a.loaderAttribute);g.data(c)||a.visibleOnly&&!g.is(":visible")||!((b||g.attr(f))&&(h===N&&(v+b!==g.attr(E)||g.attr(f)!==g.attr(F))||h!==N&&v+b!==g.css(O))||p)||(l=!0,g.data(c,!0),d(g,h,v,p))}l&&(i=n(i).filter(function(){return!n(this).data(c)}))}else a.autoDestroy&&r.destroy()}function d(t,e,r,i){++z;var o=function(){y("onError",t),p(),o=n.noop};y("beforeLoad",t);var l=a.attribute,u=a.srcsetAttribute,f=a.sizesAttribute,c=a.retinaAttribute,s=a.removeAttribute,d=a.loadedName,A=t.attr(c);if(i){var g=function(){s&&t.removeAttr(a.loaderAttribute),t.data(d,!0),y(T,t),setTimeout(p,1),g=n.noop};t.off(I).one(I,o).one(D,g),y(i,t,function(e){e?(t.off(D),g()):(t.off(I),o())})||t.trigger(I)}else{var h=n(new Image);h.one(I,o).one(D,function(){t.hide(),e===N?t.attr(C,h.attr(C)).attr(F,h.attr(F)).attr(E,h.attr(E)):t.css(O,"url(\'"+h.attr(E)+"\')"),t[a.effect](a.effectTime),s&&(t.removeAttr(l+" "+u+" "+c+" "+a.imageBaseAttribute),f!==C&&t.removeAttr(f)),t.data(d,!0),y(T,t),h.remove(),p()});var m=(L&&A?A:t.attr(l))||"";h.attr(C,t.attr(f)).attr(F,t.attr(u)).attr(E,m?r+m:null),h.complete&&h.trigger(D)}}function A(t){var e=t.getBoundingClientRect(),r=a.scrollDirection,n=a.threshold,i=h()+n>e.top&&-n<e.bottom,o=g()+n>e.left&&-n<e.right;return"vertical"===r?i:"horizontal"===r?o:i&&o}function g(){return w>=0?w:w=n(t).width()}function h(){return B>=0?B:B=n(t).height()}function m(t){return t.tagName.toLowerCase()}function b(t,e){if(e){var r=t.split(",");t="";for(var a=0,n=r.length;a<n;a++)t+=e+r[a].trim()+(a!==n-1?",":"")}return t}function v(t,e){var n,i=0;return function(o,l){function u(){i=+new Date,e.call(r,o)}var f=+new Date-i;n&&clearTimeout(n),f>t||!a.enableThrottle||l?u():n=setTimeout(u,t-f)}}function p(){--z,i.length||z||y("onFinishedAll")}function y(t,e,n){return!!(t=a[t])&&(t.apply(r,[].slice.call(arguments,1)),!0)}var z=0,w=-1,B=-1,L=!1,T="afterLoad",D="load",I="error",N="img",E="src",F="srcset",C="sizes",O="background-image";"event"===a.bind||o?f():n(t).on(D+"."+u,f)}function a(a,o){var l=this,u=n.extend({},l.config,o),f={},c=u.name+"-"+ ++i;return l.config=function(t,r){return r===e?u[t]:(u[t]=r,l)},l.addItems=function(t){return f.a&&f.a("string"===n.type(t)?n(t):t),l},l.getItems=function(){return f.g?f.g():{}},l.update=function(t){return f.e&&f.e({},!t),l},l.force=function(t){return f.f&&f.f("string"===n.type(t)?n(t):t),l},l.loadAll=function(){return f.e&&f.e({all:!0},!0),l},l.destroy=function(){return n(u.appendScroll).off("."+c,f.e),n(t).off("."+c),f={},e},r(l,u,a,f,c),u.chainable?a:l}var n=t.jQuery||t.Zepto,i=0,o=!1;n.fn.Lazy=n.fn.lazy=function(t){return new a(this,t)},n.Lazy=n.lazy=function(t,r,i){if(n.isFunction(r)&&(i=r,r=[]),n.isFunction(i)){t=n.isArray(t)?t:[t],r=n.isArray(r)?r:[r];for(var o=a.prototype.config,l=o._f||(o._f={}),u=0,f=t.length;u<f;u++)(o[t[u]]===e||n.isFunction(o[t[u]]))&&(o[t[u]]=i);for(var c=0,s=r.length;c<s;c++)l[r[c]]=t[0]}},a.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:t,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},n(t).on("load",function(){o=!0})}(window);',address:t.uri}),e.global.require=r,e.global.define=a,e.get("@@global-helpers").retrieveGlobal(t.id,void 0)});
/*os/public/css/css-ex*/
define("os/public/css/css-ex",["jquery/jqueryui/jqueryui.css","public/css/bootstrap/css/bootstrap.css","lib/vendor/frogfont/style.css","lib/vendor/frogfont/app-icons/style.css","lib/vendor/frogfont/sprite-icon-svg/style.css","lib/vendor/font-awesome/css/font-awesome.min.css","./os.css","./os-bootstrap.css","./os-ckeditor.css","./os-jqueryui.css","./genericdialog.css","./gritter.css","./frogfooter.css","./components.css","./icons.css","./small-tablet.css","./frog-animations.css","./appLoader.css","./frog-font.css","./iframe.css","./print.css","./touch.css","./dashboard.css","./responsive.css"]);
/*os/models/core*/
define("os/models/core",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Os.Models.Core",{},{});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/core_dom*/
define("os/models/core_dom",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var o=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Os.Models.CoreDom",{setMainWindow:function(){var e=this;return this.trigger("os.getDashboards",function(t){e.element.append(e.view("core/mainWindow",{count:t.dashboards.length}))}),this},reduceFrogBar:function(){this.element.find(".os-titlebar").addClass("reduce")},restoreFrogBar:function(){this.element.find(".os-titlebar").removeClass("reduce")},destroyApp:function(e){if(e.parent().hasClass("ui-dialog")){var t=e.dialog().find("iframe");t.length&&t.attr("src",""),e.dialog("destroy").remove()}return this},getAppNameFromIcon:function(e){return e.find("[data-app]").attr("data-app")},getAppNameFromDialog:function(e){return this.getAppNameFromElement(e.parents(".app_dialog"))},getAppNameFromElement:function(e){return e.attr("class").replace(/([\\w\\s]+)?((app-)([\\w]+))\\s([\\w\\s\\-]+)?/,"$4")},isClickWithinContextMenuOrSearchOrNav:function(e){return $(e.target).closest("#titleContextMenu").length||$(e.target).closest("li").prevAll("#titleContextMenu").length||$(e.target).closest("input.ui-os-search-input").length||$(e.target).closest("#titleMinimise").length||$(e.target).closest("ul.os-contextmenu-holder").length||$(e.target).closest("ul.os-titlebar-shortcuts").length||$(e.target).closest("li.os-navbar-icon-frog").length},isClickWithinApp:function(e){return Boolean($(e.target).closest("div.ui-dialog").length)},blurAllApps:function(e){var t,i=$(\'<div class="ui-os-app-iframe-overlay"></div>\');return e?($("div.ui-dialog").not(e.target).removeClass("focused"),$("div.app_dialog").not(e.target).trigger("app.blur"),t=$("div.ui-dialog").not(e.target).find(">div.app_dialog")):($("div.ui-dialog").removeClass("focused"),$("div.app_dialog").trigger("app.blur"),t=$("div.ui-dialog").find(">div.app_dialog")),t.each(function(){if($(this).find("div.ui-os-app-iframe-overlay").length)return!0;i.css("zIndex",1),$(this).prepend(i)}),this},hideDesktop:function(e){return Os.Models.Environment.get("myfrog_embedded")?this.element.find("div.ui-os-desktop").hide().find("> .ui-dialog").hide():this.element.find("div.ui-os-desktop").fadeOut(function(){$(this).children().hide()}),this.element.find(".ui-os-desktop-navigation").show(),this.element.find("div.os-titlebar").find("li.os-navbar-icon-minimise-close").find("div").addClass("hide"),this},showDesktop:function(){var e=this.element.find("div.ui-os-desktop");return this.element.find(".os-titlebar span.ff-frog-mono.disabled").removeClass("disabled"),Os.Models.Environment.get("myfrog_embedded")?e.show():e.fadeIn(),this.element.find(".ui-os-desktop-navigation").hide(),this},showDesktopAndApps:function(){return this.element.find("div.ui-os-desktop").children().show(),this.showDesktop(),this},focusApp:function(e,t){return this.focusAppByElement(e.target,t)},focusAppByElement:function(e,t){var i=$(e);return i.closest(".ui-dialog").addClass("focused"),i.trigger("app.focus",t),i.closest(".os_window_manager").trigger("setFocus",{app:i}),this.showDesktop(),this},setTitlebar:function(e,t,i,n,s){var o=this;return t&&o.element.prepend(o.view("frog_menu/titlebar.ejs",{show_search:e,show_plusbutton:i,show_dashboard_popover:n})),"function"==typeof s&&s(),this},setDesktopNav:function(){return this.trigger("os.getDashboards",function(e){this.element.append(this.view("frog_menu/desktopnav.ejs",{dashboards:e.dashboards}))}.bind(this)),this},getContextMenuEl:function(){return this.element.find("#titleContextMenu")},getQuickStartEl:function(){return this.element.find(".os_quick_start")},isAppFocused:function(e){return $(e.target).closest(".ui-dialog").hasClass("focused")},getAppInstances:function(e){return $("div.app-"+e).not("[class*=\'dashboard-\']").not(".app_embedded")},getAllApps:function(){return $("div.os_core:first > div.ui-os-desktop > *, body > div.ui-dialog.launch-above-modal")},showSites:function(){return this.element.find("div.ui-os-main-window div.app-sites").children().fadeIn(),this.element.find("div.ui-os-desktop").hide(),this},showFullscreen:function(e,t){var i="div.app-"+e;t&&(i=i+"[data-instance-id="+t+"]"),$(i).parents(".ui-dialog").fadeIn(500)},closeMenus:function(){this.element.find("div.os-contextmenu-holder, .ui-os-assignments, .os-profile-holder").filter(":visible").trigger("menu.close"),this.element.find("div.ui-os-search").eq(0).hide(),this.element.find("div.os_notifications").trigger("notifications.toggle",!1)}},{});',address:e.uri}),t.global.require=i,t.global.define=o,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/manifest_model*/
define("os/models/manifest_model",["module","@loader","require"],function(e,n,t){n.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var a=n.global.define,t=n.global.require;return n.global.define=void 0,n.global.module=void 0,n.global.exports=void 0,n.__exec({source:'Frog.Model.extend("Os.Models.Manifest",{id:"app_name",ignoreAppList:["calendar","booking","bookshelf","community"],isAppTouchAvailable:function(e){return!$.support.touch||-1===$.inArray(e,this.ignoreAppList)},getPublicApps:function(e){var n=this;return this.api("os.manifest.getpublicapps",{},{dataType:"json apps",converters:{"json apps":function(t){for(var a=[],s=0;s<t.length;s++){var i=t[s].role_name||t[s].app_name;if(e.has("app."+i+".access")){if(!n.isAppTouchAvailable(t[s].app_name))continue;a[a.length]=t[s]}}return Os.Models.Manifest.models(a)}},fixture:function(e,t,a){return[200,"success",[{name:n._("app.calendar",null,"os"),app_name:"calendar"},{name:n._("app.booking",null,"os"),app_name:"booking"},{name:n._("app.community",null,"os"),app_name:"community",role_name:"benchmark"},{name:n._("app.preferences",null,"os"),app_name:"preferences"},{name:n._("app.resources",null,"os"),app_name:"resources"},{name:n._("app.users",null,"os"),app_name:"users"},{name:n._("app.groups",null,"os"),app_name:"groups"},{name:n._("app.markbook",null,"os"),app_name:"markbook"},{name:n._("app.bookshelf",null,"os"),app_name:"bookshelf",role_name:"bookshelf"},{name:n._("app.analytics",null,"os"),app_name:"analytics",role_name:"analytics"},{name:n._("app.discover",null,"os"),app_name:"discover"},{name:n._("app.frogstore",null,"os"),app_name:"frogstore"}],{}]}})},getParentApps:function(e,n){var t=this;return this.api("os.manifest.getdockapps",{},{dataType:"json apps",converters:{"json apps":function(t){for(var a=[],s=0;s<t.length;s++){var i="string"==typeof t[s].role_name?t[s].role_name:t[s].app_name;"frogstoreapproval"==t[s].app_name&&!0!==n.is_discover||(i&&!e.has("app."+i+".access")||(a[a.length]=t[s]))}return Os.Models.Manifest.models(a)}},fixture:function(e,a,s){return[200,"success",[{name:t._("app.email",null,"os"),app_name:"email",role_name:"",external:!0,source:n.system["googlemail.url"]}],{}]}})}},{getAppName:function(){return this.app_name},getName:function(){return this.name},getGroups:function(){return this.groups},getMode:function(){return this.mode},getFullscreen:function(){return void 0!==this.fullscreen?this.fullscreen:"fullscreen"===this.getMode()},getPosition:function(){return this.position},getMinWidth:function(){return this.minWidth},getMinHeight:function(){return this.minHeight},getMaxWidth:function(){return this.maxWidth},getMaxHeight:function(){return this.maxHeight},getResizable:function(){return void 0===this.resizable||this.resizable},getMaxInstances:function(){return this.max_instances},hasUnlimitedInstances:function(){return-1===this.getMaxInstances()},getWidth:function(){return this.width},getHeight:function(){return this.height},getType:function(){return this.type},getSource:function(){return this.source},getSourceApp:function(){return this.source_app},getSourceAppData:function(){return this.source_app_data},getHelpPage:function(){return this.help_page},getAutoMaximisable:function(){return this.autoMaximisable},denyPortraitMode:function(){return!0===this.deny_portrait_mode},isMobileOptimised:function(){return!0===this.mobile_optimised}});',address:e.uri}),n.global.require=t,n.global.define=a,n.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/user_model*/
define("os/models/user_model",["module","@loader","require"],function(e,r,t){r.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var s=r.global.define,t=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Os.Models.User",{id:"uuid",MANAGER_GROUP_UUID:"941120E62001362D55336FDE49616804B8FEC74CB9A23109",attributes:{uuid:"string",username:"string",displayname:"string",email:"string",profile:"Os.Model.Profile.model",company:"Os.Model.Company.model",groups:"Os.Models.Group.models"},setTerms:function(e,r){return this.api("preferences.user.setMultiple",{keys:[{alias:"user.frogos.terms",prefType:"user",value:!0},{alias:"user.frogos.terms.language",prefType:"user",value:e},{alias:"user.frogos.terms.timestamp",prefType:"user",value:Math.round(new Date/1e3)},{alias:"user.frogos.terms.email_optin",prefType:"user",value:r}]},{type:"POST"})},getTerms:function(){return this.api("preferences.user.get",{alias:"user.frogos.terms"})}},{getDisplayName:function(){return this.displayname},getName:function(){return this.getDisplayName()},getEmail:function(){return this.email},getUuid:function(){return this.uuid},getDescription:function(){return this.profile&&this.profile.type?this.profile.type:"unknown"},getType:function(){return this.profile&&this.profile.type?this.profile.type:"unknown"},matches:function(e){return-1!=this.firstname.toLowerCase().indexOf(e.toLowerCase())},getGroups:function(){return this.groups},getCompany:function(){return this.company},isManager:function(){var e=this;return!!this.groups.grep(function(r){return r.uuid===e.Class.MANAGER_GROUP_UUID}).length},getGroupsName:function(){var e=[],r=this.getGroups(),t=r.length;if(t){for(var s=0;s<t;s++)e.push($.EJS.clean(r[s].getName()));return e}return null},getInitials:function(){return Frog.Utilities.getInitials(this.getDisplayName())}}),Frog.Model.extend("Os.Models.User.Roles",{cache:null,has_run:!1,findOne:function(){var e,r,t=this;return this.has_run?$.Deferred(function(s){t.cache?s.resolve(t.cache,"success",s):(r=function(){if(t.cache)return clearInterval(e),void s.resolve(t.cache,"success",s)},e=setInterval(r,200))}):(this.has_run=!0,this.api("auth.getRoles",null,{dataType:"json roles",converters:{"json roles":function(e){return t.cache=t.model(e.data),t.cache}}}))}},{has:function(e){for(var r in this)if("string"==typeof this[r]&&this[r]===e)return!0;return!1},hasOneOf:function(e){var r=e;$.isArray(e)||(r=arguments);for(var t=0;t<r.length;t++)if(this.has(r[t]))return!0;return!1},hasOr:function(){for(var e=0,r=arguments.length;e<r;e++)if(this.has(arguments[e]))return!0;return!1}});',address:e.uri}),r.global.require=t,r.global.define=s,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/windowmanager_model*/
define("os/models/windowmanager_model",["module","@loader","require"],function(e,s,i){s.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var t=s.global.define,i=s.global.require;return s.global.define=void 0,s.global.module=void 0,s.global.exports=void 0,s.__exec({source:'Frog.Model.extend("Os.Models.WindowManager.Applications",{attributes:{instances:"object"}},{setup:function(){this.instances={}},get:function(s){return void 0!==s?this.instances[s]||0:this.instances},open:function(s){return void 0===this.instances[s]&&(this.instances[s]=0),this.instances[s]++,$([this.Class]).trigger("open",[this]),this.get(s)},close:function(s){return void 0!==this.instances[s]&&(this.instances[s]-=1,this.instances[s]<1&&delete this.instances[s]),$([this.Class]).trigger("close",[this]),this.get(s)}});',address:e.uri}),s.global.require=i,s.global.define=t,s.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/environment_model*/
define("os/models/environment_model",["module","@loader","require"],function(e,t,o){t.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var n=t.global.define,o=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Os.Models.Environment",{id:"key",path:"/frogos",attributes:{deployment:"Os.Models.Environment.Deployment.model"},get:function(t){return this[t]},set:function(t,e){this[t]=e}},{}),Frog.Model.extend("Os.Models.Environment.Deployment",{id:"key",env:"",type:"",locale:"",customer:"",role:"",deployment:"",location:"",getDeployment:function(){return this.deployment},getEnv:function(){return this.env},getType:function(){return this.type},getLocale:function(){return this.locale},getCustomer:function(){return this.customer},getLocation:function(){return this.location},set:function(t){for(var e in t)this[e]=t[e];this._setDeployment()},get:function(t){return this[t]||void 0},currentLocaleGiven:function(t){var e=["uk","dk","my","malaysia","south-aus"],n=!1;$.isArray(t)||(t=[t]);for(var o=0;o<t.length;o++){if("string"!=typeof t[o]||-1===e.indexOf(t[o]))throw"Locale options must be from the following strings: "+e.join(",");n=n||this.getLocale()===t[o]}return n},_setDeployment:function(){var t=this.locale;this.type&&(t+="_"+this.type),this.customer&&(t+="_"+this.customer),this.deployment=t}},{});',address:e.uri}),t.global.require=o,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/realtime/prefs_model*/
define("os/models/realtime/prefs_model",["module","@loader","require"],function(e,l,r){l.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var o=l.global.define,r=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Os.Models.Realtime.Prefs",{findOne:function(e){return this.api("systempreferences.get",{alias:"timeline.poll"},{type:"GET"})}},{});',address:e.uri}),l.global.require=r,l.global.define=o,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/realtime/timeline_model*/
define("os/models/realtime/timeline_model",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var r=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Os.Models.Realtime.Timeline",{targets:{},attributes:{uuid:"string",hidden:"boolean",filter:"string"},model:function(e){var t=["asset","localresources","externalresources","evidence","link"];return e.realtimeEvent="timeline.created",-1==t.indexOf(e.type)&&(e.notification_type=e.type,e.type="notification"),this._super(e)},findOne:function(e){return this.api("timeline.get",{uuid:e},{dataType:"json event",converters:{"json event":function(e){return this.model(e)}.bind(this)}})},findAll:function(e){var t,i,s=this;return i=void 0!==(e=e||{}).target?e.target:"default",void 0===this.targets[i]&&i&&(this.targets[i]={lastTimestamp:null,HEAD:null,deferred:null}),null===(t=this.targets[i]).lastTimestamp||e.refresh?(e.since=0,e.limit=10,t.lastTimestamp=null,t.HEAD=null):void 0===e.previous?(e.since=t.HEAD&&t.HEAD.created_on,e.limit=null):e.previous&&(e.before=t.lastTimestamp,e.limit=10),void 0===e.enforceLimit||e.enforceLimit||(e.limit=null),null!==t.deferred&&"resolved"!==t.deferred.state()&&"rejected"!==t.deferred.state()||(t.deferred=this.api("timeline.search",e,{dataType:"json timeline",converters:{"json timeline":function(i){null===t.lastTimestamp?(t.lastTimestamp=i.data.last,t.HEAD=i.data.events[0]):e.previous?e.previous&&null!==i.data.last&&(t.lastTimestamp=i.data.last):i.data.events.length&&(t.HEAD=i.data.events[0]);var n=s.models(i.data.events);return n.last=i.data.last,void 0!==i.data.access&&(n.access=i.data.access),n}}})),t.deferred},urlTranslation:function(e){return Frog.Utilities.Reporting.urlTranslation(e)}},{setup:function(e){var t,i,s,n,r,a="";if("notification"===e.type)a+=" filter-notification";else for(n=0;n<e.resource.length;n++)if("externalresources"!==e.type)e.resource[n].attachment&&"image"===e.resource[n].attachment.file.mime.type?a+=" filter-image":a+=" filter-document";else{var o=e.resource[n].mime_type;o.search("officedocument")||o.search("google-apps")?a+=" filter-document":a+=" filter-image"}if(void 0!==e.learning_objectives&&(void 0!=(t=e.learning_objectives.subject.objectives)&&t.forEach(function(e){e.description=this.Class.urlTranslation(e.description)}.bind(this)),void 0!=e.learning_objectives.subject_area))for(i=Object.keys(e.learning_objectives.subject_area),n=0;n<i.length;n++)for(s=e.learning_objectives.subject_area[i[n]].objectives,r=0;r<s.length;r++)s[r].description=this.Class.urlTranslation(s[r].description);e.filters=a,"link_resource"===e.resource[0].object_type?e.resource=Lib.Models.Resource.Remote.models(e.resource):e.resource=Os.Models.Realtime.Timeline.Resource.models(e.resource),this._super(e)},isResource:function(e){return void 0!==e&&this.attr("type")==e},isAsset:function(){return"asset"==this.attr("type")},isTrainingNotification:function(){return $.inArray(this.attr("notification_type"),["training_module","training_historical_data"])>-1},hasComments:function(){return!!(this.attr("comments")&&this.attr("comments").length>0)},hide:function(e){var t=this;return this.Class.api("timeline.hideEvent",{hider:e,uuid:this.attr("uuid")},{type:"POST"}).success(function(){t.attr("hidden",!0)})},unhide:function(e){var t=this;return this.Class.api("timeline.showEvent",{hider:e,uuid:this.attr("uuid")},{type:"POST"}).success(function(){t.attr("hidden",!1),t.attr("is_hidden",!1)})}});',address:e.uri}),t.global.require=i,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/realtime/timeline_attachment_model*/
define("os/models/realtime/timeline_attachment_model",["module","@loader","require"],function(e,l,i){l.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var o=l.global.define,i=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Os.Models.Realtime.Timeline.Attachment",{attributes:{file:"Os.Models.Realtime.Timeline.Attachment.File.model"}},{});',address:e.uri}),l.global.require=i,l.global.define=o,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/realtime/timeline_attachment_file_model*/
define("os/models/realtime/timeline_attachment_file_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var i=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Os.Models.Realtime.Timeline.Attachment.File",{},{});',address:e.uri}),l.global.require=o,l.global.define=i,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/realtime/timeline_driver_model*/
define("os/models/realtime/timeline_driver_model",["module","@loader","require"],function(e,t,l){t.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var s=t.global.define,l=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Os.Models.Realtime.Timeline.Driver",{id:"id"},{update:function(e){this.attrs(e)},findAll:function(e){var t,s,a=this,l=!1,i=!1,r=!1,n=!1;if(this.params&&0!==Object.size(this.params)||(this.params=e?{context:e.context,keywords:e.keywords,requiredKeywords:e.requiredKeywords,target:e.target,filters:e.filters}:{}),e=jQuery.extend(!0,{},this.params,e),void 0===this.ref_log&&(this.ref_log={lastTime:null,HEAD:null,deferred:null}),t=this.ref_log,l=Boolean(null===t.lastTimestamp||e.refresh),i=Boolean(null!==t.HEAD&&void 0===e.previous),r=Boolean(void 0!==e.previous),n=Boolean(e.update),l)e.since=0,e.limit=10,t.lastTimestamp=null,t.HEAD=null;else if(i||n)e.since=t.HEAD&&t.HEAD.created_on,e.limit=null,e.last_transaction_uuid=t.HEAD&&t.HEAD.transaction_uuid;else{if(!r)return(s=jQuery.Deferred()).reject(),s.promise();e.before=t.lastTimestamp,e.limit=10}return $("html").hasClass("touch")&&(e.limit=l?5:3),n&&delete e.update,null!==t.deferred&&"resolved"!==t.deferred.state()||(t.deferred=this.Class.api("timeline.search",e,{dataType:"json timeline",converters:{"json timeline":function(e){var s;return l?(t.lastTimestamp=e.data.last,t.HEAD=e.data.events[0]):i||n?e.data.events.length&&(t.HEAD=e.data.events[0]):r&&null!==e.data.last&&(t.lastTimestamp=e.data.last),s=Os.Models.Realtime.Timeline.models(e.data.events),s.last=e.data.last,s.can_post_comments=e.data.can_post_comments,s.element=a.elements(),void 0!==e.data.access&&(s.access=e.data.access),s}}})),t.deferred}});',address:e.uri}),t.global.require=l,t.global.define=s,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/realtime/timeline_resource_model*/
define("os/models/realtime/timeline_resource_model",["module","@loader","require"],function(e,t,a){t.get("@@global-helpers").prepareGlobal({require:a,name:e.id,deps:[]});var i=t.global.define,a=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Os.Models.Realtime.Timeline.Resource",{attributes:{attachment:"Os.Models.Realtime.Timeline.Attachment.model"},iconOverrides:{departmental:"departments"},appOverrides:{assignment:{name:"assignmentreports",view:"student"}},model:function(e){if(-1!=["personal","asset","staff","student_tracker_evidence","icon"].indexOf(e.type)){if(void 0===e.attachment){e.mimeType=e.mime_type,e.type="document";var t=e.mimeType.split(".");if("googledrive"===e.source)switch(t[t.length-1]){case"presentation":e.ext="pptx";break;case"spreadsheet":e.ext="xlsx";break;case"document":e.ext="docx";break;case"drawing":e.ext="jpg";break;case"form":e.ext="google-form"}else if("onedrivebusiness"===e.source)switch(t[t.length-1]){case"presentation":e.ext="pptx";break;case"sheet":e.ext="xlsx";break;case"document":e.ext="docx"}}else"link"==e.attachment.type?(e.ext=e.attachment.file.mime.ext,e.mimeType=e.attachment.file.mime.mime):(e.url=e.attachment.file.external_url,e.type=e.attachment.file.mime.type,e.ext=e.attachment.file.mime.ext,e.name=e.attachment.name,e.mimeType=e.attachment.file.mime.mime,e.description=e.description,"image"===e.type&&(e.url="file/resource/"+e.uuid));!e.ext&&e.file_extension&&(e.ext=e.file_extension)}else"assignment"===e.type&&(_Roles.has("app.assignmentmarkbook.access")||_Roles.has("app.markbookmanager.access"))?e.icon="markbook":e.object_type?e.icon=this.iconOverrides[e.object_type]||e.object_type:e.type&&(e.icon=this.iconOverrides[e.type]||e.type);return this._super(e)}},{getPreviewUrl:function(){return this.attr("attachment")&&this.attr("attachment").attr("file")&&this.attr("attachment").attr("file").attr("preview_url")?this.attr("attachment").attr("file").attr("preview_url"):this.attr("url")},send:function(e){var t=$.extend({},e,{resource:this.attr("uuid"),type:"personal"});return this.Class.api("resources.copy",t,{type:"POST"})},destroy:function(e){var t=this,a=e.attr("uuid");return t.Class.api("timeline.deleteevent",{uuid:a},{type:"POST"})},getUrl:function(){return this.url},getMimeType:function(){return this.attachment.file.mime.mime},action:function(){var e=this.attr("type"),t={};switch(e){case"site":case"departmental":case"wall":t.trigger="os.app.siteviewer",t.data={data:{site:this.attr("link")}};break;case"calendar":t.trigger="os.app.viewevent",t.data={data:{uuid:this.attr("id")}};break;case"form":case"survey":t.trigger="os.internal.launchapp",t.data={data:{name:"forms"},display_name:e+"s",model_uuid:this.attr("uuid")};break;case"assignment":_Roles.has("app.markbookmanager.access")?(t.trigger="os.internal.launchapp",t.data={data:{name:"markbookmanager",assignment_deeplink_uuid:this.attr("uuid")}}):_Roles.has("app.mychildswork.access")?(t.trigger="os.internal.launchapp",t.data={data:{name:"assignmentreports",view:"parent"}}):(t.trigger="os.internal.launchapp",t.data={data:{name:"assignmentreports",view:"student",assignment_uuid:this.attr("uuid"),status:this.attr("status")}});break;default:t.trigger="os.internal.launchapp",t.data={data:this.Class.appOverrides[e]||{name:e}}}return t}});',address:e.uri}),t.global.require=a,t.global.define=i,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/realtime/realtime_models*/
define("os/models/realtime/realtime_models",["./prefs_model","./timeline_model","./timeline_attachment_model","./timeline_attachment_file_model","./timeline_driver_model","./timeline_resource_model"]);
/*preferences/models/language_model*/
define("preferences/models/language_model",["module","@loader","require"],function(e,a,n){a.get("@@global-helpers").prepareGlobal({require:n,name:e.id,deps:[]});var l=a.global.define,n=a.global.require;return a.global.define=void 0,a.global.module=void 0,a.global.exports=void 0,a.__exec({source:'Frog.Model.extend("Preferences.Models.Language",{models:function(e){return this._super(e)},findAll:function(e){return $.ajax({url:"/preferences/languages",type:"get",data:e,dataType:"json Preferences.Models.Language.models",converters:{"json Preferences.Models.Language.models":function(e){return Preferences.Models.Language.models(e)}},fixture:function(e,n,a){switch(languages=[{code:"en-GB",language:"English (UK)"}],Os.Models.Environment.Deployment.locale){case"dk":languages.push({code:"da",language:"Dansk"});break;case"malaysia":languages.push({code:"ms",language:"Bahasa Melayu"})}return[200,"success",languages,{}]}})},findOne:function(e){return $.ajax({url:"/menu",type:"get",dataType:"json pref",converters:{"json pref":function(e){return Preferences.Models.Language.model(e)}},data:e,fixture:"sample/public/js/fixtures/prefs.json.get"})}},{modelHtml:null});',address:e.uri}),a.global.require=n,a.global.define=l,a.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/licenses_model*/
define("os/models/licenses_model",["module","@loader","require"],function(e,n,s){n.get("@@global-helpers").prepareGlobal({require:s,name:e.id,deps:[]});var r=n.global.define,s=n.global.require;return n.global.define=void 0,n.global.module=void 0,n.global.exports=void 0,n.__exec({source:'Frog.Model.extend("Os.Models.Licenses",{cache:null,has_run:!1,model:function(e){for(var s={},n=0,c=e.length;n<c;n++)s[e[n].alias]=e[n].uuid;return this._super(s)},findOne:function(){var e,s,n=this;return this.has_run?$.Deferred(function(c){n.cache?c.resolve(n.cache,"success",c):(s=function(){if(n.cache)return clearInterval(e),void c.resolve(n.cache,"success",c)},e=setInterval(s,200))}):(this.has_run=!0,this.api("licenses.getEnabled",{},{dataType:"json licenses",converters:{"json licenses":function(e){return n.cache=Os.Models.Licenses.model(e.data),n.cache}}}))}},{has:function(e){return"string"==typeof this[e]}});',address:e.uri}),n.global.require=s,n.global.define=r,n.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/models-ex*/
define("os/models/models-ex",["./core","./core_dom","./manifest_model","./user_model","./windowmanager_model","./environment_model","./realtime/realtime_models","preferences/models/language_model","./licenses_model"]);
/*os/views/core/appSvg.ejs!can/view/ejs/system*/
define("os/views/core/appSvg.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/core/appSvg.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[],iconMap={assignment:"ui-app-icon-markbook",markbook:"ui-app-icon-markbook",markbook_teacher:"ui-app-icon-assignmentmarkbook",site:"ui-app-icon-sites",eportfolio:"ui-app-icon-eportfolio",frogos:"ui-app-icon-community",award:"ui-app-icon-awards",quicklaunchlink:"ui-app-icon-quicklaunch",quicklinks:"ui-app-icon-quicklaunch",share:"ui-app-icon-timelines",event:"ui-app-icon-timelines",like:"ui-app-icon-timelines",survey:"ui-app-icon-surveys",transfertool:"ui-app-icon-siteexporter",form:"ui-app-icon-forms",timeline:"ui-app-icon-timelines",feedbacktextactivity:"ui-app-icon-feedback",feedbackfiledrop:"ui-app-icon-feedback",feedbackgoogleactivity:"ui-app-icon-feedback",feedbackcodeactivity:"ui-app-icon-feedback",schooldashboard:"ui-app-icon-schooldashboard",parentnoticeboard:"ui-app-icon-mydashboard",mydashboard:"ui-app-icon-mydashboard",email:"ui-app-icon-outlook",student:"ui-app-icon-markbook",parent:"ui-app-icon-mychildswork",monitor:"ui-app-icon-assignmentmonitor",studenttracker:"ui-app-icon-studenttracker"},icon=this.icon_key&&icon_key.replace("ui-app-icon-","");"undefined"!=typeof user_profile&&"markbook"==icon&&"student"!=user_profile&&(icon="markbook_teacher"),void 0!==this.skipIconMap&&!0===this.skipIconMap?iconClass="ui-app-icon-"+icon:iconClass=iconMap.hasOwnProperty(icon)?iconMap[icon]:"ui-app-icon-"+icon,!this.additional_classes&&(this.additional_classes=[]),this.icon_str=this.icon_key?iconClass:"";var svg=!0;return this.disableSvg&&this.disableSvg[this.icon_key]&&(svg=!1),___v1ew.push('\n  <span class="'),___v1ew.push(can.view.txt(!0,"span","class",this,function(){return(this.additional_classes||[]).join(" ")})),___v1ew.push(" "),___v1ew.push(can.view.txt(0,"span","class",this,function(){var a=[];return svg&&a.push("ui-app-svg-icon "),a.join("")})),___v1ew.push(can.view.txt(!0,"span","class",this,function(){return iconClass})),___v1ew.push('" ',can.view.pending({scope:this}),">"),___v1ew.push("\n  "),___v1ew.push(can.view.txt(0,"span",0,this,function(){var a=[];return svg&&a.push('\n    <span class="path1"></span>\n    <span class="path2"></span>\n    <span class="path3"></span>\n    <span class="path4"></span>\n    <span class="path5"></span>\n    <span class="path6"></span>\n    <span class="path7"></span>\n    <span class="path8"></span>\n    <span class="path9"></span>\n    <span class="path10"></span>\n    <span class="path11"></span>\n    <span class="path12"></span>\n    <span class="path13"></span>\n    <span class="path14"></span>\n    <span class="path15"></span>\n    <span class="path16"></span>\n    <span class="path17"></span>\n    <span class="path18"></span>\n    <span class="path19"></span>\n    <span class="path20"></span>\n  '),a.join("")})),___v1ew.push("\n</span>\n"),___v1ew.join("")}}))});
/*os/views/core/growl.ejs!can/view/ejs/system*/
define("os/views/core/growl.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/core/growl.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"span",0,this,function(){var n=[];return"undefined"!=typeof growl_title&&growl_title&&(n.push(" <span class='growl-title'> "),n.push(can.view.txt(0,"span",0,this,function(){return growl_title})),n.push(" </span> ")),n.join("")})),___v1ew.push("\n"),___v1ew.push(can.view.txt(0,"span",0,this,function(){var n=[];return icon&&!icon.includes(".svg")?(n.push('\n    <div class="growl-icon" '),n.push(can.view.txt(2,"div","style",this,function(){var n=[];return n.push('style="'),n.push("background-image: url('"),n.push(icon),n.push("')\""),n.join("")})),n.push("",can.view.pending({scope:this}),">"),n.push("</div>\n")):svg_img?(n.push("\n    "),n.push(can.view.txt(0,"undefined",0,this,function(){return app.view("~/os/views/core/appSvg.ejs",{icon_key:iconClass},{},!0)})),n.push("\n")):(n.push("\n    <div class='ui-app-icon "),n.push(can.view.txt(!0,"div","class",this,function(){return iconClass})),n.push("'",can.view.pending({scope:this}),">"),n.push("</div>\n")),n.join("")})),___v1ew.push("\n"),___v1ew.join("")}}))});
/*os/views/core/mainWindow.ejs!can/view/ejs/system*/
define("os/views/core/mainWindow.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/core/mainWindow.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="ui-os-notifications frog-touch-scroll hide">\n    <div class="os-notifications os-contextmenu-holder">\n        <div class="os-contextmenu-menu-box">\n            <div class="os-contextmenu-menu-pane">\n                <div class="os-contextmenus-holder"></div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="ui-os-assignments frog-touch-scroll hide">\n    <div class="os-assignments os-contextmenu-holder">\n        <div class="os-contextmenu-menu-box">\n            <div class="os-contextmenu-menu-pane">\n                <div class="os-contextmenus-holder"></div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="ui-os-inbox frog-touch-scroll hide">\n    <div class="os-inbox os-contextmenu-holder">\n        <div class="os-contextmenu-menu-box">\n            <div class="os-contextmenu-menu-pane">\n                <div class="os-contextmenus-holder"></div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="ui-os-desktop '),___v1ew.push(can.view.txt(!0,"div","class",this,function(){return window.Frog.isLoggedIn?"frog-touch-scroll":""})),___v1ew.push(" "),___v1ew.push(can.view.txt(!0,"div","class",this,function(){return $.support.touch?"ui-os-desktop-scroll":""})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('</div>\n<div class="ui-os-main-window frog-touch-scroll" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var s=[];return s.push('style="'),s.push("width: "),s.push(100*count),s.push('%"'),s.join("")})),___v1ew.push("",can.view.pending({scope:this}),">"),___v1ew.push("\n    "),___v1ew.push(can.view.txt(0,"div",0,this,function(){for(var s=[],n=0;n<count;n++)s.push('\n        <div class="site dashboard-'),s.push(can.view.txt(!0,"div","class",this,function(){return n})),s.push(' app-sites app_dialog system" '),s.push(can.view.txt(2,"div","style",this,function(){var s=[];return s.push('style="'),s.push("width: "),s.push(100/count),s.push('%"'),s.join("")})),s.push("",can.view.pending({scope:this}),">"),s.push("</div>\n    ");return s.join("")})),___v1ew.push("\n</div>\n"),___v1ew.join("")}}))});
/*os/views/core/orientation.ejs!can/view/ejs/system*/
define("os/views/core/orientation.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/core/orientation.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="ui-os-whole-app-overlay">\n    '),___v1ew.push(can.view.txt(0,"div",0,this,function(){return app.view("~/os/views/core/appSvg.ejs",{icon_key:app_name})})),___v1ew.push("\n    <p>"),___v1ew.push(can.view.txt(1,"p",0,this,function(){return"undefined"!=typeof msg?msg:app._("notice.unsupported_view_line1",[app_title])})),___v1ew.push('</p>\n    <p class="small">'),___v1ew.push(can.view.txt(1,"p",0,this,function(){return app._("notice.unsupported_view_line2")})),___v1ew.push("</p>\n</div>\n"),___v1ew.join("")}}))});
/*os/views/core/ribbit.ejs!can/view/ejs/system*/
define("os/views/core/ribbit.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/core/ribbit.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div id="ribbit">\n\t<a target="_blank" href="'),___v1ew.push(can.view.txt(!0,"a","href",this,function(){return href})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push("\n\t\t<img "),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push(img_src),e.push('"'),e.join("")})),___v1ew.push("",can.view.pending({scope:this}),">"),___v1ew.push("\n\t</a>\n</div>\n"),___v1ew.join("")}}))});
/*os/views/core/show.ejs!can/view/ejs/system*/
define("os/views/core/show.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/core/show.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"span",0,this,function(){var t=[];for(var n in this.Class.attributes)t.push("\n    "),"id"!=n&&(t.push("\n    <td class='"),t.push(can.view.txt(!0,"td","class",this,function(){return n})),t.push("'",can.view.pending({scope:this}),">"),t.push("\n        "),t.push(can.view.txt(1,"td",0,this,function(){return this[n]})),t.push("\n    </td>\n"));return t.join("")})),___v1ew.push("\n<td>\n    <a href='javascript://' class='edit'>"),___v1ew.push(can.view.txt(1,"a",0,this,function(){return app._("button.edit")})),___v1ew.push("</a>\n    <a href='javascript://' class='destroy'>"),___v1ew.push(can.view.txt(1,"a",0,this,function(){return app._("button.destroy")})),___v1ew.push("</a>\n</td>"),___v1ew.join("")}}))});
/*os/views/core/testDialog.ejs!can/view/ejs/system*/
define("os/views/core/testDialog.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/core/testDialog.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push("<h1>"),___v1ew.push(can.view.txt(1,"h1",0,this,function(){return app._("core.test.dialog")})),___v1ew.push(" #"),___v1ew.push(can.view.txt(1,"h1",0,this,function(){return data})),___v1ew.push("</h1>"),___v1ew.join("")}}))});
/*os/views/core/unsupportedOnMobile.ejs!can/view/ejs/system*/
define("os/views/core/unsupportedOnMobile.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/core/unsupportedOnMobile.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="ui-os-whole-app-overlay-mobile-unsupported">\n    '),___v1ew.push(can.view.txt(0,"div",0,this,function(){return app.view("~/os/views/core/appSvg.ejs",{icon_key:app_name})})),___v1ew.push("\n    <p>"),___v1ew.push(can.view.txt(1,"p",0,this,function(){return"undefined"!=typeof msg?msg:app._("notice.unsupported_on_mobile",[app_title])})),___v1ew.push("</p>\n</div>\n"),___v1ew.join("")}}))});
/*os/views/dialog/alert.ejs!can/view/ejs/system*/
define("os/views/dialog/alert.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/dialog/alert.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="os-generic-dialog-content">'),___v1ew.push(can.view.txt(1,"div",0,this,function(){return content})),___v1ew.push('</div>\n<div class="os-generic-dialog-button-holder">\n    <button class="btn ok btn-primary">'),___v1ew.push(can.view.txt(1,"button",0,this,function(){return app._("button.ok")})),___v1ew.push("</button>\n</div>"),___v1ew.join("")}}))});
/*os/views/dialog/confirm.ejs!can/view/ejs/system*/
define("os/views/dialog/confirm.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/dialog/confirm.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="os-generic-dialog-content">\n\t'),___v1ew.push(can.view.txt(1,"div",0,this,function(){return content})),___v1ew.push('\n</div>\n<div class="os-generic-dialog-button-holder">\n<button class="btn ok primary">'),___v1ew.push(can.view.txt(1,"button",0,this,function(){return app._("button.ok")})),___v1ew.push('</button>\n<button class="btn cancel">'),___v1ew.push(can.view.txt(1,"button",0,this,function(){return app._("button.cancel")})),___v1ew.push("</button>\n</div>"),___v1ew.join("")}}))});
/*os/views/dialog/dialog.ejs!can/view/ejs/system*/
define("os/views/dialog/dialog.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/dialog/dialog.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="os-generic-blanking-plate"></div>\n<div class="os-generic-dialog">\n\t'),___v1ew.push(can.view.txt(0,"div",0,this,function(){var n=[];return type?n.push(can.view.txt(0,"div",0,this,function(){return view("~/os/views/dialog/"+type,{content:content})})):(n.push("\n\t\t"),n.push(can.view.txt(1,"div",0,this,function(){return content})),n.push("\n\t")),n.join("")})),___v1ew.push("\n</div>\n"),___v1ew.join("")}}))});
/*os/views/footer/footer.ejs!can/view/ejs/system*/
define("os/views/footer/footer.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/footer/footer.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="login">\n    <i></i>\n</div>\n<div class="message">\n    <a href="https://www.frogeducation.com" target="_blank" title="'),___v1ew.push(can.view.txt(!0,"a","title",this,function(){return app._("label.powered_by_frog.title")})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push(can.view.txt(1,"a",0,this,function(){return app._("label.powered_by_frog",null,"os")})),___v1ew.push("</a> | <span>"),___v1ew.push(can.view.txt(1,"span",0,this,function(){return app._("label.login")})),___v1ew.push("</span>\n</div>\n"),___v1ew.join("")}}))});
/*os/views/graphs/cell.ejs!can/view/ejs/system*/
define("os/views/graphs/cell.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/graphs/cell.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"span",0,this,function(){var n=[];if("object"==typeof col){n.push("\n    ");var t,i,e,s="",c="";for(e in col)"text"!==e&&"div"!==e&&(t=col[e].toString().replace("'","&#39;"),s+=Frog.Utilities.hyphenize(e)+"='"+t+"' ");if(col.div)for(e in col.div)"text"!==e&&(i=col.div[e].toString().replace("'","&#39;"),c+=Frog.Utilities.hyphenize(e)+"='"+i+"' ");n.push("\n    <td "),n.push(can.view.txt(0,"td",1,this,function(){return s})),n.push("",can.view.pending({scope:this}),">"),n.push("\n        "),n.push(can.view.txt(0,"td",0,this,function(){return col.text})),n.push("\n        "),n.push(can.view.txt(0,"td",0,this,function(){var n=[];return col.div&&(n.push("\n            <div "),n.push(can.view.txt(0,"div",1,this,function(){return c})),n.push("",can.view.pending({scope:this}),">"),n.push(can.view.txt(0,"div",0,this,function(){return col.div.text})),n.push("</div>\n        ")),n.join("")})),n.push("\n    </td>\n")}else n.push("\n    <td>\n        "),n.push(can.view.txt(0,"td",0,this,function(){return col})),n.push("\n    </td>\n");return n.join("")})),___v1ew.push("\n"),___v1ew.join("")}}))});
/*os/views/graphs/row.ejs!can/view/ejs/system*/
define("os/views/graphs/row.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/graphs/row.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push("<tr></tr>\n"),___v1ew.join("")}}))});
/*os/views/graphs/table.ejs!can/view/ejs/system*/
define("os/views/graphs/table.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/graphs/table.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<table class="table '),___v1ew.push(can.view.txt(!0,"table","class",this,function(){return classes})),___v1ew.push('" '),___v1ew.push(can.view.txt(2,"table","style",this,function(){var e=[];return e.push('style="'),e.push(width),e.push(" "),e.push(style),e.push('"'),e.join("")})),___v1ew.push("",can.view.pending({scope:this}),">"),___v1ew.push("\n    "),___v1ew.push(can.view.txt(0,"table",0,this,function(){var e=[];return caption&&(e.push("\n        <caption>"),e.push(can.view.txt(1,"caption",0,this,function(){return caption})),e.push("</caption>\n    ")),e.join("")})),___v1ew.push("\n</table>\n"),___v1ew.join("")}}))});
/*os/views/iframe/connection_bar.ejs!can/view/ejs/system*/
define("os/views/iframe/connection_bar.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/iframe/connection_bar.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="os-connection-info">\n  <div class="pull-left">\n    '),___v1ew.push(can.view.txt(0,"div",0,this,function(){var n=[];return schoolName?(n.push("\n    "),n.push(can.view.txt(1,"div",0,this,function(){return app._("iframe.frogconnect.connectedto")})),n.push('\n    <span class="label frog-label">'),n.push(can.view.txt(1,"span",0,this,function(){return schoolName})),n.push("</span>\n    ")):(n.push("\n    "),n.push(can.view.txt(1,"div",0,this,function(){return app._("iframe.frogconnect.connectedtoanotherschool")})),n.push("\n    ")),n.join("")})),___v1ew.push('\n  </div>\n  <div class="close pull-right" data-action="dismiss-connection-info" title="'),___v1ew.push(can.view.txt(!0,"div","title",this,function(){return app._("iframe.frogconnect.dismiss")})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push("&times;</div>\n</div>\n"),___v1ew.join("")}}))});
/*os/views/modal/appLoader.ejs!can/view/ejs/system*/
define("os/views/modal/appLoader.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/modal/appLoader.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="modal-backdrop"></div>\n<div class="ui-os-loader-container">\n    <div class="ui-os-loading-box">\n\t\t<p class="title">'),___v1ew.push(can.view.txt(1,"p",0,this,function(){return this.title||""})),___v1ew.push("</p>\n        <img "),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push("public/icon/UI/loading-frog-"),e.push(this.theme||"light"),e.push('.gif"'),e.join("")})),___v1ew.push(" ",can.view.pending({scope:this}),"/>"),___v1ew.push("\n        <h5>"),___v1ew.push(can.view.txt(1,"h5",0,this,function(){return this.text||""})),___v1ew.push("</h5>\n    </div>\n</div>\n"),___v1ew.join("")}}))});
/*os/views/modal/button.ejs!can/view/ejs/system*/
define("os/views/modal/button.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/modal/button.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<button type="'),___v1ew.push(can.view.txt(!0,"button","type",this,function(){return type})),___v1ew.push('" class="btn '),___v1ew.push(can.view.txt(!0,"button","class",this,function(){return classes})),___v1ew.push('" data-action="'),___v1ew.push(can.view.txt(!0,"button","data-action",this,function(){return action})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push(can.view.txt(1,"button",0,this,function(){return label})),___v1ew.push("</button>\n"),___v1ew.join("")}}))});
/*os/views/modal/helpinline.ejs!can/view/ejs/system*/
define("os/views/modal/helpinline.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/modal/helpinline.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<span class="help-inline">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return message})),___v1ew.push("</span>\n"),___v1ew.join("")}}))});
/*os/views/modal/loader.ejs!can/view/ejs/system*/
define("os/views/modal/loader.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/modal/loader.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push("<div "),___v1ew.push(can.view.txt(2,"div","style",this,function(){var e=[];return e.push('style="'),e.push('text-align:center;"'),e.join("")})),___v1ew.push(">\n    <img "),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push('public/icon/UI/loading.gif"'),e.join("")})),___v1ew.push(' alt="'),___v1ew.push(can.view.txt(!0,"img","alt",this,function(){return app._("core.controller.loading")})),___v1ew.push('" ',can.view.pending({scope:this}),"/>"),___v1ew.push("\n</div>"),___v1ew.join("")}}))});
/*os/views/modal/prompt.ejs!can/view/ejs/system*/
define("os/views/modal/prompt.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/modal/prompt.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<form class="form-inline">\n    <div class="control-group">\n      '),___v1ew.push(can.view.txt(0,"div",0,this,function(){var e=[];return message&&(e.push('\n      <label class="control-label" for="inputBox">'),e.push(can.view.txt(0,"label",0,this,function(){return message})),e.push("</label>\n      ")),e.join("")})),___v1ew.push('\n      <div class="controls">\n        <input type="text" name="inputBox" '),___v1ew.push(can.view.txt(0,"input",1,this,function(){var e=[];return placeholder&&(e.push(' placeholder="'),e.push(can.view.txt(!0,"input","placeholder",this,function(){return placeholder})),e.push('" ')),e.join("")})),___v1ew.push(' autofocus="autofocus"',can.view.pending({scope:this}),"/>"),___v1ew.push("\n      </div>\n    </div>\n</form>\n"),___v1ew.join("")}}))});
/*os/views/modal/saving.ejs!can/view/ejs/system*/
define("os/views/modal/saving.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/modal/saving.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push("<div "),___v1ew.push(can.view.txt(2,"div","style",this,function(){var e=[];return e.push('style="'),e.push('text-align:center;"'),e.join("")})),___v1ew.push(">\n    <img "),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push('public/icon/UI/loading.gif"'),e.join("")})),___v1ew.push(' alt="'),___v1ew.push(can.view.txt(!0,"img","alt",this,function(){return app._("saving.label")})),___v1ew.push('" ',can.view.pending({scope:this}),"/>"),___v1ew.push("\n</div>"),___v1ew.join("")}}))});
/*os/views/modal/skeleton.ejs!can/view/ejs/system*/
define("os/views/modal/skeleton.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/modal/skeleton.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="modal fade '),___v1ew.push(can.view.txt(!0,"div","class",this,function(){return classes})),___v1ew.push('" role="alertdialog" aria-modal="true" aria-labelledby="modal-header" aria-describedby="modal-body"',can.view.pending({scope:this}),">"),___v1ew.push('\n    <div role="document">\n        <div class="modal-header" id="modal-header">\n            <a href="#" class="'),___v1ew.push(can.view.txt(0,"a","class",this,function(){var e=[];return!0!==disableCloseClick&&e.push("close "),e.join("")})),___v1ew.push('close-large"',can.view.pending({scope:this}),">"),___v1ew.push("&times;</a>\n            <h4>"),___v1ew.push(can.view.txt(1,"h4",0,this,function(){return title})),___v1ew.push('</h4>\n        </div>\n        <div class="modal-body" id="modal-body">\n            '),___v1ew.push(can.view.txt(0,"div",0,this,function(){return app.view("~/os/views/modal/loader.ejs")})),___v1ew.push('\n        </div>\n        <div class="modal-footer"></div>\n    </div>\n</div>\n'),___v1ew.join("")}}))});
/*os/views/paginate/init.ejs!can/view/ejs/system*/
define("os/views/paginate/init.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/paginate/init.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push("<ul>\n    "),___v1ew.push(can.view.txt(0,"ul",0,this,function(){var n=[];return prev&&(n.push('\n        <li class="prev'),n.push(can.view.txt(0,"li","class",this,function(){var n=[];return page===min&&n.push(" disabled"),n.join("")})),n.push('"',can.view.pending({scope:this}),">"),n.push('<a href="#">'),n.push(can.view.txt(0,"a",0,this,function(){return prev})),n.push("</a></li>\n    ")),n.join("")})),___v1ew.push("\n    "),___v1ew.push(can.view.txt(0,"ul",0,this,function(){var n=[];return showPageNums&&(n.push("\n        "),n.push(can.view.txt(0,"ul",0,this,function(){for(var n=[],i=1;i<=numPages;i++)n.push("\n            <li"),n.push(can.view.txt(0,"li",1,this,function(){var n=[];return page===i&&n.push(' class="active"'),n.join("")})),n.push("",can.view.pending({scope:this}),">"),n.push('<a href="#">'),n.push(can.view.txt(1,"a",0,this,function(){return i})),n.push("</a></li>\n        ");return n.join("")})),n.push("\n        "),n.push(can.view.txt(0,"ul",0,this,function(){var n=[];return 0===total&&0===numPages&&n.push('\n            <li class="active"><a href="#">1</a></li>\n        '),n.join("")})),n.push("\n    ")),n.join("")})),___v1ew.push("\n    "),___v1ew.push(can.view.txt(0,"ul",0,this,function(){var n=[];return next&&(n.push('\n        <li class="next'),n.push(can.view.txt(0,"li","class",this,function(){var n=[];return page!==numPages&&0!==total||n.push(" disabled"),n.join("")})),n.push('"',can.view.pending({scope:this}),">"),n.push('<a href="#">'),n.push(can.view.txt(0,"a",0,this,function(){return next})),n.push("</a></li>\n    ")),n.join("")})),___v1ew.push("\n</ul>"),___v1ew.join("")}}))});
/*os/views/views-ex*/
define("os/views/views-ex",["./core/appSvg.ejs","./core/growl.ejs","./core/mainWindow.ejs","./core/orientation.ejs","./core/ribbit.ejs","./core/show.ejs","./core/testDialog.ejs","./core/unsupportedOnMobile.ejs","./dialog/alert.ejs","./dialog/confirm.ejs","./dialog/dialog.ejs","./footer/footer.ejs","./graphs/cell.ejs","./graphs/row.ejs","./graphs/table.ejs","./iframe/connection_bar.ejs","./modal/appLoader.ejs","./modal/button.ejs","./modal/helpinline.ejs","./modal/loader.ejs","./modal/prompt.ejs","./modal/saving.ejs","./modal/skeleton.ejs","./paginate/init.ejs"]);
/*os/controllers/core_controller*/
define("os/controllers/core_controller",["module","@loader","require"],function(e,o,t){o.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var n=o.global.define,t=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:'var _winMan=null,_getUser=null,_User=null,_FrogOS_Prefs=null,_priorLoad=[],_registry={};Frog.Controller.extend("Os.Controllers.Core",{listensTo:["os.app.close","os.contextmenu.set","os.contextmenu.updatetour","os.contextmenu.action","os.internal.launchapp","os.app.dialog","click","os.getUser","os.app.forms","os.app.getAll","os.app.getQL","os.app.registry","os.getUserDashBoard","launch_help","os.setDashboardStyle","os.app.discover","os.checkfordownloads","os.generateUserCurriculums","welcome_info","showIalMaintenanceAlert"]},{manifest:{},coreDom:"CoreDom",titlebar_swipe:{},maxAppNum:10,maxTouchAppNum:10,initQsHolderLeft:null,quicklaunchToggleable:!0,resizeTimeout:null,timeout:null,isMaintenanceAlertShowing:!1,init:function(){if(!steal.isRhino){_FrogOS_Prefs=$.extend({preferences:{user:{},company:{},system:{},system_config:{}}},window.FrogOS_Prefs),this.isMobile="phone"==Frog.Utilities.getDevice(),this.isTablet="tablet"==Frog.Utilities.getDevice();var e,t,o=this,n=this.element,i=_FrogOS_Prefs.myfrog_embedded,s=(_FrogOS_Prefs.preferences.system.FCM_SENDER_ID,_FrogOS_Prefs.preferences.system.FCM_AUTH_DOMAIN,_FrogOS_Prefs.preferences.system.FCM_PROJECT_ID,_FrogOS_Prefs.preferences.system.FCM_API_KEY,function(){jQuery("body").triggerHandler("FrogCore.ready"),i&&parent&&parent.postMessage({eventname:"FrogOS.loaded",payload:{token:$.cookie("frogos_auth")}},"file://"),o.findStoredSite().done(function(e){e.training_module_uuid?o.openTrainingModule(e):o.openSite(e),o.hideFrogLoader()}).fail(function(){o.hideFrogLoader()})});steal.isRhino||(_FrogOS_Prefs.preferences.system_config["app.frogplay.enabled"]="1"===_FrogOS_Prefs.preferences.system_config["app.frogplay.enabled"],_FrogOS_Prefs.preferences.system_config["app.iamlearning.enabled"]="1"===_FrogOS_Prefs.preferences.system_config["app.iamlearning.enabled"],_FrogOS_Prefs.preferences.system["analytics.record.pageviews.enabled"]="1"===_FrogOS_Prefs.preferences.system["analytics.record.pageviews.enabled"],_FrogOS_Prefs.preferences.system["frogos.welcome_info"]="1"===_FrogOS_Prefs.preferences.system["frogos.welcome_info"],_FrogOS_Prefs.preferences.system["cookies_warning.disabled"]="1"===_FrogOS_Prefs.preferences.system["cookies_warning.disabled"],Os.Models.Environment.Deployment.set(_FrogOS_Prefs._deployment),Os.Models.Environment.Deployment.set({school_name:_FrogOS_Prefs.preferences.system["school.name"]}),Os.Models.Environment.set("has_frogplay",_FrogOS_Prefs.preferences.system_config["app.frogplay.enabled"]),Os.Models.Environment.set("has_iamlearning",_FrogOS_Prefs.preferences.system_config["app.iamlearning.enabled"]),Os.Models.Environment.set("login_method",_FrogOS_Prefs.preferences.system.login_method),Os.Models.Environment.set("active_bundle",_FrogOS_Prefs.bundle),Os.Models.Environment.set("safemode",_FrogOS_Prefs.safemode),Os.Models.Environment.set("debugmode",_FrogOS_Prefs.debugmode),Os.Models.Environment.set("is_beta",_FrogOS_Prefs.preferences.system.is_beta),Os.Models.Environment.set("analytics_page_views_enabled",_FrogOS_Prefs.preferences.system["analytics.record.pageviews.enabled"]),Os.Models.Environment.Deployment.set({assessment_scheme_required:_FrogOS_Prefs.preferences.system["assessment.require_scheme.default"]}),Os.Models.Environment.set("myfrog_embedded",i),Os.Models.Environment.set("myfrog_version",_FrogOS_Prefs.myfrog_version),Os.Models.Environment.set("disabled_cookies_warning",_FrogOS_Prefs.preferences.system["cookies_warning.disabled"]),Os.Models.Environment.set("is_frog3os","frog3os"===_FrogOS_Prefs._deployment.role),Os.Models.Environment.set("ribbit_url",_FrogOS_Prefs.ribbit_url),Os.Models.Environment.set("ribbits_enabled",["1",!0].includes(_FrogOS_Prefs.preferences.system["ribbits.enabled"])),Os.Models.Environment.set("rss_enabled",["1",!0].includes(_FrogOS_Prefs.preferences.system["rss.enabled"]))),Lib.Models.OrgIps.set(_FrogOS_Prefs.nt_payload),Frog.Utilities.isBundle("FrogNAHT")&&Lib.Models.Tour.setTours(_FrogOS_Prefs.tours),Lib.Models.i18n.set({language:_FrogOS_Prefs.preferences.user["user.language"],deployment:Os.Models.Environment.Deployment.getDeployment()}),Lib.Models.SystemPreferences.cache["site.default.theme"]=window.FrogOS_Prefs.preferences.system["site.default.theme"],Lib.Models.SystemPreferences.cache["templateserver.name_override"]=window.FrogOS_Prefs.preferences.system["templateserver.name_override"],$("#FrogPrefs").remove(),window.FrogOS_Prefs=null,_User=new Os.Models.User(_FrogOS_Prefs.user),this.manifest.sites=new Os.Models.Manifest(window.manifest_sites),window.manifest_sites=null,$("#os-loading-externalsite").fadeOut("fast",function(){$(this).remove()}),Lib.Models.i18n.setDictionaryKeys(_FrogOS_Prefs.i18n.formats),Lib.Models.i18n.loadSystemLanguage(),t=Lib.Models.i18n.ExternalApps.findAll(),$.each({apps:{model:Os.Models.Applications,method:"models"},roles:{model:Os.Models.User.Roles,method:"model"},licenses:{model:Os.Models.Licenses,method:"model"},quickLaunch:{model:Lib.Models.QuickLaunch,method:"models"}},function(e,t){_FrogOS_Prefs[e]&&(t.model.cache=t.model[t.method](_FrogOS_Prefs[e]),t.model.has_run=!0)}),this.element.os_events(),$.when(Os.Models.User.Roles.findOne().done(function(){this.element.triggerHandler("addListener",{el:this.element,target:"cache.bust.roles",listener:function(){Os.Models.User.Roles.has_run=!1,Os.Models.User.Roles.findOne().done(function(e){window._Roles=e})}})}.bind(this)),Os.Models.Licenses.findOne(),t).done(function(t,a){var r=function(){try{return window.self!==window.top}catch(e){return!0}}();window._Roles=t[0],window._Licenses=a[0],Lib.Models.Applications.findAll().done(function(){this.element.triggerHandler("addListener",{el:this.element,target:"cache.bust.applications",listener:function(){Lib.Models.Applications.has_run=!1}})}.bind(o)),e=_Roles.has("app.os.frogbar")&&!r,i&&(e=!1);var l=_FrogOS_Prefs.dashboards.length>1;o.model("CoreDom").setTitlebar(_Roles.has("app.global.search.access"),e,e&&o.showPlusButton(),l,function(){o.model("CoreDom").setMainWindow(),Frog.isLoggedIn&&o.model("CoreDom").setDesktopNav(),e&&o.loadFrogBar(),_Roles.has("app.os.footer")&&n.append(\'<div class="os_frog_footer fadeout" />\').children("div.os_frog_footer").os_frog_footer(),_winMan=n.os_window_manager(),$.support.touch&&o.isLoggedIn()&&n.os_window_manager_touch(),n.os_realtime({interval:_FrogOS_Prefs.preferences.system["timeline.poll"]}),(e||i)&&n.os_search(),o.isLoggedIn()&&(n.os_dashboard({dashboards:_FrogOS_Prefs.dashboards,user:{background_style:_FrogOS_Prefs.preferences.user["user.background.style"],background:_FrogOS_Prefs.preferences.user["user.background"]},company:{background:_FrogOS_Prefs.preferences.company["company.background"]},lazyload:!!parseInt(_FrogOS_Prefs.preferences.system["dashboards.lazyload"],10),hidden:i}),"nationaltheatre"===_FrogOS_Prefs._deployment.customer&&null===_FrogOS_Prefs.preferences.user["nt.allow.update.notifications"]?o.showMarketingConsent().then(function(){o.showTerms(o.welcome_info.bind(o))}):o.showTerms(o.welcome_info.bind(o)),Frog.Utilities.isBundle("FrogNAHT")&&"admin"===_User.profile.type&&o.trigger("os.generateUserCurriculums")),s()}),r&&!i&&o.element.os_iframe({schoolName:_FrogOS_Prefs.preferences.system["school.name"]}),-1!==window.location.search.indexOf("help")&&o.trigger("os.app.help",null)})}},"shortcut.clicked":function(e,t){$(document).trigger(this.Class.defaults.click,{from:"shortcuts"})},"[data-action=quicklaunch] click":function(e,t){this.model("CoreDom").blurAllApps(),e.find(".os-contextmenu-holder").is(":not(:visible)")&&this.element.trigger("shortcut.clicked"),this.element.trigger("os.quicklaunch.toggle")},"os.quickstart.launch":function(e,t,o){this.element.find(".os_quick_start").trigger("quickstart.launch",o.data)},"os.quicklaunch.toggle":function(e,t,o){var n,i=this.element.find(\'[data-action="quicklaunch"]:visible\'),s=i.children(".os-contextmenu-holder"),a=s.find(".os-quickstart-menu-holder"),r=s.find(".os-quickstart-edit"),l=s.find(".os-quickstart-scroll"),d=s.find(".no-apps"),u=screen.width<500,c=$(document.body).outerHeight(),p=s.parent().outerHeight(),g=2*parseInt(s.css("margin-top"),10),f=c-p-r.outerHeight();o=null!=o?o:s.is(":hidden"),a.length&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){i.toggleClass("selected",o),o?(u?(s.removeClass("hide"),n=parseInt(a.css("margin-left"),10)+s.offset().left,a.css("margin-left",n>0?"-="+n+"px":"+="+-1*n)):f-=g,s.find("div.os-quickstart-menu-holder ul").children().length||d.removeClass("hide"),l.css("max-height",f),d.addClass("hide"),Frog.Utilities.showMenu(s),u||l.get(0).scrollHeight===l.outerHeight()?l.find("> ul").width(359):l.find("> ul").width(375)):Frog.Utilities.hideMenu(s)}.bind(this),100))},"{window} beforeunload":function(e,t){if(!1===Os.Models.Environment.get("myfrog_embedded")&&1==_FrogOS_Prefs.preferences.system["browser.backbutton.disabled"]&&!this.element.hasClass("logging-out")&&!this.element.hasClass("logging-in"))return""},"[data-action=assignments] click":function(e,t){this.model("CoreDom").blurAllApps(),this.element.find(".os_assignments").trigger("assignments.toggle")},"[data-action=notifications] click":function(e,t){t.stopPropagation(),this.model("CoreDom").blurAllApps(),$(".ui-os-notifications").is(":not(:visible)")&&this.element.trigger("shortcut.clicked"),this.element.trigger("os.notifications.toggle")},"os.notifications.toggle":function(e,t,o){var n=this.element.find(".ui-os-notifications");o=null!=o?o:n.hasClass("hide"),Frog.Utilities.toggleMenu(n,o),this.model("CoreDom").blurAllApps(),t.stopPropagation()},"[data-action=profile] click":function(e,t){this.model("CoreDom").blurAllApps(),e.find(".os-profile-holder").is(":not(:visible)")&&this.element.trigger("shortcut.clicked"),this.element.trigger("os.profile.toggle")},"[data-action=inbox] click":function(e,t){this.model("CoreDom").blurAllApps(),this.element.find(".os_inbox").trigger("inbox.toggle")},"os.profile.toggle":function(e,t){this.element.find(".os_profile").trigger("profile.toggle")},"os.inbox.refresh":function(){this.element.find(".os_inbox").trigger("inbox.refresh")},"{window} keydown":$.debounce(function(e,t){var o;if(Frog.Utilities.isKeyEventValidShortcut(t))if(o=this.element.find(".os-titlebar"),27!=t.which)switch(String.fromCharCode(t.which)){case"H":o.trigger("frogmenu.showdashboard");break;case"N":this.element.closest("body").find(".os_plus").length||o.find(".ff-plus-mono").click();break;case"Q":o.find(".ff-grid-mono").click();break;case"T":o.find("[data-action=assignments]:first").click()}else $(document).click()},300),"{document} keydown":function(e,t){(17===t.keyCode||t.ctrlKey)&&(Os.Models.Environment.set("safemode",!0),this._safemodeTimeout&&(clearTimeout(this._safemodeTimeout),this._safemodeTimeout=null),this._safemodeTimeout=setTimeout(function(){Os.Models.Environment.set("safemode",!1)},500))},"{document} keyup":function(e,t){(17===t.keyCode||t.ctrlKey)&&(Os.Models.Environment.set("safemode",!1),this._safemodeTimeout&&(clearTimeout(this._safemodeTimeout),this._safemodeTimeout=null))},"{document} dragover":function(e,t){t.preventDefault()},"{document} drop":function(e,t){t.preventDefault()},"os.desktop.hide":function(){this.model("CoreDom").hideDesktop(),this.element.find("ul.os_shortcuts").trigger("shortcuts.home",{focus:!1})},"os.desktop.show":function(){this.model("CoreDom").showDesktopAndApps(),this.element.find("ul.os_shortcuts").trigger("shortcuts.home",{focus:!0})},"os.app.discover":function(e,t,o){this.launchApp("discover",o)},"os.app.dataviewer":function(e,t,o){this.launchApp("dataviewer",o)},"os.app.managetimeline":function(e,t,o){this.launchApp("managetimeline",o)},"os.app.launchAssignment":function(e,t,o){var n={site:"",assignment_uuid:o.data.uuid};"closed"===o.data.status&&(n.mode="readonly"),Lib.Models.Assign.findOne({uuid:n.assignment_uuid}).done(function(e){n.site=e.attr("link"),this.trigger("os.app.siteviewer",n)}.bind(this))},"os.app.launchMarkbook":function(e,t,o){this.launchApp("markbookmanager",{data:{assignment_deeplink_uuid:(o.data||o).assignment_uuid}})},"os.app.launchMyClass":function(){this.launchApp("myclass",{})},"os.app.launchMyChild":function(){this.launchApp("mychild",{})},"os.app.launchMyLearning":function(){this.launchApp("mylearning",{})},"os.app.siteviewer":function(e,t,o){o.data.training_module_uuid&&(o.headerTitle=this._("frogbar.title.module")),this.launchApp("sites",o)},"os.app.viewevent":function(e,t,o){null!==o.data.uuid?o.source="calendar/?view_type=-1&event="+o.data.uuid:o.source="calendar/?view_type=-1",this.launchApp("calendar",o)},"os.app.viewuser":function(e,t,o){o.source="../Mis/User/list?user="+o.data.uuid,this.launchApp("users",o)},"os.app.viewgroup":function(e,t,o){o.source="../Mis/Group/list?group="+o.data.uuid,this.launchApp("groups",o)},"os.app.help":function(e,t,o){this.launchHelp(o)},"os.app.upload":function(e,t,o){this.launchApp("uploader",o)},"os.app.registry":function(e,t,o){var n=o.element.closest("div.app_dialog"),i=this.model("CoreDom").getAppNameFromElement(n);if(o=o.data,_registry[i]||(_registry[i]={}),"string"==typeof o.name&&void 0===o.value){var s=_registry[i][o.name];"function"==typeof o.callback&&o.callback(s)}else"string"==typeof o.name&&void 0!==o.value&&(_registry[i][o.name]=o.value)},"os.app.forms":function(e,t,o){void 0!==o.data&&(o=o.data),this.launchApp("forms",o)},"os.app.hotspot":function(e,t,o){this.launchApp("hotspot",o)},"os.app.preview":function(e,t,o){var n={};"quiz"===o.data.type?Frog.Utilities.isEnvironment("uk_commercial_ngn")?($.extend(!0,n,o.data.options),n.mode="preview",this.launchApp("quizbuilder",{data:n})):this.launchApp("preview",{data:{type:"quiz",uuid:o.data.uuid,launchAboveModal:o.data.options.launchAboveModal||!1,coverFrogBar:o.data.options.coverFrogBar||!1,height:610,width:1024,name:o.data.options.quiz.name,content_uuid:o.data.options.content_uuid}}):"quiz_video"===o.data.type?this.launchApp("preview",{data:{type:"quiz_video",video_id:o.data.video_id,file_name:o.data.file_name,launchAboveModal:o.data.launchAboveModal||!1,name:o.data.name}}):"timeline_event"===o.data.type?this.launchApp("preview",o):o.data.resource.attachment&&o.data.resource.attachment.file&&"epub"===o.data.resource.attachment.file.mime.ext?this.launchApp("ebookreader",o):this.launchApp("preview",o)},"os.app.launchQuizBuilder":function(e,t,o){this.launchApp("ialquizbuilder",{mode:o.data.mode||null,quiz_id:o.data.quiz_id||null,question_id:o.data.question_id||null,site_uuid:o.data.site_uuid||null,callback:o.data.options.callback,launchAboveModal:o.data.options.launchAboveModal||!1,data:{fullscreen:!o.data.appInfo||void 0===o.data.appInfo.fullscreen||o.data.appInfo.fullscreen,mode:o.data.appInfo&&void 0!==o.data.appInfo.mode?o.data.appInfo.mode:null}})},"os.app.launchQuizReports":function(e,t,o){this.launchApp("ialquizreports",{mode:o.data.mode||"reports",quiz_id:o.data.quiz_id||null,quiz_result_id:o.data.quiz_result_id,content_uuid:o.data.content_uuid,reports_user_uuid:o.data.reports_user_uuid,callback:o.data.callback,launchAboveModal:o.data.launchAboveModal||!1,params:o.data.params||{}})},"os.getOpenAssignments":function(e,t,o){var n,i={};this.element.find(".app-sites").each(function(){(n=$(this).controller())&&n.assignment_uuid&&(i[n.assignment_uuid]=$(this))}),"function"==typeof o.data&&o.data(i)},"os.app.launchQuizPlayer":function(e,t,o){this.launchApp("ialquizplayer",{quiz_id:o.data.quiz_id||null,callback:o.data.options.callback,content_uuid:o.data.options.content_uuid||null,homework_uuid:o.data.options.homework_uuid||null,end_options:o.data.end_options||null,launchAboveModal:o.data.options.launchAboveModal||!1,app_container:o.data.app_container||null,is_embedded:o.data.is_embedded||null,quiz_completed:o.data.options.quiz_completed||null,ignoreQuickLaunch:!!o.data.app_container})},"os.app.launchFrogPlayLive":function(e,t,o){this.launchApp("frogplaylive",{data:{mode:o.data.mode,quiz:o.data.quiz,launchAboveModal:o.data.launchAboveModal||!1}})},"os.getUser":function(e,t,o){if("function"!=typeof o.data)return jQuery.extend(!0,{},_User);o.data($.extend(!0,_User,{}))},"os.getDashboards":function(e,t,o){return o&&"function"==typeof o.data&&o.data({dashboards:_FrogOS_Prefs.dashboards||[]}),_FrogOS_Prefs.dashboards||[]},"os.setDashboardBackground":function(e,t,o){_FrogOS_Prefs.user["user.background"]=o.data.value,_FrogOS_Prefs.user["user.background.style"]=o.data.style},"os.setDashboardStyle":function(e,t,o){var n=["center","fill","stretch","tile","default"];void 0!==o.data&&$.inArray(o.data,n)>=0&&(_FrogOS_Prefs.user["user.background.style"]=o.data)},"os.getDashboardStyle":function(e,t,o){"function"==typeof o.data&&o.data({user_background_style:_FrogOS_Prefs.user["user.background.style"],user_background:_FrogOS_Prefs.user["user.background"]})},"os.getRoles":function(e,t,o){"function"==typeof o.data&&o.data(_Roles)},"os.isLoggedIn":function(e,t,o){"function"==typeof o.data&&o.data(this.isLoggedIn())},"os.app.getResource":function(e,t,o){(o=o.data).type="mini",this.launchApp("resources",o)},\'[data-help="true"] click\':function(e,t,o){var n=$(t.target);return this.launchHelp({url:n.attr("href"),title:e.html(),desc:e.attr("title"),app_name:this.model("CoreDom").getAppNameFromElement(n.closest(".app_dialog"))}),!1},launchHelp:function(e){window.open(Frog.Utilities.getBaseUrl()+"/app/helpstandalone","_blank")},"os.app.getRunning":function(e,t,o){"function"==typeof o.data&&_winMan.trigger("app.getRunning",{callback:function(e){o.data($.extend({},e,{}))}})},"os.app.getAll":function(e,t,o){"function"==typeof o.data&&o.data(Lib.Models.Applications.getMenu())},"os.app.getQL":function(e,t,o){var n=this;"function"==typeof o.data&&o.data(Lib.Models.QuickLaunch.findAll().done(function(e){return e.sort(Lib.Models.QuickLaunch.__sortFn.bind(n))}).done(function(){n.element.triggerHandler("addListener",{el:this.element,target:"cache.bust.quicklaunch",listener:function(){Lib.Models.QuickLaunch.has_run=!1,$([Lib.Models.QuickLaunch.Weblink]).trigger("updated")}})}))},"os.internal.launchapp":function(e,t,o){"preview"===o.data.name&&o.data.resource&&o.data.resource.attachment&&o.data.resource.attachment.file&&"epub"===o.data.resource.attachment.file.mime.ext&&(o.data.name="ebookreader"),this.launchApp(o.data.name,o)},"os.internal.launchEmbeddedApp":function(e,t,o){var n=function(e,o){var n={full_name:e.getName(),height:o.height,width:o.width,fullscreen:!1,resizable:!1,position:e.getPosition(),minWidth:e.getMinWidth(),minHeight:e.getMinHeight(),maxWidth:e.getMaxWidth(),maxHeight:e.getMaxHeight(),group:e.getGroups(),name:o.app_name,type:e.getType(),source:e.getSource(),source_app:e.getSourceApp(),source_app_data:e.getSourceAppData(),mode:e.getMode(),maxInstances:e.getMaxInstances(o.app_name),help_page:e.getHelpPage(),portrait_mode:!0},i="app_embedded app-"+o.app_name+" app_dialog "+e.getMode()+"_app_dialog",s=$(\'<div class="\'+i+\'"></div>\').appendTo(o.app_container);return steal.import("container/container!frog-component").then(function(){for(var e,i=o.app_name.split("_"),a=0;a<i.length;a++)i[a]=i[a].charAt(0).toUpperCase()+i[a].slice(1);i=i.join(""),window[i]||(i="Container"),(e=new window[i].Controllers.Core(s,o)).portraitMode=n.portrait_mode,e._onOrientationChange(),s.controller()["app.launch"]&&s.controller()["app.launch"](s,t,{appInfo:n,appData:o.app_data}),"Container"===i&&s.trigger("container.setLayout",n)}.bind(this))};try{var i=function(){var e=function(e){var t={community:"benchmark",resources:"resource.manager",tenticks:"10ticks",thepond:"the.pond",discover:"pinpoint",quizbuilder:"quizzes",survey:"polls"};return t[e]?"app."+t[e]+".access":"app."+e.toLowerCase()+".access"};if(!window.manifest&&!this.manifest[o.app_name])return self.log("No manifest exists for - "+o.app_name);this.manifest[o.app_name]||(this.manifest[o.app_name]=new Os.Models.Manifest(manifest)),"container"===o.app_name||function(t,o,n){return!(!_Roles.has(n+".access")&&!_Roles.has(e(o)))||!!Object.prototype.hasOwnProperty.call(t,"launchRoles")&&_Roles.hasOneOf(t.launchRoles)}(this.manifest[o.app_name],o.app_name,o.role_name)?n(this.manifest[o.app_name],o):this.showAppPermissionError(o.app_name,o.app_name)}.bind(this);if(this.manifest[o.app_name])return i();this.loadingApp(o.app_name,!0),this.getAppLoader(o.app_name).load().then(function(){i()})}catch(e){this.log("Unable to load "+o.app_name),this.alert(this._("notice.unable_to_open",[this._("app."+o.app_name)]))}},"os.app.closeall":function(){Os.Models.CoreDom.getAllApps().find(".app_dialog").trigger("app.close"),"mcp"!==Os.Models.Environment.get("myfrog_version")&&this.element.trigger("dashboard.showDashboards")},"os.app.closefocused":function(){Os.Models.CoreDom.getAllApps().filter(".focused").find(".app_dialog").trigger("app.close")},"os.app.close":function(e,t,o){var n,i=this.manifest,s=o.element.data("instance"),a=this.model("CoreDom").getAppNameFromElement(o.element),r=i[a],l=r.getMode(),d=r.getType(),u=r.getSource(),c=null,p=null,g=0,f={height:r.getHeight(),width:r.getWidth(),name:a,type:d,source:u,mode:l,maxInstances:r.getMaxInstances()};if(Os.Models.Environment.get("myfrog_embedded")&&parent&&parent.postMessage({eventname:"MyFrog.os.app.closed",appName:a,payload:o.element.find(".sites-site-content").data("siteUuid")},"file://"),f.instance=s,this.element.find("div.os-titlebar").find("li.os-navbar-icon-minimise-close").find("div").addClass("hide"),this.model("CoreDom").destroyApp(o.element),0===this.element.parent().find(".ui-dialog.launch-above-modal").length&&(this.model("CoreDom").restoreFrogBar(),$(".ui-widget-overlay, .modal-backdrop.fade.in").css("top",0)),_winMan.trigger("app.cleanup",{appInfo:f,el:o.element}),$.support.touch&&(n=this.element.find("div.ui-os-desktop").find(">div.ui-dialog")),o.data&&o.data.focusApp&&o.data.focusApp.closest("div.ui-dialog").length)this.model("CoreDom").focusAppByElement(o.data.focusApp,{});else if($.support.touch&&n.length>0)n.each(function(){var e=$(this);(p=e.css("zIndex"))>g&&(g=p,c=e)}),c.length&&c.find("div.app_dialog").trigger("dialogfocus",{closeTray:!1});else{var m=this.element.find("div.ui-os-desktop > div").orderByZ()[0],h=this.element.parent().find(".ui-dialog.launch-above-modal");void 0!==m&&$(m).is(":visible")?$(m).find("div.app_dialog").trigger("dialogfocus",{closeTray:!1}):h.length>0?(m=h.orderByZ()[0],$(m).find("div.app_dialog").trigger("dialogfocus")):(this.model("CoreDom").hideDesktop(),this.element.find("li.os-navbar-icon-home").addClass("selected"),this.element.trigger("os.dashboard.setcontextmenu"))}},"os.assignment.completed":function(e,t,o){this.element.find(".ui-os-assignments:first").triggerHandler("os.internal.assignment.completed",o)},"os.contextmenu.set":function(e,t,o){o.element&&o.element.hasClass("app_embedded")||this.setContextMenu(o)},"os.contextmenu.updatetour":function(e,t,o){this.model("CoreDom").getContextMenuEl().trigger("os.internal.contextmenu.updatetour",o)},"os.contextmenu.action":function(e,t,o){var n=this.model("CoreDom").getContextMenuEl();o.element[0]===n[0]&&n.trigger("os.internal.contextmenu.action",o)},"os.checkfordownloads":function(){var e=this;_Roles.has("api.package.downloadrequired")&&Lib.Models.Package.doDownloadsExist().done(function(t){t&&(e.growl(e._("sites.downloads.growl.inprogress"),e._("app.ukfrogstore"),"ukfrogstore"),Lib.Models.Package.startDownloads().done(function(t){e.growl(e._("sites.downloads.growl.complete"),e._("app.ukfrogstore"),"ukfrogstore")}).error(function(){e.growl(e._("sites.downloads.growl.errorInstallingPackages"),e._("app.ukfrogstore"),"ukfrogstore")}))}).fail(function(t){e.growl(e._("sites.downloads.growl.errorDownloadRequired"),e._("app.ukfrogstore"),"ukfrogstore")})},"li.share_link click":function(e,t,o){this.element.trigger("getFocusedApp",function(e){e.trigger("share")})},".logout {click}":function(){this.element.addClass("logging-out"),this.element.trigger("event",{data:"FrogCore.logout",next:function(){1==~~Os.Models.Environment.get("login_method")&&window.open("os/googlelogout.htm","NewWin","top=10,left=10,toolbar=no,menubar=no,location=no,resizable=no,status=no,width=400,height=250,scrollbars=no"),window.location="os/logout?token_type=fos"}})},"os.generateUserCurriculums":function(e,t,o){var n=this,i=$.extend([],_FrogOS_Prefs.core_curriculums),s=$.Deferred(),a=[],r=[],l=!0,d=["B93550502008E7065B531F4F90A9300D0C0A27AC5C38C992"],u=o.data||$.noop;this.core_curriculum_duplication?this.core_curriculum_duplication.done(function(){u()}):(Lib.Models.Curriculum.CurriculumType.findAll().done(function(e){e.each(function(e,t){t.versions.length&&t.versions.each(function(e,t){r.push(t.name)})}),r.length&&(l=!1),r.length>=i.length||!1===l&&r.length>=i.length-d.length?s.resolve():(a=$.grep(i,function(e){return(!1!==l||-1===d.indexOf(e.uuid))&&r.indexOf(e.name)<0})).length?(a.forEach(function(e,t,o){i[t]=Lib.Models.Curriculum.Curriculum.duplicate({uuid:e.uuid,user_uuid:_User.uuid})}),n.core_curriculum_duplication=$.when.apply(this,i).done(function(){s.resolve()}).fail(function(){n.growl(n._("growl.curriculum.duplicate.failed"))})):s.resolve()}),s.done(function(){u()}))},hideFrogLoader:function(){Modernizr.csstransitions||$("#loading-fader").fadeOut(function(){$(this).remove()})},loadFrogBar:function(){var e=this.model("CoreDom"),t=!1,o=["uk_unified","uk_primary","uk_secondary"];("malaysia"===Os.Models.Environment.Deployment.getLocale()||-1!==o.indexOf(Os.Models.Environment.Deployment.getDeployment())&&!Frog.Utilities.isBundle("FrogNAHT"))&&(t=!0),this.element.os_frog_menu({User:_User,Roles:_Roles,Licenses:_Licenses,show_items:{welcome_info:t}}),this.element.trigger("os.dock.handle",{show:_FrogOS_Prefs.has_dock}),this.element.find(".os-titlebar-shortcuts").os_shortcuts({roles:_Roles,user:_User}),_Roles.has("app.assignmentslauncher.shortcut")&&this.element.find(".ui-os-assignments").os_assignments(),_Roles.has("app.messages.inbox")&&this.element.find(".ui-os-inbox").os_inbox(),e.getContextMenuEl().os_context_menu(),this.element.trigger("os.dashboard.setcontextmenu")},isLoggedIn:function(){return void 0!==_User.attr("profile")},setTerms:function(e,t){this.model("User").setTerms(e,t)},setContextMenu:function(e){this.model("CoreDom").getContextMenuEl().trigger("os.internal.contextmenu.set",e)},showAppPermissionError:function(e,t){var o=this._("app."+t);this.alert(this._("notice.unable_to_open",[o!=="app."+t?o:e]))},launchApp:function(e,t){var o=(t=t||{}).display_name||t.type||e,n=t.data&&t.data.appModel;t.data=t.data||{},t.data.user=_User,t.data&&t.data.ssoid||!n||!n.extended_data||!n.extended_data.ssoid||(t.data.ssoid=n.extended_data.ssoid);var i=n&&n.extended_data||{};if(!0===i.external){if(i.ssoid)return this.element.trigger("os.analytics.app.launch",e),window.open("wrapper?app_id="+i.ssoid);if(i.source)return window.open(i.source)}var s,a,r=this,l=this.element;if(-1!==this.manifest[e]){this.manifest[e]||(this.manifest[e]=-1),s="sites"===e&&t.data.site?r.model("CoreDom").getAppInstances("sites").filter(function(){var e=$(this).data("controllers");return e&&e.sites_core&&e.sites_core.site&&e.sites_core.site.link&&e.sites_core.site.link===t.data.site}):"preview"===e?r.model("CoreDom").getAppInstances("preview").filter(function(){var e=$(this).data("controllers"),o=t.data.uuid;for(var n in e)return!o&&t.data.resource&&t.data.resource.uuid&&(o=t.data.resource.uuid),e[n]&&e[n].options&&(e[n].options.uuid&&e[n].options.uuid===o||e[n].options.video_id&&e[n].options.video_id===t.data.video_id||e[n].options.resource&&e[n].options.resource.uuid&&e[n].options.resource.uuid===o)}):r.model("CoreDom").getAppInstances(e).filter(function(){var o,n=$(this).data("controllers");for(o in n)return t.data.appModel&&t.data.appModel&&t.data.appModel.uuid&&n[o].options&&n[o].options.appModel&&n[o].options.appModel.uuid?t.data.appModel.uuid===n[o].options.appModel.uuid:t.data.source&&n[o].options&&n[o].options.source?t.data.source===n[o].options.source&&t.data.app_name&&n[o].options.app_name&&t.data.app_name===n[o].options.app_name&&t.data.ssoicon&&n[o].options.ssoicon&&t.data.ssoicon===n[o].options.ssoicon:t.data.instance_id||n[o].element.data("instance-id")?n[o].appName===e&&n[o].element.data("instance-id")===t.data.instance_id:n[o].appName===e}),a=Boolean(s&&s.length&&!t.data.launch_new);var d=Boolean(t.data.launch_new||t.data.view),u=function(o){if(o.hasUnlimitedInstances()&&!a||d||o.getMaxInstances()>r.currentInstances(e)){var i=$(\'<div class="app-\'+e+" app_dialog "+o.getMode()+\'_app_dialog"></div>\'),u={full_name:o.getName(),height:t.data.height||o.getHeight(),width:t.data.width||o.getWidth(),fullscreen:void 0!==t.data.fullscreen?t.data.fullscreen:o.getFullscreen(),resizable:void 0!==t.data.resizable?t.data.resizable:o.getResizable(),position:o.getPosition(),minWidth:o.getMinWidth(),minHeight:o.getMinHeight(),maxWidth:o.getMaxWidth(),maxHeight:o.getMaxHeight(),group:o.getGroups(),name:"container"===e&&t.data.app_name?t.data.app_name:e,type:o.getType(),source:o.getSource()||t&&t.data&&t.data.source,source_app:o.getSourceApp(),source_app_data:o.getSourceAppData(),mode:t.data.window_mode?t.data.window_mode:o.getMode(),maxInstances:o.getMaxInstances(e),help_page:o.getHelpPage(),autoMaximisable:o.getAutoMaximisable(),portrait_mode:!o.denyPortraitMode(),mobile_optimised:o.isMobileOptimised()};"string"==typeof t.data.instance_id&&t.data.instance_id.length&&(i.addClass("app_instance"),i.data("instance-id",t.data.instance_id)),t.data.view&&(u.view=t.data.view),"wrapper"===e&&n&&n.extended_data&&!1===n.extended_data.external&&n.extended_data.ssoid&&(u.source="wrapper?app_id="+n.extended_data.ssoid,u.extended_data=n.extended_data),Object.prototype.hasOwnProperty.call(o,"skin")&&(u.skin="function"==typeof o.skin?o.skin(u,t):o.skin);var c=function(e,t){var o=r.pretty_num(t),n=r.pluralise("App","Apps",t),i=r._("core.controller_window.max_instances",[o,n]);r.loadingApp(e,!1),r.alert(i)};if($.support.touch&&l.find(".ui-os-desktop > div").length>=r.maxTouchAppNum)return c(e,r.maxTouchAppNum);var p=function(){var o="";"sites"==u.name&&(o=void 0===(o=(o=t.data.site).split("/")[2])?t.data.site:o.split("_")[1]),"phone"!==Frog.Utilities.getDevice()||"uploader"==u.name||t.headerTitle||("assignmentreports"==u.name?t.headerTitle=r._("frogbar.title.assignments"):"assignment"==o?t.headerTitle=r._("frogbar.title.assignment"):"sites"===u.name?t.headerTitle=r._("frogbar.title.site"):t.headerTitle=r._("app."+u.name)),_winMan.trigger("loadWindow",{appInfo:u,el:i,data:t}),"sites"==e&&i.css("background-image",r.element.find(".site.first").css("background-image")),l.find(".os-navbar-icon-home").removeClass("selected"),l.find(".ui-os-desktop").show();var n=u.name;u.view&&(n={"appInfo.name":u.name,"appInfo.view":u.view}),r.element.trigger("os.analytics.app.launch",n),r.resizeApps()};return void 0!==u.source_app?steal.import("thirdparty/thirdparty!frog-component").then(p):void 0!==u.source?steal.import("container/container!frog-component").then(p):p()}if(1===o.getMaxInstances()&&1===r.currentInstances(e)||a)return r.model(r.coreDom).showDesktop().showFullscreen(e,s.data("instance-id")),void(a?r.trigger("wm.app.focus",{app:{instance:s,data:t}}):_winMan.trigger("manageFocus",{app:{name:e,data:t}}));r.alert(r._("AppMaxWindows"),function(e){return!1})};try{var c=function(t){var n=function(e){var t={community:"benchmark",resources:"resource.manager",tenticks:"10ticks",thepond:"the.pond",discover:"pinpoint",quizbuilder:"quizzes",survey:"polls",ialquizbuilder:"quizzes",ialquizplayer:"quizplayer"};return Object.prototype.hasOwnProperty.call(t,e)?"app."+t[e]+".access":"app."+e.toLowerCase()+".access"};if(!window.manifest&&!this.manifest[e])return r.log("No manifest exists for - "+e);-1===this.manifest[e]&&(this.manifest[e]=new Os.Models.Manifest(manifest)),"container"===e||function(e,t){return!(!t||!_Roles.has(t.role_name+".access"))||!!_Roles.has(n(e.app_name))||!!Object.prototype.hasOwnProperty.call(e,"launchRoles")&&_Roles.hasOneOf(e.launchRoles)}(this.manifest[e],t)?(u(this.manifest[e]),window.manifest=null):t&&t.name?this.showAppPermissionError(t.name,o):this.showAppPermissionError(e,o)}.bind(this),p=this.getAppRoleOverride(e,n,t);if(-1!==this.manifest[e])return c(p||n);r.loadingApp(e,!0),this.getAppLoader(n||e).load().then(function(){c(p||n)})}catch(t){this.log("Unable to load "+e),this.alert(this._("notice.unable_to_open",[this._("app."+e)])),delete this.manifest[e]}}},getAppRoleOverride:function(e,t,o){switch(e){case"forms":if(o&&("survey"===o.type||"surveys"===o.display_name))return $.extend({},t,{role_name:"app.polls"})}return null},getAppLoader:function(e){var t,o=e.extended_data||!1;return t=o.staged?"Staged":o.from_package?"Packaged":"Local",{load:function(){return this["get"+t+"Manifest"](e)}.bind(this)}},getPackagedManifest:function(e){var t=[],o=new $.Deferred;return t.push($.getJSON("package/applications/"+e.attr("uuid")+"/application.manifest.json?v="+Frog.Utilities.generateSimpleId())),t.push($.getJSON("externalapps/manifest/language/"+e.attr("uuid"))),$.when.apply(this,t).then(function(t,n){if(n=n[0]||{},!(t=t[0]||!1))throw new ReferenceError("Application Manifest missing");window.manifest=$.extend({},{fullscreen:!0,resizable:!0,mode:"dialog",app_name:e.attr("uuid"),width:745,height:500,minWidth:745,minHeight:500,max_instances:1},{name:t.application.name},t.application.args||{}),$.get("package/applications/"+e.attr("uuid")+"/production.js?v="+Frog.Utilities.generateSimpleId(),{dataType:"text"}).then(function(e){new Function("return "+e).call(window).then(o.resolve)})}.bind(this)),o.promise()},getStagedManifest:function(e){var t=[],o=new $.Deferred;return t.push($.getJSON("staging/application/"+e.attr("uuid")+"/application.manifest.json")),$.when.apply(this,t).then(function(t,n){if(!(t=t||!1))throw new ReferenceError("Application Manifest missing");window.manifest=$.extend({},{fullscreen:!0,resizable:!0,mode:"dialog",app_name:e.attr("uuid"),width:745,height:500,minWidth:745,minHeight:500,max_instances:1},{name:t.application.name},t.application.args||{}),$.get("staging/application/"+e.attr("uuid")+"/production.js",{dataType:"text"}).then(function(e){new Function("return "+e).call(window).then(o.resolve)})}.bind(this)),o.promise()},getLocalManifest:function(e){var t=e instanceof $.Model?e.app_name:e;return steal.import(t+"/"+t+"!frog-component")},loadingApp:function(e,t){var o=this.element.find("#loading-box");t?(this.element.closest("body").addClass("loading"),$(o).fadeIn("fast"),$(o).find("p").text(this._("core.controller.loading_app"))):(this.element.closest("body").removeClass("loading"),$(o).fadeOut("fast"))},currentInstances:function(e){return this.model("CoreDom").getAppInstances(e).length},controlleriseAppName:function(e){for(var t=e.split("_"),o=t.length,n=0;n<o;n++)t[n]=this.ucfirst(t[n]);return t.join("")},findStoredSite:function(){var e,t=$.Deferred(),o={};return _User.attr("profile")&&_User.attr("profile").type||!window.location.hash.match(/\\#\\!/)?$.cookie("frogos_site")?(window.location.hash&&(window.location.hash=""),o.site=$.cookie("frogos_site"),o.page=$.cookie("frogos_page")||null,$.cookie("frogos_site",""),$.cookie("frogos_page",""),$.cookie("frogos_is_default_site",""),_FrogOS_Prefs.isDefaultSite&&$.cookie("frogos_is_default_site","true"),t.resolve(o)):$.cookie("frogos_training_module")?(window.location.hash&&(window.location.hash=""),o.training_module_uuid=$.cookie("frogos_training_module"),$.cookie("frogos_training_module",""),$.cookie("frogos_site",""),$.cookie("frogos_page",""),$.cookie("frogos_is_default_site",""),t.resolve(o)):t.reject():(e=window.location.hash.replace(/\\#|\\!|\\ /g,"").split("/"),$.cookie("frogos_is_default_site")&&!e[0].length?o.site=_FrogOS_Prefs.default_site.external_url:o.site=e[0],o.page=e.length>0?e[e.length-1]:null,$.cookie("frogos_site",""),$.cookie("frogos_page",""),t.resolve(o))},openSite:function(e){var t=this;Lib.Models.Site.findByUrl(e.site).done(function(o){t.trigger("os.app.siteviewer",{site:o.attr("link"),page:e.page,isDefaultSite:_FrogOS_Prefs.isDefaultSite,isPublic:!0})}).fail(function(){window.location.href="../"+e.site})},openTrainingModule:function(e){this.trigger("os.app.siteviewer",{training_module_uuid:e.training_module_uuid,site:e.training_module_uuid})},welcome_info:function(e,t,o){var n=["uk_unified","uk_primary","uk_secondary"];if(o=o||{},"malaysia"===Os.Models.Environment.Deployment.getLocale())null===o.show_welcome&&(o.show_welcome=!_FrogOS_Prefs.preferences.user["user.frogos.terms"]);else{if(-1===n.indexOf(Os.Models.Environment.Deployment.getDeployment())||Frog.Utilities.isBundle("FrogNAHT"))return;if(!o.force&&"admin"!==_User.profile.type&&"staff"!==_User.profile.type)return;o.show_welcome=!1,o.show_release=!0}(o.force||_FrogOS_Prefs.preferences.system["frogos.welcome_info"]&&1!=_FrogOS_Prefs.preferences.user["user.frogos.welcome_info"])&&(o.language=o.language||_FrogOS_Prefs.preferences.user["user.language"],steal.import("os/libs/welcome/welcome!frog-component").then(function(){this.bsmodal(null,null,null,{chrome:!1}).os_welcome(o)}.bind(this)))},showMarketingConsent:function(){var e=$.Deferred();return this.checkboxConfirm("Please send me updates for Schools & Colleges from the National Theatre",function(t){t&&Lib.Models.UserPreferences.set("nt.allow.update.notifications",Math.floor(Date.now()/1e3).toString()),e.resolve()},"checkboxconfirm--nt-marketing-consent"),e},showTerms:function(e){e="function"==typeof e?e:$.noop;var t=!1;return"uk"===Os.Models.Environment.Deployment.getLocale()&&void 0!==_FrogOS_Prefs.preferences.system["aup_settings.profiles"][_User.profile.uuid]&&"1"===_FrogOS_Prefs.preferences.system["aup_settings.profiles"][_User.profile.uuid]&&(t=!0),"malaysia"===Os.Models.Environment.Deployment.getLocale()||Frog.Utilities.isBundle("FrogNAHT")||t?_FrogOS_Prefs.preferences.user["user.frogos.terms"]?e():void steal.import("os/libs/terms/terms!frog-component","frogui/components/terms/terms!frog-component").then(function(){this.bsmodal(this._("notice.terms.header"),this.view("~/os/libs/terms/views/main.ejs")).os_terms({language:_FrogOS_Prefs.preferences.user["user.frogos.terms.language"],callback:function(t,o,n){t?(n=n||!1,this.setTerms(o,n),e()):window.location="os/logout?token_type=fos"}.bind(this)})}.bind(this)):e()},showIalMaintenanceAlert:function(e,t,o){var n=this,i=Os.Models.Environment.get("has_frogplay")?"notice.ialmaintenance.play":"notice.ialmaintenance";this.isMaintenanceAlertShowing||(this.bsmodal(this._(i+".header"),this._(i+".prompt"),"ial-maintenance-alert",{}).on("hide",function(e){n.isMaintenanceAlertShowing=!1}).show(),this.isMaintenanceAlertShowing=!0)},launch_help:function(e,t,o){this.trigger("os.app.help",o)},"{window} resize":$.debounce(function(e,t,o){var n,i,s=$(document.body);if(window.Frog.isLoggedIn){n=$([".os_core .ui-os-main-window > .current",".os_core .ui-os-main-window > .current .sites-site-container"].join(", ")),i=$(".os_core .ui-os-main-window > .current .sites-site-container")}else n=i=this.element;!function(e,t,o){t.length&&o.length&&(t.css("height","auto"),e[0].offsetHeight<o[0].scrollHeight?t.css("height","auto"):t.css("height","100%"))}(s,n,i),setTimeout(this.resizeApps.bind(this))},100),resizeApps:function(){var e=this.element.controller("window_manager");$(\'.ui-os-desktop:first > .ui-dialog > div.app_dialog:not([class*="dashboard-"]):not(.app_embedded)\').each(function(){var t=$(this),o=t.parent(),n="tablet"==Frog.Utilities.getDevice(),i="phone"==Frog.Utilities.getDevice(),s=t.closest(".ui-dialog").data("prev_size"),a=$(this).closest(".ui-dialog").hasClass("fullscreen"),r=a&&Math.abs(o.width()-window.innerWidth)>10,l=a&&Math.abs(o.offset().top+o.height()-window.innerHeight)>10,d=!a&&o.offset().left+o.width()>=window.innerWidth,u=!a&&o.offset().top+o.height()>=window.innerHeight,c=o.find([".ui-minimiser",".ui-maximiser",".ui-minimiser > span",".ui-maximiser > span"].join(",")),p=!i&&(!(o.offset().left+s[0]>window.innerWidth||o.offset().top+s[1]>window.innerHeight)||n);(r||l||d||u||window.innerWidth<=670)&&!$.support.touch&&e.maximizeDialog(t),p||this.isMobile?c.css("display",""):(c.css("display","none"),e.maximizeDialog(t))})},"input {click}":function(e,t,o){if($.support.touch){var n=this,i=e.offset().top;$(window).one("resize",function(){i+e.height()>n.element.height()&&(n.element.find(".ui-os-desktop").scrollTop(i+e.height()),e.focus())})}},"{click}":function(e,t){this.model("CoreDom").isClickWithinApp(t)||this.model("CoreDom").isClickWithinContextMenuOrSearchOrNav(t)&&this.model("CoreDom").blurAllApps()},".plus-icon click":function(){var e=this.availableCreateActions();e.length&&(e.length>1?this.bsmodal(this._("core.create.media")).os_plus({roles:_Roles}):$("<div />").os_plus({launch:e[0].name}))},availableCreateActions:function(){return this.available_create_actions||(this.available_create_actions=Os.Controllers.Plus.availableActions.filter(function(e){return _Roles.has(e.role)})),this.available_create_actions},showPlusButton:function(){var e=!Frog.Utilities.isBundle("Progress")||_Roles.has("app.sites.quick.assign"),t=this.availableCreateActions().length>0,o=!Frog.Utilities.isBundle("FrogNAHT");return e&&o&&t},"os.setFrogbarTooltips":function(e,t){$.support.touch||e.find(\'[data-toggle=tooltip]:not("[data-original-title]")\').tooltip()},"os.todos.setIconState":function(e,t,o){this.getToDoIconElement().addClass(o.status).text(o.count)},"os.todos.increment":function(e,t,o){var n=o&&o.value?o.value:1,i=this.getToDoIconElement();i.text(parseInt(i.text()||0)+n),this.updateToDoCountIcon(i)},"os.todos.decrement":function(e,t,o){var n=o&&o.value?o.value:1,i=this.getToDoIconElement();""!=i.text()&&(i.text(parseInt(i.text())-n),this.updateToDoCountIcon(i))},getToDoIconElement:function(){return this.element.find("> .os-titlebar .myfrog-circle")},updateToDoCountIcon:function(e){0==e.text()?(e.removeClass("overdue due_far due_close"),e.text("").addClass("ff-tick-mono clear")):e.removeClass("ff-tick-mono clear")},"os.analytics.app.launch":function(e,t,o){"string"==typeof(o=o||{})?o={name:o}:"object"==typeof o&&(o.name=o["appInfo.name"],o["appInfo.view"]&&(o.view=o["appInfo.view"])),o.name&&(o.title||(o.title=o.view?this._("app."+o.name)+" "+o.view:this._("app."+o.name)),"function"==typeof ga&&ga("send",{hitType:"pageview",page:"/event/app/open/"+o.name,title:o.title}))}});',address:e.uri}),o.global.require=t,o.global.define=n,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/window_manager_controller*/
define("os/controllers/window_manager_controller",["module","@loader","require"],function(e,a,i){a.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var t=a.global.define,i=a.global.require;return a.global.define=void 0,a.global.module=void 0,a.global.exports=void 0,a.__exec({source:'Frog.Controller.extend("Os.Controllers.WindowManager",{listensTo:["loadWindow","manageFocus","setFocus","appDialog","systemDialog","getFocusedApp","resize"],titleBarHeight:0,mainWindowHeight:0,screenWidth:0,screenHeight:0,padVal:0,focusedApp:null,fullscreenTimer:null},{resizeTimer:0,apps:null,xKeyPressed:!1,init:function(){this.padVal=10,this.isMobile="phone"==Frog.Utilities.getDevice()&&!Os.Models.Environment.myfrog_embedded,this.isTablet="tablet"==Frog.Utilities.getDevice()&&!Os.Models.Environment.myfrog_embedded,this.sendResize(),this.apps=new Os.Models.WindowManager.Applications,this.element.find(".ui-os-main-icon-holder").sortable({placeholder:".ui-os-window"}).disableSelection(),this.element.find(".ui-os-window").draggable({grid:[120,140]}).disableSelection()},resize:function(e,i){i.stopPropagation()},"{document} keypress":$.debounce(function(e,i){var a,t,o,s=this;if(Frog.Utilities.isKeyEventValidShortcut(i))if("s"===String.fromCharCode(i.which)){if(a=this.focusedApp.parent(),0===(t=a.next()).length){if(0===(o=a.siblings()).length)return;t=o.first()}this.trigger("wm.app.focus",{app:{instance:t.find(".app_dialog")}})}else"m"===String.fromCharCode(i.which)?this.focusedApp.is(":visible")&&(this.focusedApp.parent().hasClass("fullscreen")?this.minimizeDialog(this.focusedApp):this.maximizeDialog(this.focusedApp)):"x"===String.fromCharCode(i.which)&&(!1===this.xKeyPressed?(this.xKeyPressed=!0,setTimeout(function(){s.xKeyPressed=!1},300)):$(this.focusedApp).trigger("app.close"))},150),"{window} resize":function(e,i,a){if(void 0!==e.Os&&"DIV"!=i.target.nodeName){var t=this;clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){t.sendResize(),a&&a.callback&&"function"==typeof a.callback&&a.callback()},100)}},"{window} dialogfocus":function(e,i,a){if(!$(i.target).closest(".ui-dialog").hasClass("focused")){this.model("CoreDom").blurAllApps(i).focusApp(i);var t=$(i.target).closest("div.ui-dialog").find("div.app_dialog");t.hasClass("app_dialog")&&(this.focusedApp=t),this.element.trigger("wm.app.focus",{el:t})}},getFocusedApp:function(e,i,a){return"function"==typeof a.data&&a.data(this.focusedApp)},manageFocus:function(e,i,a){var t=$(this.model("CoreDom").getAppInstances(a.app.name));t.trigger("dialogfocus"),t.controllers().forEach(function(e){t[e.Class._fullName]("update",a.app.data.data)}),this.element.find("div.ui-os-desktop").show(),t.closest(".ui-dialog").length>0&&t.dialog("moveToTop")},setFocus:function(e,i,a){var t=$(a.app);t.closest(".ui-dialog");this.focusedApp=t},appDialog:function(e,i,a){var t=$(a.content);this.createDialog(t,a)},".fullscreen_dialog .ui-dialog-titlebar dblclick":function(e,i){$(e).closest(".ui-dialog").hasClass("fullscreen")||this.maximizeDialog(e)},loadWindow:function(e,i,a){this.launchDialog(a)},".ui-closer {click}":function(e,i){i.preventDefault(),$(this.focusedApp).trigger("app.close")},"{document} .ui-minimiser click":function(e,i){this.minimizeDialog()},"wm.app.focus":function(e,i,a){var t,o=a.el||a.data.el,s=parseInt($.browser.os.version,10);if(t=this.element.find("li.os-navbar-icon-minimise-close").find("div"),a.data&&a.data.app&&a.data.app.instance){var n=$(a.data.app.instance);this.isMobile||n.parent(".ui-dialog").fadeIn(500).end().trigger("app.focus").dialog("moveToTop"),o=a.data.app.instance}var d=this.element.data("controllers").os_core,r=d.manifest,l=d.model(d.coreDom).getAppNameFromElement(o),p=!this.isMobile&&r[l].getResizable(l);if(a.data&&a.data.app&&a.data.app.data){var c=a.data.app.data.data,h=c&&c.instance_id,u=$(this.model("CoreDom").getAppInstances(l));h&&(u=u.filter(function(e,i){return $(i).data("instance-id")===h})),u.length>1&&o&&(u=o),u.controllers().forEach(function(e){var i="Core"===e.Class.shortName;i&&h&&e.element.data("instance-id")===h?e.update(c):i&&u[e.Class._fullName]("update",c)})}$.support.touch||o.closest(".ui-dialog").hasClass("fullscreen")&&p||this.isMobile&&"uploader"!=l?t.removeClass("hide"):t.addClass("hide"),this.model("CoreDom").closeMenus();var g=o.parent().find(".ui-os-app-iframe-overlay");g.length&&g.remove(),this.element.find("ul.os_shortcuts").trigger("shortcuts.home",{focus:!1}),($.browser.edge||$.browser.msie&&"Windows"===$.browser.os.platform&&(10===s||8===s||6===s))&&(document.body.style.visibility="hidden",document.body.offsetHeight,document.body.style.visibility="visible"),i.stopPropagation()},"app.cleanup":function(e,i,a){var t=a.el,o=a.appInfo,s=o.name;this.apps.close(s),0===Os.Models.CoreDom.getAllApps().length&&Os.Models.CoreDom.showSites(),this.model("CoreDom").getQuickStartEl().trigger("quickstart.running.remove",{item:{name:o.name,instance:t[0]}})},"app.getRunning":function(e,i,a){"function"==typeof a.callback&&a.callback($.extend({},this.apps.get(),{}))},createDialog:function(e,i){"undefined"!==i.name?i.name:i.parentApp;var a=i.opts;a.width=this.screenWidth,a.height=this.mainWindowHeight,a.position=[0,0],a.beforeClose=function(){e.dialog("destroy")},e.hasClass("ui-dialog-content")?e.dialog("open"):e.dialog(i.opts),this.addToMainWindow(e)},storeSizePos:function(e){var i=$(e),a=[i.offset().left,i.position().top],t=[i.width(),i.height()];t[0]>i.data("min_size")[0]&&(t[0]=i.data("min_size")[0]),t[1]>i.data("min_size")[1]&&(t[1]=i.data("min_size")[1]),i.data("prev_pos",a),i.data("prev_size",t)},launchDialog:function(e){var i,a=e.el,t=e.appInfo,o=t.name,s={},n=this.apps.open(o),d=this,r=e&&e.data&&(e.data.launchAboveModal||e.data.data&&e.data.data.launchAboveModal),l=this.isMobile&&!Os.Models.Environment.myfrog_embedded,p=e&&e.data&&(e.data.coverFrogBar||e.data.data&&e.data.data.coverFrogBar)||!1,c=e&&e.data&&(e.data.app_container||e.data.data&&e.data.data.app_container),h=e&&e.data&&(e.data.ignoreQuickLaunch||e.data.data&&e.data.data.ignoreQuickLaunch)||!1,u=e.data.headerTitle;if(i=void 0!==t.source_app?$.String.capitalize(t.source_app):void 0!==t.source?"Container":this.controlleriseAppName(o),(e.data&&e.data.element&&e.data.element.closest(".launch-above-modal").length||e.data&&e.data.focusApp&&e.data.focusApp.closest(".launch-above-modal").length||e.data.data&&e.data.data.focusApp&&e.data.data.focusApp.closest(".launch-above-modal").length)&&(r=!0),e.data.data.mode&&(t.mode=e.data.data.window_mode?e.data.data.window_mode:e.data.data.mode),$.support.touch&&(void 0===e.data.data.resizable&&(this.isTablet?t.resizable=!0:t.resizable=!1),t.mode="fullscreen"),(t.height>window.innerHeight||t.width>window.innerWidth)&&(!t.minHeight||!t.minWidth||t.minHeight>window.innerHeight||t.minWidth>window.innerWidth?t.mode="fullscreen":(t.height=t.minHeight,t.width=t.minWidth)),"dialog"===t.mode)s={width:t.width||"auto",height:t.height||"auto"};else if("fullscreen"===t.mode){var g=$.support.touch?"100%":~~this.screenWidth,m=$.support.touch?"100%":~~this.mainWindowHeight;s={width:g,height:m,position:[0,0]}}else this.log("No mode specified for app:",o);r&&(s.modal=!0),s.zIndex=99,s.closeOnEscape=!1,window.Frog.isLoggedIn||"sites"!==t.name?s.resizable=t.resizable:s.resizable=!1,t.resizable&&(s.minWidth=t.minWidth||this.screenWidth/2,s.minHeight=t.minHeight||this.mainWindowHeight/2,s.maxWidth=t.maxWidth||~~this.screenWidth,s.maxHeight=t.maxHeight||~~this.mainWindowHeight),s.resizeStart=function(){d.addIframeOverlay(this)},s.resizeStop=function(e,i){d.removeIframeOverlay(this);var a=$(this),t=a.data("dialog").uiDialog;a.height(t.height()-(t.find(".ui-dialog-titlebar:visible").height()||0)-t.find(".ui-resizable-s").height()),a.trigger("app.resize",i)},s.dragStart=function(){d.addIframeOverlay(this)},s.dragStop=function(){d.removeIframeOverlay(this),d.repositionDialog($(this).parents(".ui-dialog"))},s.resize=function(e,i){$(this).prev(".ui-dialog-titlebar").css("display","block").end().closest(".ui-dialog").removeClass("fullscreen")},s.beforeClose=function(e,i){return $(this).trigger("app.close"),!1},s.create=function(){var i=t.fullscreen?"fullscreen_dialog":"",a=$(this).prev(".ui-dialog-titlebar");$(this).parents(".ui-dialog").addClass(i),e.data.data.isPublic&&!Frog.isLoggedIn&&a.css("display","none"),"system"===t.group&&$(this).addClass(t.group);var n=d._("app.window.maximise"),r=$("<a />",{role:"button",class:"ui-maximiser",href:"#",title:n}),l=$("<span />",{class:"ff-maximize-mono"}),c=$("<a />",{role:"button",class:"ui-closer",href:"#"}),h=$("<span />",{class:"ff-cross-mono"}),g=$("<a />",{role:"button",class:"ui-minimiser",href:"#"}),m=$("<span />",{class:"ff-minimize-mono"});if(c.html(h),a.find(".ui-dialog-titlebar-close").replaceWith(c),(this.isMobile="phone"==Frog.Utilities.getDevice()&&!Os.Models.Environment.myfrog_embedded)&&"uploader"==o&&(a.addClass("hide-mobile"),a.parent().css("background","transparent")),u&&($(this).prev(".ui-dialog-titlebar").children(".ui-dialog-title").insertAfter(".ui-closer"),$(this).prev(".ui-dialog-titlebar").children(".ui-dialog-title").html(u)),!1!==t.resizable&&(g.html(m),a.append(g),r.html(l),a.append(r)),t.fullscreen&&!p){var f=a.find(".ui-maximiser");f.click(function(e){return e.preventDefault(),d.maximizeDialog(this),!1})}var v=d.calculateDialogPosition(this,o,s,t.position),b=$(this).closest(".ui-dialog");"fullscreen"===t.mode?($.support.touch&&s.modal&&void 0!==f&&(b.addClass("launch-above-modal"),d.maximizeDialog(f)),$(this).parents(".ui-dialog").addClass("fullscreen")):$(this).dialog("option","position",v)};try{var f,v,b,w={form:"5F6C90CE20048072B8FFCF3B213D4607D85CF6FCE2E1723F",survey:"5F6C90D3200483C1F4AA3FDB3D31A905118ED7DC9B3FA7C2",markbook:{markbook:"47AB214920048E5AFB187F20E3809E0E798CA8CC1BC0D017",parent:"799AA11E20048009CC8DDFB45E26BA07EB754AEC70900348",student:"5F6C908F200480771528AF5B10C4F608D7826EDCD9FD0AEA"}},C={markbook:{markbook:"app.assignmentmarkbook",parent:"app.mychildswork",student:"app.markbook"}},y={"app.polls":"app.surveys","app.pinpoint":"app.discover","app.resource.manager":"app.resources"};e.data&&e.data.data&&(e.data.data.appicon?(e.data.data.appicon,e.data.data.appname):e.data.data.ssoicon&&(e.data.data.ssoicon,e.data.data.ssoname)),e.data.data&&e.data.data.site?v={uuid:null,link:e.data.data.site,name:"app.sites",type:"site",app_name:"sites",instance:a[0]}:e.data.data&&e.data.data.appModel?(y[b=e.data.data.appModel.role_name||e.data.data.appModel.name]&&(b=y[b]),v={uuid:e.data.data.appModel.uuid,name:b,type:"app",app_name:o,instance:a[0]},t.extended_data&&(v.extended_data=t.extended_data)):e.data.type&&Object.keys(w).indexOf(e.data.type)>-1?v={uuid:w[e.data.type],name:"app."+e.data.type+"s",type:"app",app_name:e.data.type+"s",instance:a[0]}:e.data.data&&e.data.data.view&&(e.data.data.assignment||e.data.data.assignment_uuid)?v={uuid:w.markbook[e.data.data.view],name:C.markbook[e.data.data.view],type:"app",app_name:o,instance:a[0]}:(b="container"===e.data.data.name?o:"preview"===o&&e.data.data.resource?e.data.data.resource.name:"preview"===o&&e.data.data.name?d._("app.preview")+": "+e.data.data.name:"quicklinks"===o?"app.quicklaunch":"app."+o,v={uuid:e.data.data.uuid||null,name:b,type:"app",app_name:e.data.data.name||o,instance:a[0]},e.data.data.resource&&(v.resource=e.data.data.resource)),e.data.data.source&&(v.url=e.data.data.source),e.data.data.ssoicon&&(v.icon=e.data.data.ssoicon),v.maxInstances=t.maxInstances,h||d.model("CoreDom").getQuickStartEl().trigger("quickstart.running.add",{item:v}),"function"==typeof window[i].Controllers.Core&&($("#loading-box").fadeOut("fast"),$("body").removeClass("loading"),c?c.html(a):a.dialog(s),(f=new window[i].Controllers.Core(a,e&&e.data&&e.data.data||{})).portraitMode=t.portrait_mode,f._onOrientationChange(),f.allowOnMobile=t.mobile_optimised,f._validateAllowOnMobile(),a.trigger("app.launch",{appInfo:t,appData:e.data}),Os.Models.Environment.get("myfrog_embedded")&&parent&&parent.postMessage({eventname:"MyFrog.os.app.launched",appName:b},"file://"),c&&c.trigger("app.launched")),a.data("instance",o.toLowerCase()+"_"+n),c||a.closest(".ui-dialog").addClass((t.skin?t.skin:"light")+"-skin"),this.addToMainWindow(a,i,s.modal,c)}catch(e){this.log("error: ",e)}var z=a.closest("div.ui-dialog"),_=z.next();if(r){var D=$(".modal").length,k=D?parseFloat($(".modal").css("z-index")):1,A=parseFloat($(".os_core > .ui-os-desktop").css("z-index"));D&&(z.css("z-index",k).addClass("launch-above-modal"),_.css("z-index",k)),parseFloat(z.css("z-index"))<A&&k<A&&z.css("z-index",A),this.model("CoreDom").reduceFrogBar(),$(".ui-widget-overlay, .modal-backdrop.fade.in").css("top",p?0:this.titlebarHeight),$.support.touch||z.css("top",this.titlebarHeight)}l&&(this.model("CoreDom").reduceFrogBar(),"Android"===Frog.Utilities.getMobileOS()&&z.find(".ui-closer:first").on("tap",function(e){e.preventDefault(),e.stopPropagation(),a.trigger("app.close")})),(l||r)&&z.find(".ui-closer:first").on("click",function(e){e.preventDefault(),e.stopPropagation(),a.trigger("app.close")}),_.insertBefore(z)},calculateDialogPosition:function(e,i,a,t){var o=this;if(void 0===t){var s={x:~~o.screenWidth/2,y:~~o.mainWindowHeight/2},n=a.width||a.minWidth||a.maxWidth,d=a.height||a.minHeight||a.maxHeight;"auto"===d&&(d=158),"auto"===n&&(n=208);var r=n=~~n,l=d=~~d;n>=o.screenWidth&&(r=s.x),d>=o.mainWindowHeight&&(l=s.y),r=void 0!==a.minWidth?a.minWidth:r,l=void 0!==a.minHeight?a.minHeight:l,$(e).closest(".ui-dialog").data("prev_size",[r,l]),$(e).closest(".ui-dialog").data("min_size",[a.minWidth,a.minHeight]),t=[s.x-n/2,s.y-d/2]}if("string"!=typeof t){var p=20*o.element.find(".app-"+i).length;$(e).closest(".ui-dialog").data("prev_pos",[t[0],t[1]]),"number"==typeof t[0]&&"number"==typeof t[1]?t=[t[0]+p,t[1]+p]:"string"==typeof t[0]&&t[1]}return t},maximizeDialog:function(e){var i=$(e).parents(".ui-dialog"),a=($(this.element),~~this.screenWidth),t=~~this.mainWindowHeight,o=0,s=this;0!==i.parent(".ui-os-desktop").length&&!i.hasClass("launch-above-modal")||this.isMobile||(o=this.titlebarHeight),i.length&&!i.hasClass("fullscreen")&&s.storeSizePos(i),i.children("div.app_dialog").trigger("dialogresizestart"),i.animate({left:0,top:o,width:a,height:t},250).addClass("fullscreen"),i.find(".ui-dialog-content").animate({width:a,height:t-i.find(".ui-dialog-titlebar").first().outerHeight()},250,function(){i.trigger("resize").find(".app_dialog").trigger("dialogresizestop").trigger("app.resize",i),i.closest(".ui-draggable").draggable("option","disabled",!0)})},minimizeDialog:function(e){var i,a=$(e||this.focusedApp).closest(".ui-dialog"),t=a.find(".ui-dialog-titlebar"),o=Math.abs($(".os-titlebar").height()),s=a.data("prev_pos"),n=a.data("prev_size")[0]>=this.screenWidth?[this.screenWidth/2,this.screenHeight/2]:a.data("prev_size"),d=this.isMobile,r=s[0],l=~~n[0],p=~~n[1];if(r+l>window.innerWidth&&(r=0),o+s[1]+p>window.innerHeight&&(s[1]=0),!$.support.touch||!d)return!!a.hasClass("fullscreen")&&(a.hasClass("launch-above-modal")&&(s[1]+=this.titlebarHeight),a.find(".ui-dialog-content").animate({width:l,height:p},240),a.children("div.app_dialog").trigger("dialogresizestart"),a.animate({left:r,top:s[1],width:l,height:p},250,function(){i=a.children("div.app_dialog"),$.support.touch||i.dialog("option","width",l).dialog("option","height",p),i.trigger("dialogresizestop").trigger("app.resize",a),a.trigger("resize"),a.closest(".ui-draggable").draggable("option","disabled",!1)}),t.slideDown(250),a.removeClass("fullscreen"),!1)},ucfirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},addToMainWindow:function(e,i,a,t){var o=e.closest("div.ui-dialog");if(a||t){var s=e.parent().next("div.ui-widget-overlay");s.length&&s.detach().appendTo("div.os_core"),o.detach().appendTo("div.os_core")}else o.detach().appendTo("div.ui-os-desktop");var n=parseInt(o.css("left"),10);o.css("left",n),o.draggable("option","containment",".ui-os-desktop"),o.data("resizable")&&o.resizable("option","containment",".ui-os-desktop"),i&&"Container"===i&&e.trigger("container.setLayout"),this.element.triggerHandler("window.app.opened",e)},controlleriseAppName:function(e){for(var i=e.split("_"),a=i.length,t=0;t<a;t++)i[t]=this.ucfirst(i[t]);return i.join("")},addIframeOverlay:function(e){$(e).find("iframe").length&&$(e).prepend(\'<div class="ui-os-app-iframe-overlay"></div>\')},removeIframeOverlay:function(e){var i=$(e).find(".ui-os-app-iframe-overlay");i.length&&i.remove()},repositionDialog:function(e){$(e).offset().top<this.titlebarHeight&&!this.isMobile&&$(e).css("top","5px")},sendResize:function(){var e=this.element.find(".os-titlebar div.container"),i=this.element.find(".ui-os-desktop-navigation");this.titlebarHeight=e.is(":visible")?e.outerHeight():0,this.screenWidth=this.element.outerWidth(),this.screenHeight=this.element.outerHeight(),this.mainWindowHeight=this.screenHeight-this.titlebarHeight,this.element.find(".ui-os-main-window").css("top",this.titlebarHeight);var a=this.element.find(".ui-os-desktop");this.isMobile&&!Os.Models.Environment.myfrog_embedded?(a.css("top",0),a.css("z-index",600)):a.css("top",this.titlebarHeight),i.length&&this.repositionDesktopNav(i)},repositionDesktopNav:function(e){var i,a=e.width();i=(document.body.clientWidth-a)/2,e.css("left",i)}});',address:e.uri}),a.global.require=i,a.global.define=t,a.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/realtime_controller*/
define("os/controllers/realtime_controller",["module","@loader","require"],function(i,e,t){e.get("@@global-helpers").prepareGlobal({require:t,name:i.id,deps:[]});var r=e.global.define,t=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'Frog.Controller.extend("Os.Controllers.Realtime",{socket:null},{init:function(){this.subscriptions={},this.pollingInterval=null,this.pollingDuration=1e3*(this.options.interval||600),this._setInterval()},poll:function(i,t){"function"==typeof i.findAll&&i.findAll(t).done(function(i){var t,e=i.element,n=i.length;for(t=0;t<n;t++)e.trigger(i[t].realtimeEvent,i[t])})},"realtime.subscribe subscribe":function(i,t){t.id in this.subscriptions||(this.subscriptions[t.id]=t.driver),this._setInterval(),this.poll(t.driver,t.params)},"realtime.unsubscribe subscribe":function(i,t){t.id in this.subscriptions&&delete this.subscriptions[t.id]},"realtime.update subscribe":function(i,t){t&&void 0!==t.drivers?jQuery.each(t.drivers,function(i,t){t.elements().trigger("timeline.refresh")}):jQuery.each(this.subscriptions,function(i,t){this.publish("realtime.subscribe",{driver:t,id:i,params:{update:!0}})}.bind(this))},_setInterval:function(){var i=this;null!=this.options.interval&&(clearInterval(this.pollingInterval),this.pollingInterval=setInterval(function(){jQuery.each(i.subscriptions,function(t,e){i.poll(e)})},this.pollingDuration))}});',address:i.uri}),e.global.require=t,e.global.define=r,e.get("@@global-helpers").retrieveGlobal(i.id,void 0)});
/*os/controllers/frog_footer_controller*/
define("os/controllers/frog_footer_controller",["module","@loader","require"],function(e,o,t){o.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var l=o.global.define,t=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:'Frog.Controller.extend("Os.Controllers.FrogFooter",{},{init:function(){this.element.append(this.view("footer/footer.ejs"))},"{document} {click}":function(e,o){0===$(o.target).closest(".os_frog_footer").length&&this.element.addClass("fadeout")},".login {click}":function(e){this.element.toggleClass("fadeout")},".message span click":function(e,o){var t;this.element.closest("div.os_window_manager").trigger("getFocusedApp",{data:function(e){e&&e.length&&e.trigger("sites.getRoute",function(e){t=e})}}),t&&(t.isDefaultSite?($.cookie("frogos_site",""),$.cookie("frogos_page","")):($.cookie("frogos_site",t.site.external_url),$.cookie("frogos_page",t.page.external_url))),this.element.closest(".os_core").addClass("logging-in"),location.href="login"}});',address:e.uri}),o.global.require=t,o.global.define=l,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/events_controller*/
define("os/controllers/events_controller",["module","@loader","require"],function(e,t,n){t.get("@@global-helpers").prepareGlobal({require:n,name:e.id,deps:[]});var s=t.global.define,n=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Controller.extend("Os.Controllers.Events",{listensTo:["addListener","removeListener","register","unregister","event"]},{init:function(){this.events={},(steal.dev||Os.Models.Environment.debugmode)&&(this.isDevMode=!0)},addListener:function(e,t,n){if(!(n=$.extend(!0,{el:t.target},n)).hasOwnProperty("target"))throw new ReferenceError("Expected target but found undefined",n);return this.addSubscription(n)},addSubscription:function(e){var t;return this.events.hasOwnProperty(e.target)||this.registerEvent(e.target),t=Frog.Utilities.generateSimpleId(),e.ref=t,this.events[e.target].push(e),t},removeListener:function(e,t,n){switch(typeof n){case"string":if(this.events.hasOwnProperty(n))delete this.events[n];else for(var s in this.events)this.events[s].filter(function(e){return e.ref===n}).length&&(this.events[s]=this.events[s].filter(function(e){return e.ref!==n}));break;case"object":n instanceof HTMLDivElement&&Object.keys(this.events).forEach(function(e){this.events[e].forEach(function(t,s){t.el.is(n)&&this.events[e].splice(s,1)}.bind(this))}.bind(this))}},register:function(e,t,n){return this.registerEvent(n)},registerEvent:function(e){return this.events.hasOwnProperty("event")?(this.isDevMode&&(console.info||console.log||$.noop())(\'Event "%s" already registered. If this is not expected; ensure that you have used a unique or namespaced event\',target),!1):(this.events[e]=[],e.match(/^(os|app)([a-z.]*)/gi)||this.element.on(e,function(e,t){var n=e.type.concat(".",e.namespace);this.events[n].forEach(function(e){e.listener(t)})}.bind(this)),!0)},unregister:function(e,t,n){return this.events.hasOwnProperty(n)?(delete this.events[n],n.match(/(os|app)([a-z.]*)/gi)||this.element.off(n),!0):(this.isDevMode&&(console.info||console.log||$.noop())(\'Tried to unregister event "%s" but failed to find it.\',n),!1)},event:function(e,t,n){var s=[];if(!this.events.hasOwnProperty(n.data))return!!n.next&&n.next();s=this.events[n.data].map(function(e){var t=e.listener();return t||(new $.Deferred).resolve().promise()}),n.next&&$.when.apply(this,s).always(n.next)}});',address:e.uri}),t.global.require=n,t.global.define=s,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/iframe_controller*/
define("os/controllers/iframe_controller",["module","@loader","require"],function(e,o,i){o.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var n=o.global.define,i=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:'Frog.Controller.extend("Os.Controllers.Iframe",{},{init:function(){this.render()},render:function(){this.element.closest("html").addClass("in-frame"),this.element.prepend(this.view("iframe/connection_bar.ejs",{schoolName:this.options.schoolName})),this.element.find("[data-action=dismiss-connection-info]").tooltip({placement:"bottom"})},"[data-action=dismiss-connection-info] click":function(n,e){n.closest(".os-connection-info").addClass("dismissed")}});',address:e.uri}),o.global.require=i,o.global.define=n,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/controllers-ex*/
define("os/controllers/controllers-ex",["./core_controller","./window_manager_controller","./realtime_controller","./frog_footer_controller","./events_controller","./iframe_controller"]);
/*os/os!i18n-plugin*/
define("os/os!i18n-plugin",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:"",address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*lib/lib-ex*/
define("lib/lib-ex",["jquery/jquery","jquery-migrate/jquery-migrate","./jquery-migrate-setup","node_modules/jquery-deparam/jquery-deparam","jquery/jqueryui/jqueryui","lib/polyfills/polyfills","public/js/libs/jquery-toggleattr/toggleattr.jquery.min","lib/vendor/modernizr/output/modernizr-build","lib/vendor/frog/can.view.view","lib/vendor/frog/custom-functions","public/js/libs/timezone/jstz.min","lib/vendor/sprintf-js/src/sprintf","public/js/libs/bootstrap/bootstrap","can/view/ejs/system","jquery/view/ejs/ejs","lib/frog","jquery/view/json/json","jquery/class/class","jquery/dom/fixture/fixture","jquery/dom/form_params/form_params","jquery/model/model","jquery/model/backup/backup","jquery/model/list/list","jquery/model/validations/validations","jquery/controller/controller","jquery/controller/subscribe/subscribe","jquery/controller/view/view","jquery/dom/cookie/cookie","jquery/dom/compare/compare","jquery/dom/form_params/form_params","public/js/libs/jquery-i18n/jquery.i18n","lib/frog_model","lib/frog_query","lib/frog_controller","lib/broadcast/broadcast","lib/frog_widget_model","lib/frog_widget_controller","lib/controller/realtime/realtime","lib/frog_widget_text_controller","lib/frog_widget_html_controller","lib/post_messages_controller","lib/models/models-ex","lib/packaging/packaging","lib/frog_widget_criteria_controller","jquery/lang/string/string","public/js/libs/textareamaxlength/textareamaxlength","public/js/libs/bootstrap/bootstrap-modals-override","public/js/libs/bootstrap/bootstrap-carousel-override","public/js/libs/bootstrap/custom-typeahead-override","public/js/libs/dotdotdot/jquery.dotdotdot","public/js/libs/customsortable/customsortable","public/js/libs/jqueryui-selectable/jquery.ui.selectable.frog","public/js/libs/selectmenu/jquery.ui.selectmenu","public/js/libs/zindex_ordering/zindex_ordering","node_modules/jquery-lazy/jquery.lazy.min","os/public/css/css-ex","os/models/models-ex","os/views/views-ex","os/controllers/controllers-ex","os!i18n-plugin"],function(e,r,o){window.Frog.isTouch&&steal.import("os/libs/touch/touch")});
/*os/public/css/css.deployment*/
define("os/public/css/css.deployment",["./uk_primary/uk_primary.css"]);
/*os/public/css/css*/
define("os/public/css/css",["jquery/jqueryui/jqueryui.css","public/css/bootstrap/css/bootstrap.css","lib/vendor/frogfont/style.css","lib/vendor/frogfont/app-icons/style.css","lib/vendor/frogfont/sprite-icon-svg/style.css","lib/vendor/font-awesome/css/font-awesome.min.css","public/css/bootstrap-datetimepicker/datetimepicker.css","public/css/selectmenu/jquery.ui.selectmenu.css","public/css/gritter/jquery.gritter.css","public/css/selectmenu/selectmenu.overrides.css","public/css/tablesorter/tablesorter.css","./os.css","./os-bootstrap.css","./os-breadcrumb.css","./os-ckeditor.css","./os-jqueryui.css","./search.css","./genericdialog.css","./dashboard.css","./apptray.css","./gritter.css","./window_management.css","./frogfooter.css","./components.css","./icons.css","./small-tablet.css","./appLoader.css","./frog-font.css","./iframe.css","./frog-labels.css","./contextmenu.css","./navbar.css","./notices.css","./assignments.css","./profile.css","./quicklaunch.css","./print.css","./skins.css","./desktopnav.css","./touch.css","./css.deployment","./training.css","./myfrog_embedded.css","./inbox.css","./modal.css"]);
/*os/models/contextmenu_model*/
define("os/models/contextmenu_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var a=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Os.Models.ContextMenu",{findOne:function(e){e=e||{};var a=this;return $.ajax({url:"api/2/?method=menu.get.os",type:"get",dataType:"json",data:null,fixture:function(t,l,n){var o,s,u=[{label:e.current.name,topbar:[],options:[]}];switch(e.type){case"school":o="help.school-dashboard.about";break;case"timeline":o="help.timelines.about",s=null;break;case"your":case"my":o="help.dashboard.about";break;default:o="help.sites.about"}return e.help&&u[0].topbar.push({label:a._("contextmenu.help",null,"os"),action:"launch_help",klass:"launch_help",data:{page:a._(o,null,"os"),parentPage:s}}),[200,"success",u,{}]}})}},{});',address:e.uri}),l.global.require=o,l.global.define=a,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/contextmenu_dom*/
define("os/models/contextmenu_dom",["module","@loader","require"],function(e,t,l){t.get("@@global-helpers").prepareGlobal({require:l,name:e.id,deps:[]});var n=t.global.define,l=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Os.Models.ContextMenuDom",{hideAllSiblings:function(e){return e.siblings().find("ul").hide()},showChildMenu:function(e){return e.children("ul").fadeIn()},childMenuExists:function(e){return e.children("ul").length},hideAll:function(){this.element.find("ul.sub_menu").fadeOut()},displayMenu:function(e,t,n){var l=e.options,o=[];for(var i in l){var a=l[i],r=a.role_name instanceof Array&&"function"==typeof a.role_name.splice?a.role_name:[a.role_name];r&&t&&!t.hasOr.apply(t,r)||o.push(l[i])}if(this.element.html(this.view("contextmenu/contextmenu.ejs",{label:e.label,menu:o},{})).fadeIn(0,n),this.element.nextAll().remove(),e&&e.topbar)for(var s=null,i=e.topbar.length-1;i>=0;i--)void 0===e.topbar[i].role&&(e.topbar[i].role="app.help.access"),e.topbar[i].role&&!_Roles.has(e.topbar[i].role)||(s=$(this.view("contextmenu/horizontalmenuitem.ejs",{item:e.topbar[i]})),e.topbar[i].data&&s.data("data",e.topbar[i].data),this.element.after(s))},getContext:function(){return this.element},showMenu:function(e){var t=this.element.find(".os-contextmenu-holder"),n=t.parent();n.hasClass("selected")?(n.removeClass("selected"),Frog.Utilities.hideMenu(t,e)):(n.addClass("selected"),t.find("ul.os-contextmenu-menu li").length&&Frog.Utilities.showMenu(t))}},{});',address:e.uri}),t.global.require=l,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/dashboard_dom*/
define("os/models/dashboard_dom",["module","@loader","require"],function(i,s,e){s.get("@@global-helpers").prepareGlobal({require:e,name:i.id,deps:[]});var t=s.global.define,e=s.global.require;return s.global.define=void 0,s.global.module=void 0,s.global.exports=void 0,s.__exec({source:'Frog.Model.extend("Os.Models.DashboardDom",{index:0,dashboards:{},sliding:!1,resize:function(){this.isFirstPage()||this.slideTo(this.index)},isFirstPage:function(){return 0===this.index},slideNext:function(){this.slideTo(this.index+1)},slidePrev:function(){this.slideTo(this.index-1)},slideCurrent:function(){this.slideTo(this.index)},slideTo:function(i,s){var t=this,n=this.element.find("div.ui-os-main-window");if(s="function"==typeof s?s:$.noop,this.sliding)return!1;this.index!==i&&(this.index=i,i<0&&(i=0),i=Math.min(i,this.dashboardLinks.length-1),n.find(">div").css("visibility","visible"),this.initDashboard(i),this.sliding=!0,n.animate({left:-100*i+"%",avoidTransforms:!0},500,function(){t.sliding=!1,$.support.touch&&t.destroyHiddenDashboards(i);var n=t.element.find("div.ui-os-main-window div.site.dashboard-"+i);n.trigger("dashboard.isVisible"),n.addClass("current").siblings().removeClass("current"),$(window).trigger("resize"),s()}),this.highlightDesktopButton(i))},isCurrentDashInEditMode:function(){var i;return this.element.find("div.ui-os-main-window > div").eq(this.index).trigger("sites.isEditing",function(s){i=s}),i},isLastDash:function(){return this.index===this.dashboards.length-1},getCurrent:function(){return this.index},highlightDesktopButton:function(i){var s=this.element.find("li.os-desktop-navigation-spot");s.removeClass("os-desktop-navigation-spot-active"),s.eq(i).addClass("os-desktop-navigation-spot-active")},_showDesktops:function(){this.element.find("div.ui-os-main-window > div").children().fadeIn()},showDashboards:function(){this.element.find("div.ui-os-main-window > div").show()},hideDashboards:function(){this.element.find("div.ui-os-main-window > div").hide()},initDashboards:function(i){this.dashboardLinks=i.dashboards,this.maxDashboards=this.dashboardLinks.length,$.support.touch||i.lazyload?this.initDashboard(0):$.each(this.dashboardLinks,this.initDashboard.bind(this));var s=this.element.find("div.ui-os-main-window > div.site").eq(0);i.hidden?s.hide():s.show().trigger("dashboard.isVisible"),s.siblings().css("visibility","hidden")},initDashboard:function(i){var s=this.element.find("div.ui-os-main-window div.site.dashboard-"+i);s.children().length||(this.dashboards[i]?s.append(this.dashboards[i]):s.sites_core().trigger("app.launch",{appData:{data:{site:this.dashboardLinks[i],editable:!0,dashboard:!0}}}),$(window).trigger("resize"))},destroyHiddenDashboards:function(i){var s=this;this.element.find("div.ui-os-main-window > div").each(function(t,n){var e=$(n).children();if(i===t||!e.length)return!0;s.dashboards[t]=e.detach()})},refreshDashboard:function(i,s){var t=this.element.find("div.ui-os-main-window div.site").eq(i),n={appData:{data:{site:s,editable:1===i}}};t.sites_core("destroy"),t.contents().remove(),t.show(),t.sites_core().trigger("app.launch",n)}},{});',address:i.uri}),s.global.require=e,s.global.define=t,s.get("@@global-helpers").retrieveGlobal(i.id,void 0)});
/*os/models/app_model*/
define("os/models/app_model",["module","@loader","require"],function(e,l,a){l.get("@@global-helpers").prepareGlobal({require:a,name:e.id,deps:[]});var o=l.global.define,a=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Os.Models.App",{id:"uuid",attributes:{uuid:"string",name:"string",label:"string",klass:"string",ssoicon:"string",extra:"object"}},{setup:function(e){e.uuid=Frog.Utilities.generateSimpleId(),e.name=e.app.toLowerCase(),e.klass=e.klass||e.name,e.label=e.label||e.ssoname,e.label||(e.label=this.Class._("app."+e.name,null,"os"),e.label==="app."+e.name&&(e.label=e.app)),delete e.app,e.ssoicon?e.icon=e.ssoicon:e.extra&&e.extra.thumbnailUrl&&(e.icon=e.extra.thumbnailUrl),this._super(e)}});',address:e.uri}),l.global.require=a,l.global.define=o,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/search_model*/
define("os/models/search_model",["module","@loader","require"],function(e,t,r){t.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var n=t.global.define,r=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Os.Models.SearchBase",{},{getUuid:function(){return this.uuid},getName:function(){return this.name}}),Os.Models.SearchBase.extend("Os.Models.SearchGroup",{},{getType:function(){return"group"}}),Os.Models.SearchBase.extend("Os.Models.SearchUser",{},{getName:function(){return this.displayname},getType:function(){return"user"},getProfileName:function(){return"object"==typeof this.profile&&"name"in this.profile?this.profile.name:this.profile}}),Os.Models.SearchBase.extend("Os.Models.SearchProfile",{},{getType:function(){return"profile"}}),Os.Models.SearchBase.extend("Os.Models.SearchSite",{},{getLink:function(){return this.link},getType:function(){return"site"}}),Os.Models.SearchBase.extend("Os.Models.SearchResource",{attributes:{mimeType:"object"}},{init:function(e){this.attr("mimeType",e.attachment.file.mime.mime)},getName:function(){return this.attachment.name},getType:function(){return"resource"},getUrl:function(){return this.attachment?"file/resource/"+this.uuid:null},getPreviewUrl:function(){return this.attachment&&this.attachment.file&&this.attachment.file.preview_url?this.attachment.file.preview_url:this.url?this.url:null},getMimeType:function(){return this.attachment?this.attachment.file.mime.mime:null}}),Os.Models.SearchBase.extend("Os.Models.SearchAssignment",{},{getType:function(){return"assignment"},getAuthor:function(){return this.link.split("/")[1]}}),Os.Models.SearchBase.extend("Os.Models.SearchBritannicaadvanced",{},{getType:function(){return"britannicaadvanced"}}),Os.Models.SearchBase.extend("Os.Models.SearchBritannicaintermediate",{},{getType:function(){return"britannicaintermediate"}}),Os.Models.SearchBase.extend("Os.Models.SearchBritannicafoundation",{},{getType:function(){return"britannicafoundation"}}),Os.Models.SearchBase.extend("Os.Models.SearchQuicklink",{},{getType:function(){return"quicklink_shortcut"},getUrl:function(){return this.url},getName:function(){return this.name}}),Frog.Model.extend("Os.Models.SearchCalendar",{},{getUuid:function(){return this.id},getName:function(){return this.title},getType:function(){return"calendar"}}),Frog.Model.extend("Os.Models.SearchRecent",{},{getName:function(){return this.q},getType:function(){return"recent"}}),Frog.Model.extend("Os.Models.SearchQuiz",{},{getName:function(){return this.name},getId:function(){return this.id},getType:function(){return"quiz"}}),Os.Models.SearchBase.extend("Os.Models.Search",{searchCache:{},pendingRequest:{},terms:{},types:{user:Os.Models.SearchUser,managers:Os.Models.SearchUser,departments:Os.Models.SearchUser,profile:Os.Models.SearchProfile,quicklink_shortcut:Os.Models.SearchQuicklink,group:Os.Models.SearchGroup,resource:Os.Models.SearchResource,site:Os.Models.SearchSite,assignment:Os.Models.SearchAssignment,calendar:Os.Models.SearchCalendar,britannicaadvanced:Os.Models.SearchBritannicaadvanced,britannicaintermediate:Os.Models.SearchBritannicaintermediate,britannicafoundation:Os.Models.SearchBritannicafoundation,quiz:Os.Models.SearchQuiz},hasCachedSearch:function(){return void 0!==this.searchCache.users},getCachedSearch:function(e){return this.searchCache[e]},deleteCacheByType:function(e){delete this.searchCache[e]},searchApp:function(e,t){return $.Deferred(function(t){var n=setTimeout(function(){t.resolve([])},5e3);e.trigger("app.search",{terms:this.terms,callback:function(e){clearTimeout(n),t.resolve([e],"success")}})}).promise()},findApps:function(e){var t=this;return e=e.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,"\\\\$&"),$.Deferred(function(n){if(t.searchCache.apps){for(var r=t.searchCache.apps,i=[],a=r.length,s=0;s<a;s++){var c,o,u,h,d=r[s];c=d.getName().match(new RegExp(e,"i")),o="dashboard"===d.getType(),u=d.getData("dashboard"),o&&(h=t.triggerHandler("os.getDashboards").map(function(e){return e.name}).includes(d.getName())),(!c||!o||u&&h)&&(c&&(i[i.length]=d))}n.resolve(i,"success")}else $("div.os_core").controller().trigger("os.app.getAll",function(r){r.then(function(r){for(var i=[],a=r.length,s=0;s<a;s++){var c,o,u,h,d=r[s];d.hasData("dashboard")?d.getType=function(){return"dashboard"}:d.hasData("link")?d.getType=function(){return"site"}:d.getType=function(){return"apps"},c=d.getName().match(new RegExp(e,"i")),o="dashboard"===d.getType(),u=d.getData("dashboard"),o&&(h=t.triggerHandler("os.getDashboards").map(function(e){return e.name}).includes(d.getName())),(!c||!o||u&&h)&&(c&&(i[i.length]=d))}t.searchCache.apps=r,n.resolve(i,"success")})})}).promise()},handleSearch:function(e,t,n,r,i,a){a||(a="name");var s=this;if(this.searchCache[t]&&e.match(new RegExp("^"+this.terms[t],"i"))){for(var c=[],o=this.searchCache[t].length,u=0;u<o;u++){var h=this.searchCache[t][u];h[a].match(new RegExp(e,"i"))&&(c[c.length]=i.model(h))}return $.Deferred(function(e){e.resolve(c,"success")}).promise()}return this.terms[t]=e,this.api(n,r,{type:"get",dataType:"json search",converters:{"json search":function(n){s.searchCache[t]=n.data;for(var r=[],c=n.data.length,o=0;o<c;o++){var u=n.data[o];u[a].match(new RegExp(e,"i"))&&(r[r.length]=i.model(u))}return r}}})},textSearch:function(e,t,n){var r,i=this,a=0;return n=$.extend(!0,n,{find:e,type:t||"all",include_associations:!0,exclude_sources:["temporary"]}),r="all"===n.type?function(t){var n,r,a,s,c={};for(n in i.types)if(c[n]=[],a=t.data[n]||[],i.terms[n]=e,i.searchCache[n]=a,!(a.length<1)){r=i.types[n];for(s in a)"user"!==n&&(c[n][c[n].length]=r.model(a[s]))}return c}:function(t){var r,a,s,c,o={};for(r in i.types)if(t.data[r]&&(o[r]=[],s=t.data[r],i.terms[r]=e,i.searchCache[r]=s,!(t.data[r].length<1))){a=i.types[r];for(c in s)n.preserveArrayKeys?o[r][c]=a.model(s[c]):o[r][o[r].length]=a.model(s[c])}return o},n.originId&&(a=n.originId,delete n.originId),this.pendingRequest[a]&&this.pendingRequest[a].abort(),this.pendingRequest[a]=this.api("textsearch.search",n,{type:"get",dataType:"json search",converters:{"json search":r}}),this.pendingRequest[a]},getMyGroups:function(){var e={is_leader:1,identity:this.getUser().uuid};return this.api("groups.getFor",e,{type:"get",dataType:"json mygroups",converters:{"json mygroups":function(e){for(var t={group:Array()},n=Object.keys(e.data),r=0;r<n.length;r++){var i=e.data[n[r]];i.type="group",i=Lib.Models.Group.model(i),t.group.push(i)}return t}}})},getRecent:function(){var e=$.Deferred();return this.fdpapi({url:"search/recent/getrecent",type:"GET"}).done(function(t){e.resolve(Os.Models.SearchRecent.models(t.response))}.bind(this)).fail(function(){e.reject()}.bind(this)),e},addRecent:function(e){return this.fdpapi({url:"search/recent/addrecent",data:{search:e},type:"POST"})},findUsers:function(e){return this.textSearch(e,"user")},findGroups:function(e){return this.textSearch(e,"group")},findMyGroups:function(){return this.getMyGroups()},findQuickLinks:function(e){return this.textSearch(e,"quicklink_shortcut")},findResources:function(e){return this.textSearch(e,"resource")},findSites:function(e){return this.textSearch(e,"site")},findAssignments:function(e){return this.textSearch(e,"assignment")},findAppointments:function(e){return this.textSearch(e,"calendar")},findBritannicaadvanced:function(e){return this.textSearch(e,"britannicaadvanced")},findBritannicaintermediate:function(e){return this.textSearch(e,"britannicaintermediate")},findBritannicafoundation:function(e){return this.textSearch(e,"britannicafoundation")},findQuizzes:function(e){return this.textSearch(e,"quiz")},findAll:function(e){return this.textSearch(e)}},{getName:function(){return this.value},getType:function(){return this.type},getUrl:function(){return this.url}});',address:e.uri}),t.global.require=r,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/company_model*/
define("os/models/company_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Os.Model.Company",{id:"uuid",attributes:{key:"string",name:"string"}},{getUuid:function(){return this.uuid},getName:function(){return this.name}});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/site_model*/
define("os/models/site_model",["module","@loader","require"],function(e,i,r){i.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var t=i.global.define,r=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'Frog.Model.extend("Os.Models.Site",{id:"uuid",attributes:{alias:"string",description:"string",uuid:"string",name:"string",link:"string",type:"string"}},{getDisplayName:function(){return this.name},getDescription:function(){return this.description},getType:function(){return this.type},matches:function(t){return-1!=this.name.toLowerCase().indexOf(t.toLowerCase())}});',address:e.uri}),i.global.require=r,i.global.define=t,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/appointment_model*/
define("os/models/appointment_model",["module","@loader","require"],function(e,o,r){o.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var l=o.global.define,r=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:'Frog.Model.extend("Os.Models.Appointment",{},{getDisplayName:function(){return"displayname"},getDescription:function(){return"description"},getType:function(){return"resource"},matches:function(e){return!0}});',address:e.uri}),o.global.require=r,o.global.define=l,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/assignment_model*/
define("os/models/assignment_model",["module","@loader","require"],function(e,r,o){r.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var l=r.global.define,o=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Os.Models.Assignment",{},{getDisplayName:function(){return"displayname"},getDescription:function(){return"description"},getType:function(){return"resource"},matches:function(e){return!0}});',address:e.uri}),r.global.require=o,r.global.define=l,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/resource_model*/
define("os/models/resource_model",["module","@loader","require"],function(e,r,o){r.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var l=r.global.define,o=r.global.require;return r.global.define=void 0,r.global.module=void 0,r.global.exports=void 0,r.__exec({source:'Frog.Model.extend("Os.Models.Resource",{delete:function(e){return"string"==typeof e&&(e=e.indexOf(",")>-1?e.split(","):[e]),this.api("resources.delete",{resource:e},{type:"POST"})}},{getDisplayName:function(){return"displayname"},getDescription:function(){return"description"},getType:function(){return"resource"},matches:function(e){return!0}});',address:e.uri}),r.global.require=o,r.global.define=l,r.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/group_model*/
define("os/models/group_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Os.Models.Group",{},{getName:function(){return this.name}});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/profile_model*/
define("os/models/profile_model",["module","@loader","require"],function(e,l,o){l.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var r=l.global.define,o=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Os.Model.Profile",{attributes:{id:"string",name:"string",type:"string"}},{});',address:e.uri}),l.global.require=o,l.global.define=r,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/breadcrumb_model*/
define("os/models/breadcrumb_model",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var r=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Os.Models.Breadcrumbmodel",{id:"id",attributes:{name:"string",action:"string",history:"number"}},{init:function(){this.id=(new Date).valueOf()},getId:function(){return this.id},getHistory:function(){return this.history},getAction:function(){return this.action},getName:function(){return this.name},getData:function(){return this.data},setData:function(t){this.data=t}});',address:e.uri}),t.global.require=i,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/alert/alert_model*/
define("os/models/alert/alert_model",["module","@loader","require"],function(e,t,r){t.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var i=t.global.define,r=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Os.Models.Alert",{id:"uuid",attributes:{uuid:"string",action_code:"string",message_params:"MessageParams",app_params:"array"},convert:{MessageParams:function(e){for(var t,r=Os.Models.Alert.MessageParam,i=new Frog.Model.List,s=0;s<e.length;s++)t=r[e[s].type[0].toUpperCase()+e[s].type.slice(1)]||r,i.push(t.model(e[s]));return i},getRssContent:function(e){var t=$.parseXML(e),r=$(t),i=$(r.find("item")[0]),s=$("<h1/>"),a=$("<div/>").html($(i).find("description").text());return s.text($(i).find("title").text()),s.text().length&&$(a).append(s),{html:a,id:$($(i).find("guid")[0]).text()}}},findCache:null,expireCache:null,lastUpdated:null,findAll:function(e,t,r){var i=this;return this.findCache?this.findCache:(this.findCache=this.api("alerts.getAlerts",e,{dataType:"json alert",success:t,error:r,converters:{"json alert":function(e){return i.models(e.data)}}}).success(function(){i.lastUpdated=(new Date).getTime()/1e3}).done(function(){i.findCache=null}),this.findCache)},findRibbit:function(e,t,r){return this.api("rss.getFeed",{constant:"FROG_NOTIFICATION_RSS",cache_time:86400},{dataType:"json ribbit",success:t,error:r,converters:{"json ribbit":function(t){if(!1===t.data)return!1;var r=this.convert.getRssContent(t.data);return r.latest_id=e!==r.id&&r.id,r}.bind(this)}})},getRibbitId:function(){return this.api("preferencesuser.get",{alias:"user.ribbit_id"},{dataType:"json ribbit_id",converters:{"json ribbit_id":function(e){return e.data}.bind(this)}})},setRibbitId:function(e){this.api("preferencesuser.set",{alias:"user.ribbit_id",value:e},{type:"POST"})},expire:function(e,t,r){var i=this;if(e=e||{},e.before=this.lastUpdated,!e.type)throw new Error("Type is a required attribute");return this.expireCache?this.expireCache:(this.expireCache=this.api("alerts.expireAlerts",e,{type:"POST",success:t,error:r}).done(function(){i.expireCache=null,$([Os.Models.Alert]).trigger("expired")}),this.expireCache)},markAsViewed:function(e){return this.api("alerts.markAsViewed",{uuid:e},{type:"POST"}).done(function(){$([Os.Models.Alert]).trigger("viewed")})}},{setup:function(e){if(this._super(e),!this.uuid)throw new Error("The UUID attribute is required");if(!this.action_code)throw new Error("The action_code attribute is required");if(this.action_code.split(".").length<2)throw new Error("The action_code attribute must be dot-separated")},hookup:function(e){this._super(e),$(e).removeClass(this.constructor._shortName)},getMessageParams:function(){for(var e=[],t=0;t<this.message_params.length;t++)e.push(this.message_params[t].attr("value"));return e},getMessageParam:function(e){for(var t=0;t<this.message_params.length;t++)if(this.message_params[t].attr("type")==e)return this.message_params[t].attr("value");return!1},getCategory:function(){return this.action_code.split(".",1)[0]}}),Frog.Model.List.extend("Os.Models.Alert.List",{},{groupByCategory:function(){var e={};return this.each(function(t,r){var i=r.attr("category");e[i]=e[i]||[],e[i].push(r)}),e}});',address:e.uri}),t.global.require=r,t.global.define=i,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/shortcut_model*/
define("os/models/shortcut_model",["module","@loader","require"],function(e,o,s){o.get("@@global-helpers").prepareGlobal({require:s,name:e.id,deps:[]});var l=o.global.define,s=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:'Frog.Model.extend("Os.Models.Shortcut",{attributes:{name:"string",id:"string",parentid:"string",class:"string"},findAll:function(){var s=[];return s=[{name:this._("shortcut.quick",null,"os"),klass:"ff-grid-mono",role_name:"*",action:"quicklaunch",show_tooltip:!0},{name:_Roles.has("app.mychildswork.access")?this._("app.mychildswork",null,"os"):this._("app.myfrogapp",null,"os"),klass:"myfrog-circle",role_name:"app.assignmentslauncher.shortcut",action:"assignments",show_tooltip:!0},{name:this._("shortcut.inbox",null,"os"),klass:"inbox-icon",role_name:"app.messages.inbox",action:"inbox",show_tooltip:!0},{name:this._("shortcut.profile",null,"os"),klass:"profile-icon",role_name:".profile",action:"profile"}].filter(function(s){return"*"===s.role_name?_Roles.has("shortcut"):null!==s.role_name.match(/^\\.(?:\\S)/g)?_Roles.has("shortcut"+s.role_name):null!==s.role_name.match(/[a-z.]+([a-z]{1,}$)/g)&&_Roles.has(s.role_name)}),Os.Models.Shortcut.models(s)}},{getName:function(){return this.name},getClass:function(){return this.klass||null},isSelected:function(){return"os-navbar-icon-home"===this.klass}});',address:e.uri}),o.global.require=s,o.global.define=l,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/terms_model*/
define("os/models/terms_model",["module","@loader","require"],function(e,l,a){l.get("@@global-helpers").prepareGlobal({require:a,name:e.id,deps:[]});var o=l.global.define,a=l.global.require;return l.global.define=void 0,l.global.module=void 0,l.global.exports=void 0,l.__exec({source:'Frog.Model.extend("Os.Models.Terms",{getTerms:function(e){return"malaysia_unified"===e.deployment?{app:"core",page:["acceptableuse","dataprotection"],language:e.language}:"FrogNAHT"===e.bundle?{app:"core",page:["nahtterms"],language:e.language}:void 0}},{});',address:e.uri}),l.global.require=a,l.global.define=o,l.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/alert/action_model*/
define("os/models/alert/action_model",["module","@loader","require"],function(e,t,a){t.get("@@global-helpers").prepareGlobal({require:a,name:e.id,deps:[]});var r=t.global.define,a=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Os.Models.Alert.Action",{triggerMap:{like:"os.app.preview",site:"os.app.siteviewer",wall:"os.app.siteviewer",poll:"os.app.siteviewer",form:"os.app.siteviewer",survey:"os.app.siteviewer",forum:"os.app.siteviewer",notice:"os.app.siteviewer",calendar:"os.app.viewevent",event:"os.app.preview","share.target":"os.app.siteviewer",frogos:"os.app.help",trump:void 0,quicklaunchlink:!1,default:"os.internal.launchapp"},dataMap:{"frogos.releasenotes":function(e){return{page:this._("help.frogos.latest_features")}},"award.recieved":function(e){return{name:"myawards"}},"assignment.issued.in.due":function(e){return{name:"assignmentreports",view:"student",assignment_uuid:e.app_params.reference,status:e.app_params.status}},"transfertool.import.sites.complete":function(e){return{name:"resources",view:"sites",type:"self"}},assignment:function(e){return _Roles.has("app.markbookmanager.access")?{name:"markbookmanager",assignment_deeplink_uuid:e.app_params.reference}:{name:"assignmentreports",view:"student",assignment_uuid:e.app_params.reference,status:e.app_params.status}},mychildswork:function(e){return{name:"assignmentreports",view:"parent",assignment_uuid:e.app_params.reference,student:new Lib.Models.User(e.app_params.user),status:e.app_params.status}},mis:function(e){return{name:"systempreferences"}},workspace:function(e){return{name:"community"}},course:function(e){return{name:"mycourses"}},"assignment.submitted.student.assignment":function(e){return{name:"markbookmanager",assignment_deeplink_uuid:e.app_params.reference,student_deeplink_uuid:e.app_params.student}},"assignment.submitted.student.assignment.due":function(e){return{name:"markbookmanager",assignment_deeplink_uuid:e.app_params.reference,student_deeplink_uuid:e.app_params.student}},"assignment.submitted.student.activity.due":function(e){return{name:"markbookmanager",assignment_deeplink_uuid:e.app_params.assignment,student_deeplink_uuid:e.app_params.student}},"preferences.notifications.setup":function(e){return{name:"preferences",action:"user.notifications"}},"os.app.siteviewer":function(e){return{site:e.attr("app_params").link}},"os.app.viewevent":function(e){return{uuid:e.attr("app_params").reference||null}},"os.app.help":function(e){return null},activity:function(e){return{name:"assignmentreports",view:"student",assignment_uuid:e.app_params.reference,status:e.app_params.status}},"feedback.teacher.activity":function(e){return{name:"feedback",resource_uuid:e.app_params.reference,isStudent:!0,isFiledrop:!0,activityType:"filedrop"}},"feedback.teacher.textactivity":function(e){return{name:"feedback",resource_uuid:e.app_params.reference,isStudent:!0,isFiledrop:!1,activityType:"textactivity"}},"feedback.teacher.googleactivity":function(e){return{name:"feedback",resource_uuid:e.app_params.reference,isStudent:!0,isFiledrop:!1,activityType:"googleactivity"}},"feedback.teacher.codeactivity":function(e){return{name:"feedback",resource_uuid:e.app_params.reference,isStudent:!0,isCodeActivity:!0}},"share.target":function(e){return"site"===e.attr("app_params").target_type?{site:e.attr("app_params").link}:{name:e.attr("category")}},"os.internal.launchapp":function(e){return{name:e.attr("category")}},like:function(e){return{type:"timeline_event",uuid:e.attr("app_params").event}},event:function(e){return{type:"timeline_event",uuid:e.attr("app_params").parent}},"eportfolio.created":function(e){return{name:"sites",site:e.attr("app_params").link}}},getTrigger:function(e){return void 0!==this.triggerMap[e.attr("action_code")]?this.triggerMap[e.attr("action_code")]:void 0!==this.triggerMap[e.attr("category")]?this.triggerMap[e.attr("category")]:this.triggerMap.default},getTriggerData:function(e){return(this.dataMap[e.attr("action_code")]||this.dataMap[e.attr("category")]||this.dataMap[this.getTrigger(e)]).call(this,e)},getTriggerAndData:function(e){var t=this.getTrigger(e);return!!t&&[t,this.getTriggerData(e)]}},{});',address:e.uri}),t.global.require=a,t.global.define=r,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/alert/message_param_model*/
define("os/models/alert/message_param_model",["module","@loader","require"],function(e,a,t){a.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var r=a.global.define,t=a.global.require;return a.global.define=void 0,a.global.module=void 0,a.global.exports=void 0,a.__exec({source:'Frog.Model.extend("Os.Models.Alert.MessageParam",{attributes:{type:"string",value:"string"}},{}),Os.Models.Alert.MessageParam.extend("Os.Models.Alert.MessageParam.Date",{attributes:{type:"string",value:"date"},convert:{date:function(e){return e+="",e=10===e.length?1e3*parseInt(e,10):parseInt(e,10),new Date(e)}}},{getValue:function(){return moment(+this.value).format("HH:mm, dddd Do MMMM YYYY")}}),Os.Models.Alert.MessageParam.Date.extend("Os.Models.Alert.MessageParam.Datetime",{attributes:{type:"string",value:"date"}},{}),Os.Models.Alert.MessageParam.Date.extend("Os.Models.Alert.MessageParam.Timestamp",{attributes:{type:"string",value:"date"}},{});',address:e.uri}),a.global.require=t,a.global.define=r,a.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/inbox_model*/
define("os/models/inbox_model",["module","@loader","require"],function(e,t,o){t.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var n=t.global.define,o=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Model.extend("Os.Models.Inbox",{id:"uuid",attributes:{meta:"Os.Models.Inbox.Meta.model",items:"Os.Models.Inbox.Item.models"},getList:function(){var e=this;return e.api("messages.getList",{},{dataType:"json inboxresponse",converters:{"json inboxresponse":function(t){return e.model(t.data)}}})}},{getUnreadCount:function(){return this.meta.getUnreadCount()},getItems:function(){return this.items}}),Frog.Model.extend("Os.Models.Inbox.Meta",{attributes:{unread:"number",total:"number"}},{getUnreadCount:function(){return this.unread},getTotalCount:function(){return this.total}}),Frog.Model.extend("Os.Models.Inbox.Item",{markAsRead:function(e){return this.api("messages.markAsRead",{uuids:[e],appName:"frogos"},{method:"POST"})},markAsDeleted:function(e){return this.api("messages.markAsDeleted",{uuids:[e],appName:"frogos"},{method:"POST"})}},{markAsRead:function(){return this.Class.markAsRead(this.getUuid())},markAsDeleted:function(){return this.Class.markAsDeleted(this.getUuid())},getTitle:function(){return this.notification.title},getUuid:function(){return this.notification.uuid}});',address:e.uri}),t.global.require=o,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/models/models*/
define("os/models/models",["./contextmenu_model","./contextmenu_dom","./dashboard_dom","./app_model","./search_model","./company_model","./app_model","./site_model","./appointment_model","./assignment_model","./resource_model","./group_model","./profile_model","./breadcrumb_model","./alert/alert_model","./shortcut_model","./terms_model","./alert/action_model","./alert/message_param_model","./inbox_model","./models-ex"]);
/*os/views/breadcrumb/breadcrumb.ejs!can/view/ejs/system*/
define("os/views/breadcrumb/breadcrumb.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/breadcrumb/breadcrumb.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"span",0,this,function(){var n=[];return isLast?(n.push("\n    <li "),n.push(can.view.txt(1,"li",1,this,function(){return crumb})),n.push(' class="active" title="'),n.push(can.view.txt(!0,"li","title",this,function(){return tooltip})),n.push('"',can.view.pending({scope:this}),">"),n.push("\n        <span>\n            "),n.push(can.view.txt(1,"span",0,this,function(){return crumb.name})),n.push("\n        </span>\n    </li>\n")):(n.push("\n    <li "),n.push(can.view.txt(1,"li",1,this,function(){return crumb})),n.push(' title="'),n.push(can.view.txt(!0,"li","title",this,function(){return tooltip})),n.push('"',can.view.pending({scope:this}),">"),n.push('\n        <a href="#" class="os-breadcrumb-link">'),n.push(can.view.txt(1,"a",0,this,function(){return crumb.name})),n.push('</a> <span class="divider">/</span>\n    </li>\n')),n.join("")})),___v1ew.push("\n"),___v1ew.join("")}}))});
/*os/views/breadcrumb/breadcrumbs.ejs!can/view/ejs/system*/
define("os/views/breadcrumb/breadcrumbs.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/breadcrumb/breadcrumbs.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"",0,this,function(){for(var e=[],n=crumbs.length,r=0;r<n;r++){var s=r===n-1,t=crumbs[r],i=showTooltips?t.tooltip||t.name:"";e.push("\n    "),e.push(can.view.txt(0,"",0,this,function(){return view("breadcrumb.ejs",{crumb:t,tooltip:i,isLast:s})})),e.push("\n")}return e.join("")})),___v1ew.push("\n"),___v1ew.join("")}}))});
/*os/views/contextmenu/back.ejs!can/view/ejs/system*/
define("os/views/contextmenu/back.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/contextmenu/back.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="os-contextmenu-backButton">\n<div class="os-contextmenu-back-left"></div>\n<div class="os-contextmenu-back-inner"><a class="os-contextmenu-back-button" data-title="'),___v1ew.push(can.view.txt(!0,"a","data-title",this,function(){return title})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push(" "),___v1ew.push(can.view.txt(1,"a",0,this,function(){return text})),___v1ew.push('</a></div>\n<div class="os-contextmenu-back-right"></div>\n</div>\n'),___v1ew.join("")}}))});
/*os/views/contextmenu/contextmenu.ejs!can/view/ejs/system*/
define("os/views/contextmenu/contextmenu.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/contextmenu/contextmenu.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[],optsLen=menu.length;return ___v1ew.push('\n<a class="os-context-menu-label'),___v1ew.push(can.view.txt(0,"a","class",this,function(){var e=[];return optsLen||e.push(" inactive"),e.join("")})),___v1ew.push('" href="#"',can.view.pending({scope:this}),">"),___v1ew.push(can.view.txt(1,"a",0,this,function(){return label})),___v1ew.push('</a>\n<div class="os-contextmenu-holder hide selected-anim">\n    <div class="os-contextmenu-arrow"></div>\n    <div class="os-contextmenu-menu-box">\n        \x3c!-- <div class="os-contextmenu-menu-title"> <h3 class="title">'),___v1ew.push(can.view.txt(1,"h3",0,this,function(){return menu.label})),___v1ew.push(' Menu</h3></div> --\x3e\n        <div class="os-contextmenu-menu-pane">\n            <div class="os-contextmenus-holder">\n                <ul class="os-contextmenu-menu contextmenu ui-dark-fill">\n                    '),___v1ew.push(can.view.txt(0,"ul",0,this,function(){for(var e=[],n=0;n<optsLen;n++)e.push("\n                        "),e.push(can.view.txt(0,"ul",0,this,function(){return view("contextmenu/menuitem.ejs",{item:menu[n]})})),e.push("\n                    ");return e.join("")})),___v1ew.push("\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n"),___v1ew.join("")}}))});
/*os/views/contextmenu/horizontalmenuitem.ejs!can/view/ejs/system*/
define("os/views/contextmenu/horizontalmenuitem.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/contextmenu/horizontalmenuitem.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li data-action="'),___v1ew.push(can.view.txt(!0,"li","data-action",this,function(){return item.action})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('\n    <a>\n    \t<div class="'),___v1ew.push(can.view.txt(!0,"div","class",this,function(){return item.klass?item.klass:null})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('</div>\n     \t<span class="'),___v1ew.push(can.view.txt(!0,"span","class",this,function(){return item.button?item.klass+" btn btn-primary btn-small":""})),___v1ew.push('" data-placement="bottom" data-trigger="hover" rel="tooltip" data-title="'),___v1ew.push(can.view.txt(!0,"span","data-title",this,function(){return item.tooltip?item.tooltip:""})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push(can.view.txt(1,"span",0,this,function(){return item.label})),___v1ew.push("</span>\n    </a>\n</li>\n"),___v1ew.join("")}}))});
/*os/views/contextmenu/menuitem.ejs!can/view/ejs/system*/
define("os/views/contextmenu/menuitem.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/contextmenu/menuitem.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push("<li \n    "),___v1ew.push(can.view.txt(0,"li",1,this,function(){var t=[];return item.action&&(t.push('data-action="'),t.push(can.view.txt(!0,"li","data-action",this,function(){return item.action})),t.push('" ')),item.data&&item.label&&(t.push('data-label="'),t.push(can.view.txt(!0,"li","data-label",this,function(){return item.label})),t.push('"\n    ')),t.join("")})),___v1ew.push("\n   \n    "),___v1ew.push(can.view.txt(0,"li",1,this,function(){var t=[];return item.options.length&&(t.push('\n        data-menu="'),t.push(can.view.txt(!0,"li","data-menu",this,function(){return $.toJSON(item.options)})),t.push('"\n        class="ui-os-sub-content"\n    ')),t.join("")})),___v1ew.push("\n",can.view.pending({scope:this}),">"),___v1ew.push("\n    "),___v1ew.push(can.view.txt(0,"li",0,this,function(){var t=[];return item.separator?t.push("<hr />"):(t.push('<a href="#">'),t.push(can.view.txt(1,"a",0,this,function(){return item.label})),t.push("</a>")),t.join("")})),___v1ew.push("\n</li>"),___v1ew.join("")}}))});
/*os/views/contextmenu/submenu.ejs!can/view/ejs/system*/
define("os/views/contextmenu/submenu.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/contextmenu/submenu.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"span",0,this,function(){var n=[];return menu.length&&(n.push('\n    <ul class="os-contextmenu-submenu ui-dark-fill">\n'),n.push(can.view.txt(0,"ul",0,this,function(){for(var n=[],t=0;t<menu.length;t++)n.push("\n            <li\n                "),n.push(can.view.txt(0,"li",1,this,function(){var n=[];return menu[t].action&&(n.push('data-action="'),n.push(can.view.txt(!0,"li","data-action",this,function(){return menu[t].action})),n.push('" ')),menu[t].data&&menu[t].label&&(n.push('\n                    data-label="'),n.push(can.view.txt(!0,"li","data-label",this,function(){return menu[t].label})),n.push('"\n                     data-data="'),n.push(can.view.txt(!0,"li","data-data",this,function(){return $.toJSON(menu[t].data)})),n.push('"\n                ')),n.join("")})),n.push("\n                "),n.push(can.view.txt(0,"li",1,this,function(){var n=[];return menu[t].options&&menu[t].options.length&&(n.push('\n                    data-menu="'),n.push(can.view.txt(!0,"li","data-menu",this,function(){return $.toJSON(menu[t].options)})),n.push('"\n                    class="ui-os-sub-content"\n                ')),n.join("")})),n.push("\n            ",can.view.pending({scope:this}),">"),n.push('\n                <a href="#">'),n.push(can.view.txt(1,"a",0,this,function(){return menu[t].label})),n.push("</a>\n            </li>\n");return n.join("")})),n.push("\n    </ul>\n")),n.join("")})),___v1ew.push("\n"),___v1ew.join("")}}))});
/*os/views/contextmenu/tour_button.ejs!can/view/ejs/system*/
define("os/views/contextmenu/tour_button.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/contextmenu/tour_button.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div data-action="launchTour" class="tour-icon pull-right">\n        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n         viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">\n            <g><path d="M13.9,2.5c6.3,0,11.5,5.1,11.5,11.5s-5.1,11.5-11.5,11.5S2.5,20.2,2.5,13.9S7.6,2.5,13.9,2.5 M13.9,0 C6.2,0,0,6.2,0,13.9s6.2,13.9,13.9,13.9s13.9-6.2,13.9-13.9S21.6,0,13.9,0L13.9,0z"/></g>\n            <g><path d="M14.7,16.5c0,0.3-0.1,0.6-0.3,0.7c-0.2,0.2-0.4,0.3-0.7,0.3c-0.3,0-0.5-0.1-0.7-0.3 c-0.2-0.2-0.3-0.4-0.3-0.7V14c0-0.2,0-0.4,0-0.6c0-0.2,0.1-0.3,0.2-0.4c0.1-0.1,0.3-0.2,0.5-0.3c0.2-0.1,0.5-0.1,0.9-0.2 c0.4-0.1,0.8-0.2,1-0.4c0.3-0.2,0.5-0.4,0.6-0.6c0.1-0.2,0.2-0.4,0.3-0.7c0-0.2,0.1-0.5,0.1-0.7c0-0.7-0.2-1.3-0.7-1.7 c-0.5-0.4-1.1-0.6-1.8-0.6c-0.6,0-1.1,0.1-1.5,0.4s-0.8,0.7-1,1.4c-0.1,0.3-0.2,0.5-0.3,0.6c-0.1,0.1-0.3,0.1-0.5,0.1 c-0.2,0-0.5-0.1-0.7-0.3C9.6,9.9,9.5,9.7,9.5,9.4c0-0.5,0.2-0.9,0.4-1.3c0.3-0.4,0.6-0.7,1-1c0.4-0.3,0.8-0.5,1.3-0.7 c0.5-0.2,1-0.2,1.5-0.2c0.6,0,1.2,0.1,1.8,0.3c0.6,0.2,1,0.5,1.5,0.8c0.4,0.4,0.7,0.8,1,1.3c0.2,0.5,0.4,1,0.4,1.6 c0,1.2-0.3,2.1-1,2.8c-0.7,0.7-1.5,1.2-2.6,1.4V16.5z M12.6,20.6c0-0.3,0.1-0.6,0.3-0.8c0.2-0.2,0.5-0.3,0.8-0.3 c0.3,0,0.6,0.1,0.8,0.3c0.2,0.2,0.3,0.5,0.3,0.8c0,0.3-0.1,0.6-0.3,0.8c-0.2,0.2-0.5,0.3-0.8,0.3c-0.3,0-0.6-0.1-0.8-0.3 C12.7,21.2,12.6,20.9,12.6,20.6z"/></g>\n        </svg>\n    </div>'),___v1ew.join("")}}))});
/*os/views/faststart/item/applink.ejs!can/view/ejs/system*/
define("os/views/faststart/item/applink.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/faststart/item/applink.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"",0,this,function(){return view("faststart/menuitem.ejs",this)})),___v1ew.push("\n"),___v1ew.join("")}}))});
/*os/views/faststart/item/appwrapper.ejs!can/view/ejs/system*/
define("os/views/faststart/item/appwrapper.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/faststart/item/appwrapper.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li class="os-quickstart-item-holder" '),___v1ew.push(can.view.txt(1,"li",1,this,function(){return menuItem})),___v1ew.push("",can.view.pending({scope:this}),">"),___v1ew.push("\n    "),___v1ew.push(can.view.txt(0,"li",0,this,function(){var e=[];return showDelete&&e.push('\n        <div class="os-quickstart-delete">\n            <span class="ff-cross-mono"></span>\n        </div>\n    '),e.join("")})),___v1ew.push('\n    <a href="#" title="'),___v1ew.push(can.view.txt(!0,"a","title",this,function(){return menuItem.extended_data?menuItem.extended_data.appname:menuItem.item.extended_data.appname})),___v1ew.push('" class="os-quickstart-item"',can.view.pending({scope:this}),">"),___v1ew.push('\n        <div class="os-quickstart-item-icon ui-app-icon">\n            <img '),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push(menuItem.extended_data?menuItem.extended_data.appicon:menuItem.item.extended_data.appicon),e.push('"'),e.join("")})),___v1ew.push("",can.view.pending({scope:this}),">"),___v1ew.push('\n        </div>\n        <span class="ui-app-label">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return menuItem.extended_data?menuItem.extended_data.appname:menuItem.item.extended_data.appname})),___v1ew.push("</span>\n    </a>\n</li>\n"),___v1ew.join("")}}))});
/*os/views/faststart/item/dashboard.ejs!can/view/ejs/system*/
define("os/views/faststart/item/dashboard.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/faststart/item/dashboard.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"",0,this,function(){return view("faststart/menuitem.ejs",this)})),___v1ew.push("\n"),___v1ew.join("")}}))});
/*os/views/faststart/item/external_site.ejs!can/view/ejs/system*/
define("os/views/faststart/item/external_site.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/faststart/item/external_site.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"",0,this,function(){return view("faststart/menuitem.ejs",this)})),___v1ew.push("\n"),___v1ew.join("")}}))});
/*os/views/faststart/item/malaysia_site.ejs!can/view/ejs/system*/
define("os/views/faststart/item/malaysia_site.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/faststart/item/malaysia_site.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"",0,this,function(){return view("faststart/menuitem.ejs",this)})),___v1ew.push("\n"),___v1ew.join("")}}))});
/*os/views/faststart/item/package.ejs!can/view/ejs/system*/
define("os/views/faststart/item/package.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/faststart/item/package.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li class="os-quickstart-item-holder package" '),___v1ew.push(can.view.txt(1,"li",1,this,function(){return menuItem})),___v1ew.push("",can.view.pending({scope:this}),">"),___v1ew.push("\n    "),___v1ew.push(can.view.txt(0,"li",0,this,function(){var n=[];return showDelete&&n.push('\n        <div class="os-quickstart-delete"><span class="ff-cross-mono"></span></div>\n    '),n.join("")})),___v1ew.push('\n    <a href="#" title="'),___v1ew.push(can.view.txt(!0,"a","title",this,function(){return app._(menuItem.item.name,null,"os")})),___v1ew.push('" class="os-quickstart-item"',can.view.pending({scope:this}),">"),___v1ew.push("\n    "),___v1ew.push(can.view.txt(0,"a",0,this,function(){var n=[];return menuItem.getData&&menuItem.getData("appicon")?(n.push('\n        <span class="ui-app-icon ui-app-icon-'),n.push(can.view.txt(!0,"span","class",this,function(){return menuItem.getIconKey()})),n.push('" '),n.push(can.view.txt(2,"span","style",this,function(){var n=[];return n.push('style="'),n.push("background-image:url('"),n.push(menuItem.getData("appicon")),n.push("?width=52&height=52')\""),n.join("")})),n.push("",can.view.pending({scope:this}),">"),n.push("</span>\n    ")):(n.push('\n        <span class="ui-app-icon ui-app-icon-'),n.push(can.view.txt(!0,"span","class",this,function(){return menuItem.getIconKey()})),n.push('" ',can.view.pending({scope:this}),">"),n.push("</span>\n    ")),n.join("")})),___v1ew.push("\n        "),___v1ew.push(can.view.txt(0,"a",0,this,function(){return!0===menuItem.item.attr("running")?'<span class="running ff-circle-mono"></span>':""})),___v1ew.push('<span class="ui-app-label">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return app._(menuItem.item.name,null,"os")})),___v1ew.push("</span>\n    </a>\n</li>\n"),___v1ew.join("")}}))});
/*os/views/faststart/item/site.ejs!can/view/ejs/system*/
define("os/views/faststart/item/site.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/faststart/item/site.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"",0,this,function(){return view("faststart/quicklink.ejs",this)})),___v1ew.push("\n"),___v1ew.join("")}}))});
/*os/views/faststart/item/weblink.ejs!can/view/ejs/system*/
define("os/views/faststart/item/weblink.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/faststart/item/weblink.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"",0,this,function(){return view("faststart/quicklink.ejs",this)})),___v1ew.push("\n"),___v1ew.join("")}}))});
/*os/views/faststart/menu.ejs!can/view/ejs/system*/
define("os/views/faststart/menu.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/faststart/menu.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[],menuItem,showDelete;return ___v1ew.push('\n<div class="os-menu-holder os-quickstart-menu-holder">\n    <div class="os-quickstart-scroll frog-touch-scroll">\n        <ul class="clearfix ui-dark-fill">\n            '),___v1ew.push(can.view.txt(0,"ul",0,this,function(){var e=[];return 0!==apps.length&&(e.push("\n                "),e.push(can.view.txt(0,"ul",0,this,function(){for(var e=[],n=0;n<apps.length;n++)menuItem=apps[n],showDelete="global"===menuItem.type&&_Roles.has("app.quicklinks.global")||"protected"===menuItem.type&&_Roles.has("app.quicklinks.protected")||"personal"===menuItem.type,e.push("\n                    "),e.push(can.view.txt(0,"ul",0,this,function(){return app.view("faststart/item/"+menuItem.format+".ejs",{disableSvg:disableSvg,menuItem:menuItem,showDelete:!1!==menuItem.item.original&&showDelete})})),e.push("\n                ");return e.join("")})),e.push("\n            ")),e.join("")})),___v1ew.push('\n            <li class="add">\n                <i class="ff-add-mono" title="Add" href="#"></i>\n            </li>\n        </ul>\n    </div>\n    '),___v1ew.push(can.view.txt(0,"div",0,this,function(){var e=[];return canEdit&&(e.push('\n        <div class="os-quickstart-edit">\n            <i class="ff-edit-mono btn-edit" title="'),e.push(can.view.txt(!0,"i","title",this,function(){return app._("button.edit")})),e.push('"',can.view.pending({scope:this}),">"),e.push('</i>\n            <a href="#" class="btn btn-cancel" title="'),e.push(can.view.txt(!0,"a","title",this,function(){return app._("button.cancel")})),e.push('"',can.view.pending({scope:this}),">"),e.push(can.view.txt(1,"a",0,this,function(){return app._("button.cancel")})),e.push('</a>\n            <a href="#" class="btn btn-primary btn-save" title="'),e.push(can.view.txt(!0,"a","title",this,function(){return app._("button.savechanges")})),e.push('"',can.view.pending({scope:this}),">"),e.push(can.view.txt(1,"a",0,this,function(){return app._("button.savechanges")})),e.push("</a>\n        </div>\n    ")),e.join("")})),___v1ew.push('\n</div>\n<ul class="context-menu dropdown-menu hide">\n    <li class="new"><a tabindex="-1" href="#">'),___v1ew.push(can.view.txt(1,"a",0,this,function(){return app._("core.quicklaunch.contextmenu.launch",null,"os")})),___v1ew.push('</a></li>\n    <li class="close-app"><a tabindex="-1" href="#">'),___v1ew.push(can.view.txt(1,"a",0,this,function(){return app._("core.quicklaunch.contextmenu.close",null,"os")})),___v1ew.push('</a></li>\n</ul>\n<div class="no-apps hide"><p>'),___v1ew.push(can.view.txt(1,"p",0,this,function(){return app._("core.quicklaunch.no_apps",null,"os")})),___v1ew.push("</p></div>"),___v1ew.join("")}}))});
/*os/views/faststart/menuitem.ejs!can/view/ejs/system*/
define("os/views/faststart/menuitem.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/faststart/menuitem.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[],icon_label=app._(menuItem.item.name,null,"os");return ___v1ew.push('\n<li class="os-quickstart-item-holder" '),___v1ew.push(can.view.txt(1,"li",1,this,function(){return menuItem})),___v1ew.push("",can.view.pending({scope:this}),">"),___v1ew.push("\n    "),___v1ew.push(can.view.txt(0,"li",0,this,function(){var e=[];return showDelete&&e.push('\n        <div class="os-quickstart-delete">\n            <span class="ff-cross-mono"></span>\n        </div>\n    '),e.join("")})),___v1ew.push('\n    <a href="#" class="os-quickstart-item">\n    '),___v1ew.push(can.view.txt(0,"a",0,this,function(){var e=[];if(menuItem.item.extended_data&&menuItem.item.extended_data.thirdparty)e.push('\n        <span class="resource-app-icon ui-app-icon-'),e.push(can.view.txt(!0,"span","class",this,function(){return menuItem.item.extended_data.thirdparty})),e.push('"',can.view.pending({scope:this}),">"),e.push("</span>\n    ");else if(menuItem.item.siteicon)e.push('\n        <span class="ui-app-icon ui-app-icon-site" '),e.push(can.view.txt(2,"span","style",this,function(){var e=[];return e.push('style="'),e.push("background-image:url('"),e.push(menuItem.item.siteicon),e.push("?width=52&height=52')\""),e.join("")})),e.push("",can.view.pending({scope:this}),">"),e.push("\n        </span>\n    ");else if("hotspot"===menuItem.item.app_name)e.push('\n        <span class="ui-app-icon-hotspot"></span>\n    ');else if(menuItem.item.resource){e.push("\n        ");var n=menuItem.item.resource,s=n.ext||(n.attachment?n.attachment.file.mime.ext.toLowerCase():""),i=n.isGoogleNative&&n.isGoogleNative();"scorm"===n.type&&(s="SCORM"),e.push('\n        <div class="\n            icon\n            ui-preview-icon\n            os-icon-ext\n            '),e.push(can.view.txt(!0,"div","class",this,function(){return"scorm"===n.type?" os-icon-ext-scorm":""})),e.push("\n            "),e.push(can.view.txt(!0,"div","class",this,function(){return"googledrive"===n.source?" os-icon-ext-google":""})),e.push("\n            os-icon-ext-"),e.push(can.view.txt(!0,"div","class",this,function(){return("googledrive"===n.source&&i&&-1===s.indexOf("google")?"google-":"")+s.toLowerCase()})),e.push('\n        "',can.view.pending({scope:this}),">"),e.push("\n            "),e.push(can.view.txt(0,"div",0,this,function(){var e=[];return"onedrivebusiness"===n.attr("source")?e.push('\n                <i class="os-icon-ext os-icon-ext-lnk-timeline os-icon-ext-lnk-onedrive-business"></i>\n            '):"googledrive"===n.attr("source")&&e.push('\n                <i class="os-icon-ext os-icon-ext-lnk-timeline os-icon-ext-lnk-google-drive"></i>\n            '),e.join("")})),e.push("\n            "),e.push(can.view.txt(0,"div",0,this,function(){var e=[];return i||(e.push('\n                <span class="os-ellipsis file-name">'),e.push(can.view.txt(1,"span",0,this,function(){return s})),e.push("</span>\n            ")),e.join("")})),e.push("\n        </div>\n    ")}else if("preview"==menuItem.item.app_name&&"quiz_video"===$(menuItem.item.instance).controller().options.type)icon_label=$(menuItem.item.instance).controller().options.file_name,e.push('\n        <div class="icon ui-preview-icon os-icon-ext os-icon-ext-video">\n            <span class="os-ellipsis file-name">'),e.push(can.view.txt(1,"span",0,this,function(){return app._("file.type.video",null,"os")})),e.push("</span>\n        </div>\n    ");else{var t=!0;"app.parentnoticeboard"===menuItem.item.name&&(t=!1),e.push("\n        "),e.push(can.view.txt(0,"a",0,this,function(){return app.view("core/appSvg.ejs",{icon_key:menuItem.getIconKey(),skipIconMap:t,disableSvg:disableSvg})})),e.push("\n    ")}return e.join("")})),___v1ew.push('\n        <div class="ui-app-label-wrapper">\n            <span class="ui-app-label">\n                '),___v1ew.push(can.view.txt(0,"span",0,this,function(){return!0===menuItem.item.attr("running")?'<div class="running_container"><span class="running ff-circle-mono"></span></div>':""})),___v1ew.push('\n                <span class="label-text">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return icon_label})),___v1ew.push("</span>\n            </span>\n        </div>\n    </a>\n</li>\n"),___v1ew.join("")}}))});
/*os/views/faststart/quicklink.ejs!can/view/ejs/system*/
define("os/views/faststart/quicklink.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/faststart/quicklink.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[],quicklinkName=menuItem.item.name;return ___v1ew.push('\n<li class="os-quickstart-item-holder" '),___v1ew.push(can.view.txt(1,"li",1,this,function(){return menuItem})),___v1ew.push("",can.view.pending({scope:this}),">"),___v1ew.push("\n    "),___v1ew.push(can.view.txt(0,"li",0,this,function(){var n=[];return showDelete&&n.push('\n        <div class="os-quickstart-delete">\n            <span class="ff-cross-mono"></span>\n        </div>\n    '),n.join("")})),___v1ew.push('\n    <a href="#" title="'),___v1ew.push(can.view.txt(!0,"a","title",this,function(){return quicklinkName})),___v1ew.push('" class="os-quickstart-item"',can.view.pending({scope:this}),">"),___v1ew.push('\n        <div class="os-quickstart-item-icon ui-app-icon">\n            <img class="ui-app-icon-draggable" '),___v1ew.push(can.view.txt(2,"img","src",this,function(){var n=[];return n.push('src="'),n.push(menuItem.item.icon?Frog.Utilities.setAssetDimensions(menuItem.item.icon,80,52,!0):""),n.push('"'),n.join("")})),___v1ew.push("",can.view.pending({scope:this}),">"),___v1ew.push('\n        </div>\n        <span class="ui-app-label">\n            '),___v1ew.push(can.view.txt(0,"span",0,this,function(){return!0===menuItem.item.attr("running")?'<div class="running_container"><span class="running ff-circle-mono"></span></div>':""})),___v1ew.push('\n            <span class="label-text">'),___v1ew.push(can.view.txt(1,"span",0,this,function(){return quicklinkName})),___v1ew.push("</span>\n        </span>\n    </a>\n</li>\n"),___v1ew.join("")}}))});
/*os/views/frog_menu/dashboardselector.ejs!can/view/ejs/system*/
define("os/views/frog_menu/dashboardselector.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/frog_menu/dashboardselector.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"span",0,this,function(){var n=[];return $.each(dashboards,function(e,s){n.push('\n    <article class="dashboard" data-action="change-dashboard">\n        <span><img '),n.push(can.view.txt(2,"img","src",this,function(){var n=[];return n.push('src="'),n.push(s.icon),n.push('"'),n.join("")})),n.push("",can.view.pending({scope:this}),">"),n.push("</span>\n        <h5>"),n.push(can.view.txt(1,"h5",0,this,function(){return s.name})),n.push("</h5>\n    </article>\n")}),n.join("")})),___v1ew.join("")}}))});
/*os/views/frog_menu/desktopnav.ejs!can/view/ejs/system*/
define("os/views/frog_menu/desktopnav.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/frog_menu/desktopnav.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"span",0,this,function(){var n=[];return dashboards.length>1&&(n.push('\n    <ul class="ui-os-desktop-navigation">\n        '),n.push(can.view.txt(0,"ul",0,this,function(){for(var n=[],s=0;s<dashboards.length;s++)n.push('\n            <li\n                class="os-desktop-navigation-spot '),n.push(can.view.txt(!0,"li","class",this,function(){return 0===s&&"os-desktop-navigation-spot-active"})),n.push('"\n                title="'),n.push(can.view.txt(!0,"li","title",this,function(){return dashboards[s].name})),n.push("\"\n                data-toggle='tooltip'\n                data-placement='top'\n            ",can.view.pending({scope:this}),">"),n.push("\n                <span></span>\n            </li>\n        ");return n.join("")})),n.push("\n    </ul>\n")),n.join("")})),___v1ew.push("\n"),___v1ew.join("")}}))});
/*os/views/frog_menu/frog-menu.ejs!can/view/ejs/system*/
define("os/views/frog_menu/frog-menu.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/frog_menu/frog-menu.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="os-menu-holder os-frog-menu-holder hide">\n    <ul class="os-contextmenu-menu clearfix">\n        '),___v1ew.push(can.view.txt(0,"ul",0,this,function(){return app.view("item.ejs",{name:"schooldashboard",target:"home",text:app._("app.dashboard",null,"os")})})),___v1ew.push("\n    </ul>\n</div>"),___v1ew.join("")}}))});
/*os/views/frog_menu/item.ejs!can/view/ejs/system*/
define("os/views/frog_menu/item.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/frog_menu/item.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[],target=void 0===target?name:target;return ___v1ew.push('\n<li class="" data-action="'),___v1ew.push(can.view.txt(!0,"li","data-action",this,function(){return target})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('\n    <a href="#" title="'),___v1ew.push(can.view.txt(!0,"a","title",this,function(){return text})),___v1ew.push('" class=""',can.view.pending({scope:this}),">"),___v1ew.push("\n        "),___v1ew.push(can.view.txt(0,"a",0,this,function(){return app.view("core/appSvg.ejs",{icon_key:name})})),___v1ew.push("\n        <span class='ui-app-label'>"),___v1ew.push(can.view.txt(1,"span",0,this,function(){return text})),___v1ew.push("</span>\n    </a>\n</li>\n"),___v1ew.join("")}}))});
/*os/views/frog_menu/shortcut.ejs!can/view/ejs/system*/
define("os/views/frog_menu/shortcut.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/frog_menu/shortcut.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"span",0,this,function(){for(var n=[],t=0,s=shortcuts.length;t<s;t++)n.push('\n    <li\n        class="'),n.push(can.view.txt(0,"li","class",this,function(){var n=[];return shortcuts[t].isSelected()&&n.push(" selected"),n.join("")})),n.push('"\n        data-action="'),n.push(can.view.txt(!0,"li","data-action",this,function(){return shortcuts[t].action})),n.push('"\n        '),n.push(can.view.txt(0,"li",1,this,function(){var n=[];return shortcuts[t].show_tooltip&&(n.push('\n            title="'),n.push(can.view.txt(!0,"li","title",this,function(){return app._(shortcuts[t].getName())})),n.push("\"\n            data-placement='bottom'\n            data-toggle='tooltip'\n        ")),n.join("")})),n.push("\n    ",can.view.pending({scope:this}),">"),n.push("\n        <span\n            "),n.push(can.view.txt(0,"span",1,this,function(){var n=[];return shortcuts[t].getClass()&&(n.push('\n                class="'),n.push(can.view.txt(!0,"span","class",this,function(){return shortcuts[t].getClass()})),n.push('"\n            ')),n.join("")})),n.push("\n        ",can.view.pending({scope:this}),">"),n.push("\n            "),n.push(can.view.txt(0,"span",0,this,function(){var n=[];return"profile"===shortcuts[t].action&&_Roles.has("app.notifications.access")&&n.push('\n                <span class="notices-alert ff-general-mono"></span>\n            '),n.join("")})),n.push("\n        </span>\n    </li>\n");return n.join("")})),___v1ew.push("\n"),___v1ew.join("")}}))});
/*os/views/frog_menu/titlebar.ejs!can/view/ejs/system*/
define("os/views/frog_menu/titlebar.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/frog_menu/titlebar.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="os-titlebar navbar navbar-inverse">\n    <div class="navbar-inner">\n        <div class="container">\n            <ul class="nav menu-primary os-navbar-icon">\n                <li class="os-frog-menu" data-action="home" '),___v1ew.push(can.view.txt(0,"li",1,this,function(){var n=[];return show_dashboard_popover&&(n.push("data-toggle='tooltip' data-placement='bottom' title=\""),n.push(can.view.txt(!0,"li","title",this,function(){return app._("app.os")})),n.push('" ')),n.join("")})),___v1ew.push("",can.view.pending({scope:this}),">"),___v1ew.push('\n                    <span class="ff-frog-mono '),___v1ew.push(can.view.txt(0,"span","class",this,function(){var n=[];return show_dashboard_popover||n.push("single disabled"),n.join("")})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('</span>\n                </li>\n            </ul>\n            <ul class="nav context-menu hide-mobile">\n                <li id="titleContextMenu" class="ui-os-titlebar-context-holder ui-os-titlebar-app-name"></li>\n            </ul>\n            <div class="quickstart">\n                <ul class="nav os-navbar-icon os-titlebar-shortcuts pull-right"></ul>\n            </div>\n            '),___v1ew.push(can.view.txt(0,"div",0,this,function(){var n=[];return show_plusbutton&&(n.push("\n                <div class=\"plus-container\" data-toggle='tooltip' data-placement='bottom' title=\""),n.push(can.view.txt(!0,"div","title",this,function(){return app._("frogbar.button.plus")})),n.push('"',can.view.pending({scope:this}),">"),n.push('\n                    <span class="plus-icon ff-plus-mono hide-mobile"></span>\n                </div>\n            ')),n.join("")})),___v1ew.push("\n            "),___v1ew.push(can.view.txt(0,"div",0,this,function(){var n=[];return show_search&&(n.push('\n                <form class="navbar-search ui-os-search-form" action="">\n                    <input type="text" class="ui-os-search-input search-query" placeholder="'),n.push(can.view.txt(!0,"input","placeholder",this,function(){return app._("placeholder.search")})),n.push('"',can.view.pending({scope:this}),">"),n.push('\n                    <button class="ff-search-mono" type="button" name="button" data-action="search"></button>\n                </form>\n            ')),n.join("")})),___v1ew.push('\n        </div>\n    </div>\n    <div class="ui-os-search"></div>\n</div>\n'),___v1ew.join("")}}))});
/*os/views/inbox/icon.ejs!can/view/ejs/system*/
define("os/views/inbox/icon.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/inbox/icon.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="inbox-icon__content">\n    <span class="inbox-icon ff-inbox-mono"></span>\n    <span class="inbox-badge">?</span>\n</div>'),___v1ew.join("")}}))});
/*os/views/inbox/main.ejs!can/view/ejs/system*/
define("os/views/inbox/main.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/inbox/main.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="content">\n    <div class="content--inbox"></div>\n</div>'),___v1ew.join("")}}))});
/*os/views/notifications/alert_generic.ejs!can/view/ejs/system*/
define("os/views/notifications/alert_generic.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/notifications/alert_generic.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="ui-os-notification ui-os-notification-generic" '),___v1ew.push(can.view.txt(1,"div",1,this,function(){return alert})),___v1ew.push("",can.view.pending({scope:this}),">"),___v1ew.push("\n    <p>\n        "),___v1ew.push(can.view.txt(0,"p",0,this,function(){var e=[];return alert.getMessageParams()[0]&&alert.getMessageParams()[1]?(e.push("\n            "),e.push(can.view.txt(1,"p",0,this,function(){return alert.getMessageParams()[1]})),e.push("\n        ")):(e.push("\n            "),e.push(can.view.txt(1,"p",0,this,function(){return app._("generic.nobody",[],"notifications")})),e.push("\n        ")),e.join("")})),___v1ew.push('\n    </p>\n    <div class="os-css-clear"></div>\n</div>\n'),___v1ew.join("")}}))});
/*os/views/notifications/alert.ejs!can/view/ejs/system*/
define("os/views/notifications/alert.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/notifications/alert.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="ui-os-notification" '),___v1ew.push(can.view.txt(1,"div",1,this,function(){return alert})),___v1ew.push("",can.view.pending({scope:this}),">"),___v1ew.push("\n    <p>\n        "),___v1ew.push(can.view.txt(1,"p",0,this,function(){return app._(alert.attr("action_code"),alert.attr("message_params"),"notifications")})),___v1ew.push('\n    </p>\n    <div class="os-css-clear"></div>\n</div>\n'),___v1ew.join("")}}))});
/*os/views/notifications/empty.ejs!can/view/ejs/system*/
define("os/views/notifications/empty.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/notifications/empty.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="ui-os-notification empty">\n    <p>'),___v1ew.push(can.view.txt(1,"p",0,this,function(){return app._("core.notifications.no_notifications")})),___v1ew.push("</p>\n</div>\n"),___v1ew.join("")}}))});
/*os/views/notifications/group.ejs!can/view/ejs/system*/
define("os/views/notifications/group.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/notifications/group.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="ui-notification-section" data-category="'),___v1ew.push(can.view.txt(!0,"div","data-category",this,function(){return category})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push('\n    <div class="ui-notification-title ui-dark-grey-gradient">\n        <h3>'),___v1ew.push(can.view.txt(1,"h3",0,this,function(){return app._("heading."+category,null,"notifications")})),___v1ew.push('</h3>\n        <a class="notification-section-close">X</a>\n    </div>\n    '),___v1ew.push(can.view.txt(0,"div",0,this,function(){for(var i=[],n=0;n<alerts.length;n++)i.push("\n        "),i.push(can.view.txt(0,"div",0,this,function(){})),i.push("\n    ");return i.join("")})),___v1ew.push("\n</div>\n"),___v1ew.join("")}}))});
/*os/views/notifications/main.ejs!can/view/ejs/system*/
define("os/views/notifications/main.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/notifications/main.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"",0,this,function(){var n=[];return Object.keys(groups).length?n.push(can.view.txt(0,"",0,this,function(){var n=[];for(var e in groups)n.push(can.view.txt(0,"",0,this,function(){var n=[];return groups.hasOwnProperty(e)&&(n.push("\n                "),n.push(can.view.txt(0,"",0,this,function(){return app.view("group.ejs",{category:e,alerts:groups[e]})}))),n.join("")}));return n.join("")})):(n.push("\n        "),n.push(can.view.txt(0,"",0,this,function(){return app.view("empty.ejs")}))),n.join("")})),___v1ew.push("\n"),___v1ew.join("")}}))});
/*os/views/plus/buttons.ejs!can/view/ejs/system*/
define("os/views/plus/buttons.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/plus/buttons.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="buttons">\n    <button type="button" class="btn" data-action="close">Cancel</button>\n</div>'),___v1ew.join("")}}))});
/*os/views/plus/main.ejs!can/view/ejs/system*/
define("os/views/plus/main.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/plus/main.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="actions">\n    <div class="column">\n        '),___v1ew.push(can.view.txt(0,"div",0,this,function(){var n=[],s=0;return actions.forEach(function(i){s++,n.push("\n                "),roles.has(i.role)&&(n.push('\n                <div class="media" data-action="launch" data-type="'),n.push(can.view.txt(!0,"div","data-type",this,function(){return i.name})),n.push('"',can.view.pending({scope:this}),">"),n.push('\n                    <span class="pull-left">\n                        '),n.push(can.view.txt(0,"span",0,this,function(){return app.view("core/appSvg.ejs",{icon_key:i.icon,additional_classes:["media-object"]})})),n.push('\n                    </span>\n                    <div class="media-body">\n                        <h4 class="media-heading">'),n.push(can.view.txt(1,"h4",0,this,function(){return app._("plus."+i.name,null,"os")})),n.push("</h4>\n                        <span>"),n.push(can.view.txt(1,"span",0,this,function(){return app._("plus."+i.name+".description",null,"os")})),n.push("\n                    </div>\n                </div>\n                "),n.push(can.view.txt(0,"/div",0,this,function(){var n=[];return s%3==0&&n.push('\n                    </div><div class="column">\n                '),n.join("")})),n.push("\n        "))}),n.join("")})),___v1ew.push("\n    </div>\n</div>\n"),___v1ew.join("")}}))});
/*os/views/profile/groups.ejs!can/view/ejs/system*/
define("os/views/profile/groups.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/profile/groups.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"span",0,this,function(){var n=[];return Object.keys(groups).length?n.push(can.view.txt(0,"span",0,this,function(){var n=[];for(var e in groups)n.push(can.view.txt(0,"span",0,this,function(){var n=[];return groups.hasOwnProperty(e)&&(n.push('\n                <div class="group">\n                    '),n.push(can.view.txt(0,"div",0,this,function(){return app.view("notifications.ejs",{category:e,alerts:groups[e]})})),n.push("\n                </div>\n            ")),n.join("")}));return n.join("")})):(n.push("\n    "),n.push(can.view.txt(0,"undefined",0,this,function(){return app.view("empty.ejs")})),n.push("\n")),n.join("")})),___v1ew.join("")}}))});
/*os/views/profile/item.ejs!can/view/ejs/system*/
define("os/views/profile/item.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/profile/item.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[],target=void 0===target?name:target;return ___v1ew.push('\n<li class="'),___v1ew.push(can.view.txt(!0,"li","class",this,function(){return target})),___v1ew.push('" data-app="'),___v1ew.push(can.view.txt(!0,"li","data-app",this,function(){return target})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push("\n    "),___v1ew.push(can.view.txt(0,"li",0,this,function(){var n=[];return"latest_ribbit"==name?n.push('\n        <span class="ribbit"></span>\n    '):(n.push("\n        "),n.push(can.view.txt(0,"li",0,this,function(){return app.view("core/appSvg.ejs",{icon_key:name})})),n.push("\n        <span class='ui-app-label'>"),n.push(can.view.txt(1,"span",0,this,function(){return text})),n.push("</span>\n        "),n.push(can.view.txt(0,"li",0,this,function(){var n=[];return"undefined"!=typeof counter&&counter&&n.push('\n            <span class="counter"></span>\n        '),n.join("")})),n.push("\n    ")),n.join("")})),___v1ew.push("\n</li>\n"),___v1ew.join("")}}))});
/*os/views/profile/main.ejs!can/view/ejs/system*/
define("os/views/profile/main.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/profile/main.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="os-menu-holder os-profile-holder hide">\n    <ul class="os-contextmenu-menu" id="profile">\n        '),___v1ew.push(can.view.txt(0,"ul",0,this,function(){var e=[];return roles.has("app.resource.manager.documents.view")&&!isNaht&&(e.push("\n            "),e.push(can.view.txt(0,"ul",0,this,function(){return app.view("item.ejs",{name:"resources",target:"mydocs",text:app._("app.resources.documents",null,"os")})})),e.push("\n        ")),e.join("")})),___v1ew.push("\n        "),___v1ew.push(can.view.txt(0,"ul",0,this,function(){var e=[];return roles.has("app.preferences.access")&&(e.push("\n            "),e.push(can.view.txt(0,"ul",0,this,function(){return app.view("item.ejs",{name:"preferences",target:"preferences",text:app._("app.preferences",null,"os")})})),e.push("\n        ")),e.join("")})),___v1ew.push("\n        "),___v1ew.push(can.view.txt(0,"ul",0,this,function(){var e=[];return!isNaht&&roles.has("app.notifications.access")&&(e.push("\n            "),e.push(can.view.txt(0,"ul",0,this,function(){return app.view("item.ejs",{name:"notifications",text:app._("app.notifications",null,"os"),counter:!0})})),e.push("\n        ")),e.join("")})),___v1ew.push("\n\t"),___v1ew.push(can.view.txt(0,"ul",0,this,function(){var e=[];return null!==ribbitUrl&&(e.push("\n            "),e.push(can.view.txt(0,"ul",0,this,function(){var e=[];return roles.has("app.systempreferences.manage.rss.enabled")&&(e.push("\n                "),e.push(can.view.txt(0,"ul",0,this,function(){return app.view("item.ejs",{name:"latest_ribbit",text:""})})),e.push("\n            ")),e.join("")})),e.push("\n            "),e.push(can.view.txt(0,"ul",0,this,function(){var e=[];return roles.has("app.systempreferences.manage.rss.enabled")&&(e.push("\n                "),e.push(can.view.txt(0,"ul",0,this,function(){return app.view("item.ejs",{name:"ribbits",text:app._("app.ribbits",null,"os")})})),e.push("\n            ")),e.join("")})),e.push("\n\t")),e.join("")})),___v1ew.push("\n        "),___v1ew.push(can.view.txt(0,"ul",0,this,function(){var e=[];return roles.has("app.profilemenu.welcomeinfo.access")&&(e.push("\n        "),e.push(can.view.txt(0,"ul",0,this,function(){return app.view("item.ejs",{name:"community",target:"welcome_info",text:app._("app.welcome_info",null,"os")})})),e.push("\n        ")),e.join("")})),___v1ew.push("\n        "),___v1ew.push(can.view.txt(0,"ul",0,this,function(){var e=[];return"admin"!=user.getType()&&"staff"!=user.getType()||!roles.has("app.profilemenu.support.access")||(e.push("\n            "),e.push(can.view.txt(0,"ul",0,this,function(){return app.view("item.ejs",{name:"help",target:"support",text:app._("app.support",null,"os")})})),e.push("\n        ")),e.join("")})),___v1ew.push("\n        "),___v1ew.push(can.view.txt(0,"ul",0,this,function(){var e=[];return roles.has("app.systempreferences.access")&&(e.push("\n            "),e.push(can.view.txt(0,"ul",0,this,function(){return app.view("item.ejs",{name:"systempreferences",text:app._("app.systempreferences",null,"os")})})),e.push("\n        ")),e.join("")})),___v1ew.push("\n        "),___v1ew.push(can.view.txt(0,"ul",0,this,function(){var e=[];return-1!==window.navigator.userAgent.indexOf("CrOS")&&"1"===Os.Models.Environment.get("login_method")?(e.push("\n            "),e.push("\n        ")):(e.push('\n            <li class="logout" data-action="logout">\n                <span class="icon ff-align-right-mono"></span>\n                <span class=\'ui-app-label os-ellipsis\'>\n                    <span class="logout-text">'),e.push(can.view.txt(1,"span",0,this,function(){return app._("core.profile.logout",null,"os")})),e.push('</span>\n                    <span class="logout-username">'),e.push(can.view.txt(1,"span",0,this,function(){return user.displayname})),e.push("</span>\n                </span>\n            </li>\n        ")),e.join("")})),___v1ew.push("\n    </ul>\n</div>\n"),___v1ew.join("")}}))});
/*os/views/profile/notifications.ejs!can/view/ejs/system*/
define("os/views/profile/notifications.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/profile/notifications.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="'),___v1ew.push(can.view.txt(!0,"div","class",this,function(){return category})),___v1ew.push('-group"',can.view.pending({scope:this}),">"),___v1ew.push("\n    "),___v1ew.push(can.view.txt(0,"div",0,this,function(){var n=[];for(var i in alerts)n.push("\n        "),n.push(can.view.txt(0,"div",0,this,function(){var n=[];return"generic"==category?(n.push('\n            <div class="notification generic">\n                '),n.push(can.view.txt(0,"div",0,this,function(){var n=[];return alert.getMessageParams()[0]&&alert.getMessageParams()[1]?(n.push("\n                    "),n.push(can.view.txt(1,"div",0,this,function(){return alert.getMessageParams()[1]})),n.push("\n                ")):(n.push("\n                    "),n.push(can.view.txt(1,"div",0,this,function(){return app._("generic.nobody",[],"notifications")})),n.push("\n                ")),n.join("")})),n.push("\n            </div>\n        ")):(n.push('\n            <div class="notification" '),n.push(can.view.txt(1,"div",1,this,function(){return alerts[i]})),n.push("",can.view.pending({scope:this}),">"),n.push('\n                <span class="unread"></span>\n                '),n.push(can.view.txt(1,"div",0,this,function(){return app._(alerts[i].attr("action_code"),alerts[i].attr("message_params"),"notifications")})),n.push("\n            </div>\n        ")),n.join("")})),n.push("\n    ");return n.join("")})),___v1ew.push("\n</div>"),___v1ew.join("")}}))});
/*os/views/profile/ribbit.ejs!can/view/ejs/system*/
define("os/views/profile/ribbit.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/profile/ribbit.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<a href="'),___v1ew.push(can.view.txt(!0,"a","href",this,function(){return url})),___v1ew.push('" target="_blank"',can.view.pending({scope:this}),">"),___v1ew.push('\n    <img class="" '),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push(image),e.push('"'),e.join("")})),___v1ew.push("",can.view.pending({scope:this}),">"),___v1ew.push("\n    <p>"),___v1ew.push(can.view.txt(1,"p",0,this,function(){return text})),___v1ew.push("</p>\n</a>\n"),___v1ew.join("")}}))});
/*os/views/search/error_result.ejs!can/view/ejs/system*/
define("os/views/search/error_result.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/search/error_result.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="ui-os-error-result">\n    <div class="img">\n    </div>\n    <h4>'),___v1ew.push(can.view.txt(1,"h4",0,this,function(){return app._("search_failed")})),___v1ew.push('</h4>\n    <div class="os-css-clear"></div>\n</div>'),___v1ew.join("")}}))});
/*os/views/search/more_results.ejs!can/view/ejs/system*/
define("os/views/search/more_results.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/search/more_results.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push(can.view.txt(0,"span",0,this,function(){var e=[];return showMoreLink&&(e.push('\n    <li class="ui-os-more-results" '),e.push(can.view.txt(2,"li","style",this,function(){var e=[];return e.push('style="'),e.push('text-align: right;"'),e.join("")})),e.push(' data-attr="'),e.push(can.view.txt(!0,"li","data-attr",this,function(){return type})),e.push('"',can.view.pending({scope:this}),">"),e.push('\n        <a href="#" >'),e.push(can.view.txt(1,"a",0,this,function(){return app._("more_results")})),e.push("</a>\n    </li>\n")),e.join("")})),___v1ew.join("")}}))});
/*os/views/search/no_results.ejs!can/view/ejs/system*/
define("os/views/search/no_results.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/search/no_results.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="ui-os-no-results">\n    <div class="img">\n    </div>\n    <h4>'),___v1ew.push(can.view.txt(1,"h4",0,this,function(){return app._("no_results")})),___v1ew.push('</h4>\n    <div class="os-css-clear"></div>\n</div>'),___v1ew.join("")}}))});
/*os/views/search/search_header.ejs!can/view/ejs/system*/
define("os/views/search/search_header.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/search/search_header.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="os-contextmenu-arrow"></div>\n<div class="ui-os-search-head">\n    <span>\n        <img '),___v1ew.push(can.view.txt(2,"img","src",this,function(){var e=[];return e.push('src="'),e.push('os/public/images/loading.gif"'),e.join("")})),___v1ew.push(' alt=""/>\n    </span>\n    <p>'),___v1ew.push(can.view.txt(1,"p",0,this,function(){return app._("searching")})),___v1ew.push("</p>\n</div>"),___v1ew.join("")}}))});
/*os/views/search/search_result_quicklink.ejs!can/view/ejs/system*/
define("os/views/search/search_result_quicklink.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/search/search_result_quicklink.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li class="ui-os-result" '),___v1ew.push(can.view.txt(1,"li",1,this,function(){return result})),___v1ew.push(" tabindex='0'",can.view.pending({scope:this}),">"),___v1ew.push('\n\t<a href="'),___v1ew.push(can.view.txt(!0,"a","href",this,function(){return result.getUrl()})),___v1ew.push('" title="'),___v1ew.push(can.view.txt(!0,"a","title",this,function(){return result.getName()})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push(can.view.txt(1,"a",0,this,function(){return result.getName()})),___v1ew.push("</a>\n</li>"),___v1ew.join("")}}))});
/*os/views/search/search_result.ejs!can/view/ejs/system*/
define("os/views/search/search_result.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/search/search_result.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<li class="ui-os-result" '),___v1ew.push(can.view.txt(1,"li",1,this,function(){return result})),___v1ew.push(" tabindex='0'",can.view.pending({scope:this}),">"),___v1ew.push('\n    <a href="#" title="'),___v1ew.push(can.view.txt(!0,"a","title",this,function(){return result.getName()})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push(can.view.txt(1,"a",0,this,function(){return result.getName()})),___v1ew.push("</a>\n</li>\n"),___v1ew.join("")}}))});
/*os/views/search/search_section_header.ejs!can/view/ejs/system*/
define("os/views/search/search_section_header.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/search/search_section_header.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="section">\n    <p>'),___v1ew.push(can.view.txt(1,"p",0,this,function(){return app._(title)})),___v1ew.push("</p>\n</div>"),___v1ew.join("")}}))});
/*os/views/search/search_section.ejs!can/view/ejs/system*/
define("os/views/search/search_section.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/search/search_section.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="ui-os-search-cont" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var e=[];return e.push('style="'),e.push('display: none;"'),e.join("")})),___v1ew.push(">\n    "),___v1ew.push(can.view.txt(0,"div",0,this,function(){return view("search/search_section_header",{title:title,type:type})})),___v1ew.push('\n    <div class="ui-os-results ui-search-'),___v1ew.push(can.view.txt(!0,"div","class",this,function(){return type})),___v1ew.push('"',can.view.pending({scope:this}),">"),___v1ew.push("\n        <ul></ul>\n    </div>\n</div>"),___v1ew.join("")}}))});
/*os/views/search/textsearch_sections.ejs!can/view/ejs/system*/
define("os/views/search/textsearch_sections.ejs!can/view/ejs/system",["can/view/ejs/ejs"],function(can){return can.view.preloadStringRenderer("os/views/search/textsearch_sections.ejs",can.EJS(function(_CONTEXT,_VIEW){with(_VIEW)with(_CONTEXT){var ___v1ew=[];return ___v1ew.push('<div class="ui-os-search-cont user clearfix" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var s=[];return s.push('style="'),s.push('display: none;"'),s.join("")})),___v1ew.push(">\n    "),___v1ew.push(can.view.txt(0,"div",0,this,function(){return view("search/search_section_header",{title:"app.users"})})),___v1ew.push('\n    <div class="ui-os-results ui-search-user">\n        <ul></ul>\n    </div>\n</div>\n<div class="ui-os-search-cont group clearfix" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var s=[];return s.push('style="'),s.push('display: none;"'),s.join("")})),___v1ew.push(">\n    "),___v1ew.push(can.view.txt(0,"div",0,this,function(){return view("search/search_section_header",{title:"app.groups"})})),___v1ew.push('\n    <div class="ui-os-results ui-search-group">\n        <ul></ul>\n    </div>\n</div>\n<div class="ui-os-search-cont resource clearfix" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var s=[];return s.push('style="'),s.push('display: none;"'),s.join("")})),___v1ew.push(">\n    "),___v1ew.push(can.view.txt(0,"div",0,this,function(){return view("search/search_section_header",{title:"app.resources"})})),___v1ew.push('\n    <div class="ui-os-results ui-search-resource">\n        <ul></ul>\n    </div>\n</div>\n<div class="ui-os-search-cont quicklink_shortcut clearfix" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var s=[];return s.push('style="'),s.push('display: none;"'),s.join("")})),___v1ew.push(">\n    "),___v1ew.push(can.view.txt(0,"div",0,this,function(){return view("search/search_section_header",{title:"app.quicklinks"})})),___v1ew.push('\n    <div class="ui-os-results ui-search-quicklink">\n        <ul></ul>\n    </div>\n</div>\n<div class="ui-os-search-cont site clearfix" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var s=[];return s.push('style="'),s.push('display: none;"'),s.join("")})),___v1ew.push(">\n    "),___v1ew.push(can.view.txt(0,"div",0,this,function(){return view("search/search_section_header",{title:"app.sites"})})),___v1ew.push('\n    <div class="ui-os-results ui-search-site">\n        <ul></ul>\n    </div>\n</div>\n<div class="ui-os-search-cont assignment clearfix" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var s=[];return s.push('style="'),s.push('display: none;"'),s.join("")})),___v1ew.push(">\n    "),___v1ew.push(can.view.txt(0,"div",0,this,function(){return view("search/search_section_header",{title:"app.markbook"})})),___v1ew.push('\n    <div class="ui-os-results ui-search-assignment">\n        <ul></ul>\n    </div>\n</div>\n<div class="ui-os-search-cont calendar clearfix" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var s=[];return s.push('style="'),s.push('display: none;"'),s.join("")})),___v1ew.push(">\n    "),___v1ew.push(can.view.txt(0,"div",0,this,function(){return view("search/search_section_header",{title:"app.calendar"})})),___v1ew.push('\n    <div class="ui-os-results ui-search-calendar">\n        <ul></ul>\n    </div>\n</div>\n<div class="ui-os-search-cont britannicaadvanced clearfix" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var s=[];return s.push('style="'),s.push('display: none;"'),s.join("")})),___v1ew.push(">\n    "),___v1ew.push(can.view.txt(0,"div",0,this,function(){return view("search/search_section_header",{title:"app.britannicaadvanced"})})),___v1ew.push('\n    <div class="ui-os-results ui-search-britannicaadvanced">\n        <ul></ul>\n    </div>\n</div>\n<div class="ui-os-search-cont britannicaintermediate clearfix" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var s=[];return s.push('style="'),s.push('display: none;"'),s.join("")})),___v1ew.push(">\n    "),___v1ew.push(can.view.txt(0,"div",0,this,function(){return view("search/search_section_header",{title:"app.britannicaintermediate"})})),___v1ew.push('\n    <div class="ui-os-results ui-search-britannicaintermediate">\n        <ul></ul>\n    </div>\n</div>\n<div class="ui-os-search-cont britannicafoundation clearfix" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var s=[];return s.push('style="'),s.push('display: none;"'),s.join("")})),___v1ew.push(">\n    "),___v1ew.push(can.view.txt(0,"div",0,this,function(){return view("search/search_section_header",{title:"app.britannicafoundation"})})),___v1ew.push('\n    <div class="ui-os-results ui-search-britannicafoundation">\n        <ul></ul>\n    </div>\n</div>\n<div class="ui-os-search-cont quiz clearfix" '),___v1ew.push(can.view.txt(2,"div","style",this,function(){var s=[];return s.push('style="'),s.push('display: none;"'),s.join("")})),___v1ew.push(">\n    "),___v1ew.push(can.view.txt(0,"div",0,this,function(){return view("search/search_section_header",{title:"app.quizzes"})})),___v1ew.push('\n    <div class="ui-os-results ui-search-quiz">\n        <ul></ul>\n    </div>\n</div>\n'),___v1ew.join("")}}))});
/*os/views/views*/
define("os/views/views",["./breadcrumb/breadcrumb.ejs","./breadcrumb/breadcrumbs.ejs","./contextmenu/back.ejs","./contextmenu/contextmenu.ejs","./contextmenu/horizontalmenuitem.ejs","./contextmenu/menuitem.ejs","./contextmenu/submenu.ejs","./contextmenu/tour_button.ejs","./core/appSvg.ejs","./core/growl.ejs","./core/mainWindow.ejs","./core/orientation.ejs","./core/ribbit.ejs","./core/show.ejs","./core/testDialog.ejs","./core/unsupportedOnMobile.ejs","./dialog/alert.ejs","./dialog/confirm.ejs","./dialog/dialog.ejs","./faststart/item/applink.ejs","./faststart/item/appwrapper.ejs","./faststart/item/dashboard.ejs","./faststart/item/external_site.ejs","./faststart/item/malaysia_site.ejs","./faststart/item/package.ejs","./faststart/item/site.ejs","./faststart/item/weblink.ejs","./faststart/menu.ejs","./faststart/menuitem.ejs","./faststart/quicklink.ejs","./footer/footer.ejs","./frog_menu/dashboardselector.ejs","./frog_menu/desktopnav.ejs","./frog_menu/frog-menu.ejs","./frog_menu/item.ejs","./frog_menu/shortcut.ejs","./frog_menu/titlebar.ejs","./graphs/cell.ejs","./graphs/row.ejs","./graphs/table.ejs","./iframe/connection_bar.ejs","./inbox/icon.ejs","./inbox/main.ejs","./modal/appLoader.ejs","./modal/button.ejs","./modal/helpinline.ejs","./modal/loader.ejs","./modal/prompt.ejs","./modal/saving.ejs","./modal/skeleton.ejs","./notifications/alert_generic.ejs","./notifications/alert.ejs","./notifications/empty.ejs","./notifications/group.ejs","./notifications/main.ejs","./paginate/init.ejs","./plus/buttons.ejs","./plus/main.ejs","./profile/groups.ejs","./profile/item.ejs","./profile/main.ejs","./profile/notifications.ejs","./profile/ribbit.ejs","./search/error_result.ejs","./search/more_results.ejs","./search/no_results.ejs","./search/search_header.ejs","./search/search_result_quicklink.ejs","./search/search_result.ejs","./search/search_section_header.ejs","./search/search_section.ejs","./search/textsearch_sections.ejs"]);
/*os/controllers/contextmenu_controller*/
define("os/controllers/contextmenu_controller",["module","@loader","require"],function(e,t,n){t.get("@@global-helpers").prepareGlobal({require:n,name:e.id,deps:[]});var o=t.global.define,n=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Lib.Controllers.Abstract.Tour("Os.Controllers.ContextMenu",{listenTo:["os.internal.contextmenu.set","os.internal.contextmenu.action","menu.close","os.internal.contextmenu.updatetour"],defaultMenu:{},triggerApp:null},{menu:null,selectedOption:null,"{document} {click}":function(e,t){$(t.target).closest("#titleContextMenu").length||this.hide()},"menu.close":function(e,t,n){this.hide()},"os.internal.contextmenu.set":function(e,t,n){t.stopPropagation(),n.element&&n.element.length&&this.renderContextMenu(n.data,n.element)},"os.internal.contextmenu.updatetour":function(e,t,n){var o=this,i=$(this.view("~/os/views/contextmenu/tour_button.ejs",{},{},!0));i.on("click",function(e){var t,i,a=window;e.stopPropagation(),t=n.data.tour_name.split(".");for(var u=0;u<t.length;u++){if(!a[t[u]])return void console.error("Unable to find "+n.data.tour_name+" on the window object");a=a[t[u]]}i=a,o.loadTour(new Curriculummanager.Models.Tour(i),n.data.element,null,!0)}),this.element.siblings(".tour-button").remove(),this.element.after(i)},"os.internal.contextmenu.action":function(e,t,n){t.stopPropagation(),n.data&&n.data.action&&this.triggerApp.trigger(n.data.action,n.data.extra)},"a.os-context-menu-label {click}":function(e,t){t.preventDefault(),this.model("ContextMenuDom").showMenu()},"a.os-contextmenu-back-button {click}":function(e,t){this.moveBack(e,t)},"li {click}":function(e,t){t.preventDefault(),this.model("ContextMenuDom").hideAllSiblings(e),this.model("ContextMenuDom").showChildMenu(e),this.model("ContextMenuDom").childMenuExists(e)||this.model("ContextMenuDom").hideAll();var n=e.attr("data-action"),o=e.data("data");n&&this.trigger("os.contextmenu.action",{action:n,extra:o}),t.stopPropagation()},init:function(){var e=this;this.element.parent().delegate("li[data-action]","click",function(){var t=$(this).data();t.action&&e.trigger("os.contextmenu.action",{action:t.action,extra:t.data})})},moveBack:function(e){var t=this.element.find(".os-contextmenu-submenu"),n=t.length-1,o="",i=this;n>0?(o=this.element.find(".ui-os-button").data("title"),this.element.find(".os-contextmenus-holder").animate({marginLeft:"+="+(t.width()+10)+"px"},500,function(){i.removeUL(n),i.renderTitle(o),i.renderBackButton("Main","")})):this.element.find(".os-contextmenus-holder").animate({marginLeft:"0px"},500,function(){i.removeBackButton(),i.removeUL(),o=i.element.find(".os-context-menu-label").text()+" Menu",i.renderTitle(o)})},removeUL:function(e){this.element.find(".os-contextmenu-submenu").eq(e||0).remove()},removeBackButton:function(){this.element.find("div.os-contextmenu-backButton").remove()},renderSubMenu:function(e,t){var n=this.view("submenu.ejs",{menu:t});this.element.find(".os-contextmenus-holder").append(n);var o=this.element.find(".os-contextmenu-submenu"),i=o.outerHeight(),a=o.outerWidth()+10;this.element.find(".os-contextmenus-holder").animate({"margin-left":"-="+a+"px"},500).find(".os-contextmenu-pane").animate({height:i+"px"},500)},renderBackButton:function(e,t){var n=this.element.find("a.os-contextmenu-back-button");n.length?n.text(e).data("title",t):this.element.find(".os-contextmenu-menu-title").prepend(this.view("back",{title:t,text:e}))},renderTitle:function(e){this.element.find(".os-contextmenu-menu-title .title").text(e)},renderContextMenu:function(e,t){var n=this;this.model("ContextMenuDom").displayMenu(e,_Roles,function(){n.triggerApp=$(t),menu=e})},hide:function(){this.element.find(".os-contextmenu-holder").addClass("hide").parent().removeClass("selected")}});',address:e.uri}),t.global.require=n,t.global.define=o,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/frogmenu_controller*/
define("os/controllers/frogmenu_controller",["module","@loader","require"],function(o,e,d){e.get("@@global-helpers").prepareGlobal({require:d,name:o.id,deps:[]});var i=e.global.define,d=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'Frog.Controller.extend("Os.Controllers.FrogMenu",{},{modal:null,init:function(){},"frogmenu.showdashboard":function(o,d){if(this.element.find("span.ff-frog-mono.single").addClass("disabled"),this.element.find(".ui-os-desktop").is(":visible"))return this.model("CoreDom").hideDesktop(),void this.element.trigger("os.dashboard.setcontextmenu");this.trigger("os.getDashboards",function(o){o.dashboards.length>1&&this.showDashboardSelector()}.bind(this))},\'[data-action="home"] {click}\':function(o,d){return this.element.trigger("frogmenu.showdashboard"),!1},showDashboardSelector:function(){if(!this.model("DashboardDom").isCurrentDashInEditMode()){if(this.modal)return this.hideModal();this.modal=this.bsmodal("Dashboard",null,"dashboard-selector",{disableWrapper:!0},!0).find(".modal-header").hide().end().find(".modal-footer").hide().end(),this.trigger("os.getDashboards",function(o){this.modal.attr("data-dashboards",o.dashboards.length).find(".modal-body").html(this.view("frog_menu/dashboardselector.ejs",{dashboards:o.dashboards}))}.bind(this)),this.modal.find("h5").dotdotdot()}},"{document} click":function(o,d){0===$(d.target).closest([".modal",".os-frog-menu"]).length&&this.modal&&this.hideModal()},"{document} keyup":function(o,d){27===d.which&&this.modal&&this.hideModal()},\'[data-action="change-dashboard"] click\':function(o,d){this.model("DashboardDom").slideTo(o.index()),this.hideModal(),this.element.trigger("os.dashboard.setcontextmenu")},hideModal:function(){this._super(this.modal),this.modal=!1}});',address:o.uri}),e.global.require=d,e.global.define=i,e.get("@@global-helpers").retrieveGlobal(o.id,void 0)});
/*os/controllers/shortcuts_controller*/
define("os/controllers/shortcuts_controller",["module","@loader","require"],function(e,o,r){o.get("@@global-helpers").prepareGlobal({require:r,name:e.id,deps:[]});var s=o.global.define,r=o.global.require;return o.global.define=void 0,o.global.module=void 0,o.global.exports=void 0,o.__exec({source:'Frog.Controller.extend("Os.Controllers.Shortcuts",{listensTo:["click","os.app.search"]},{init:function(){this.options.shortcuts=Os.Models.Shortcut.findAll(this.options.roles),this.element.html(this.view("frog_menu/shortcut.ejs",{shortcuts:this.options.shortcuts})).find(\'[data-action="quicklaunch"]\').os_quick_start().end().find(\'[data-action="profile"]\').os_profile({roles:this.options.roles,user:this.options.user}).end(),$(window).resize()}});',address:e.uri}),o.global.require=r,o.global.define=s,o.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/assignments_controller*/
define("os/controllers/assignments_controller",["module","@loader","require"],function(e,t,n){t.get("@@global-helpers").prepareGlobal({require:n,name:e.id,deps:[]});var s=t.global.define,n=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Controller.extend("Os.Controllers.Assignments",{listensTo:[]},{pollingDuration:3e5,maxHeight:768,init:function(){var e=this,n=this.element.siblings(".os-titlebar").find(\'[data-action="assignments"]\');steal.import("lib/vendor/myfrog/init").then(function(){var n=e.triggerHandler("os.getUser",{}).profile.type,t=n.match(/^profile-/)?n:"profile-"+n;this.element.app_init({profile:t})}.bind(this)),this.elements={},this.elements.menu_icon=n},"{document} click":function(e,n){0===$(n.target).closest(".os_assignments").length&&0===$(n.target).closest(\'[data-action="assignments"]\').length&&this.element.trigger("assignments.toggle",!1)},"menu.close":function(){this.element.trigger("assignments.toggle",!1)},".frogcard-wrapper click":function(e,n){var t=e.model();switch(!0){case t instanceof MobileLib.Models.Assignments:case t instanceof MobileLib.Models.StaffAssignment:case t instanceof MobileLib.Models.ParentAssignment:this.launchAssignment(t);break;case t instanceof MobileLib.Models.Calendar:case t instanceof MobileLib.Models.CalendarEvents:case t instanceof MobileLib.Models.CalendarEventsSummary:this.launchCalendarEvent(t);break;default:return}this.element.trigger("assignments.toggle",!1)},"childselect.selected":function(e,n,t){this.options.selected_child=t},launchAssignment:function(e){if("student"===this.getUser().profile.type)this.trigger("os.app.launchAssignment",{uuid:e.assignment.uuid,status:e.assignment.status});else{var n,t=e.assignment_uuid||e.id;e.assignment_name,e.due_date;if(_Roles.has("app.markbookmanager.access"))n={name:"markbookmanager",assignment_deeplink_uuid:t};else if(_Roles.has("app.mychildswork.access")){var s=null;this.options.selected_child&&(s=new Lib.Models.User({uuid:this.options.selected_child.uuid,displayname:this.options.selected_child.displayname})),n={name:"assignmentreports",view:"parent",student:s,assignment_uuid:t}}else n={name:"assignmentreports",view:"student",assignment_uuid:t};this.trigger("os.internal.launchapp",n)}},launchCalendarEvent:function(e){this.trigger("os.app.viewevent",{uuid:e.id})},"assignments.toggle":function(e,n,t){var s;t=null!=t?!!t:!this.elements.menu_icon.hasClass("selected"),this.elements.menu_icon.toggleClass("selected",t),Frog.Utilities.toggleMenu(this.element,t),t&&0===this.element.children(".material").length?(s=this.cleanApp(),this.showLoader(null,s,null,null,0),steal.import("lib/vendor/myfrog/myfrog!frog-component").then(function(){this.initApp(s),this.hideLoader(null,s)}.bind(this))):t&&(s=this.cleanApp(),this.initApp(s))},initApp:function(e){new App.Controllers.Core(e[0],{})},cleanApp:function(){return this.element.empty(),this.element.append($(\'<div class="material"/>\')),this.element.find(">div")}});',address:e.uri}),t.global.require=n,t.global.define=s,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/search_controller*/
define("os/controllers/search_controller",["module","@loader","require"],function(e,s,t){s.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var a=s.global.define,t=s.global.require;return s.global.define=void 0,s.global.module=void 0,s.global.exports=void 0,s.__exec({source:'Frog.Controller.extend("Os.Controllers.Search",{listensTo:["focus","click","os.app.search"],ENTER_KEY:13,BACKSPACE:8,ESC_KEY:27,ARROW:{UP:38,DOWN:40}},{maxResultIncrement:3,appElement:null,pendingSearches:0,cachedSearch:null,lastSearchChars:0,hoverClass:"hover",currentTerms:null,maxCounts:{},minSearchLen:2,search_timeout_id:null,cachedResults:{},amountOfResultsRendered:{},pendingQuery:{},recentSearches:[],"{window} resize":function(e,s,t){this.resizeSearchBox()},"{window} orientationchange":function(){this.resizeSearchBox()},resizeSearchBox:function(){var e=$(window).height()-150;e<100&&(e=100);var s=this.find(".ui-os-search"),t=this.element.find(".navbar-search");0!==t.length&&($(window).width()>736&&s.css("left",t.offset().left),s.css("max-height",e),s.css("width",void 0))},"{document} keypress":$.debounce(function(e,s){Frog.Utilities.isKeyEventValidShortcut(s)&&"f"===String.fromCharCode(s.which)&&(s.preventDefault(),this.element.find(".ui-os-search-input").focus())},150),"input.ui-os-search-input focus":function(e){e.val().length>2&&"Search"!=e.val()?this.element.find(".ui-os-search").show():this.openRecent()},getRecent:function(){var e=$.Deferred();return this.recentSearches.length?e.resolve():Os.Models.Search.getRecent().done(function(s){this.recentSearches=s,e.resolve()}.bind(this)).fail(function(){e.reject()}.bind(this)),e},openRecent:function(){this.getRecent().done(function(){var e=this.find(".ui-os-search");e.empty(),e.append(this.view("search/search_section",{title:"Recent",type:"recent"})),this.renderSearchResults(e.find(".ui-os-search-cont").last(),this.recentSearches,10),e.show()}.bind(this))},"input.ui-os-search-input keydown":function(e,s){if((s.keyCode?s.keyCode:s.which)==this.Class.ARROW.DOWN){var t=$("div.ui-os-search").find("ul").find("li").removeClass(this.hoverClass).first();t.addClass(this.hoverClass),t.focus()}},".ui-os-search-form submit":function(e,s){s.preventDefault(),$.trim(this.element.find("form.ui-os-search-form > input").val()).length<=0&&(this.element.find("form.ui-os-search-form > input").val(""),this.element.trigger("click"))},"[data-action=search] {click}":function(e,s){s.preventDefault();var t=e.parent().find(".search-query"),a=$.trim(t.val());e.hasClass("ff-cross-mono")?(t.val("").blur().next().removeClass("ff-cross-mono").addClass("ff-search-mono"),e.removeClass("ff-cross-mono"),this.cleanupSearch()):a!==t.attr("placeholder")&&a.length&&(this.doSearch(a),e.removeClass("ff-search-mono").addClass("ff-cross-mono"))},".search-query keyup":function(e,s){if(s.preventDefault(),s.keyCode!=this.Class.ARROW.UP&&s.keyCode!=this.Class.ARROW.DOWN){var t=this.find(".ui-os-search"),a=this.find(\'.navbar-search button[data-action="search"]\');if(s.keyCode!=this.Class.ENTER_KEY||s.keyCode==this.Class.ENTER_KEY&&!t.is(":visible")){var r=$.trim(e.val());r.length>=this.minSearchLen?(this.currentTerms=r,this.doSearch(r),a.removeClass("ff-search-mono").addClass("ff-cross-mono")):(this.element.find(".ui-os-search").hide(),r.length||(clearTimeout(this.search_timeout_id),a.removeClass("ff-cross-mono").addClass("ff-search-mono")))}}},".ui-os-search keydown":function(e,s){var t,a,r=s.keyCode?s.keyCode:s.which,i=$("div.ui-os-search");if(i.is(":visible")){var n=i.find("li.ui-os-result.hover ,li.ui-os-more-results.hover");switch(n.length?a=(t=n.closest("ul")).closest(".ui-os-search-cont"):t=(a=i.find(".ui-os-search-cont:first")).find("ul"),r){case this.Class.ARROW.UP:if(n.length){var o=n.prev("li");if(!o.length){var c=a.prev(".ui-os-search-cont");c.length&&(o=(t=c.find("ul")).find("li:last"),a.removeClass(this.hoverClass),c.addClass(this.hoverClass))}o.length&&(n.removeClass(this.hoverClass),o.addClass(this.hoverClass),this.scrollIntoView(i,o))}else(n=t.find("li:first")).addClass(this.hoverClass),a.addClass(this.hoverClass);s.stopImmediatePropagation(),s.preventDefault();break;case this.Class.ARROW.DOWN:if(n.length){var h=n.next("li");if(!h.length){var l=a.next(".ui-os-search-cont");l.length&&(h=(t=l.find("ul")).find("li:first"),a.removeClass(this.hoverClass),l.addClass(this.hoverClass))}h.length&&(n.removeClass(this.hoverClass),h.addClass(this.hoverClass),this.scrollIntoView(i,h))}else(n=t.find("li:first")).addClass(this.hoverClass),a.addClass(this.hoverClass);s.stopImmediatePropagation(),s.preventDefault();break;case this.Class.ENTER_KEY:n.trigger("click");break;case this.Class.ESC_KEY:this.element.find(".ui-os-search").hide()}}},".ui-os-search-cont div.ui-os-results li mouseover":function(e,s){this.find("li.ui-os-result.hover ,li.ui-os-more-results.hover").removeClass(this.hoverClass),e.addClass(this.hoverClass)},".ui-os-search-cont div.ui-os-results li mouseout":function(e,s){e.removeClass(this.hoverClass)},".ui-os-search-cont mouseover":function(e,s){this.find(".ui-os-search-cont.hover").removeClass(this.hoverClass),e.addClass(this.hoverClass)},".ui-os-search-cont mouseout":function(e,s){e.removeClass(this.hoverClass)},"a.search-section-close {click}":function(e,s){e.closest("div.ui-search_section").slideUp(500,function(){$(this).remove()})},"div.ui-os-search {click}":function(e,s){s.stopImmediatePropagation()},"{click}":function(e,s){s.target!==this.element.find("div.ui-os-search")[0]&&s.target!==this.element.find(".ui-os-search-btn")[0]&&s.target!==this.element.find(".ui-os-search-input")[0]&&s.target!==this.element.find(\'button[data-action="recent"]\')[0]&&(this.element.find(".ui-os-search").empty(),this.element.find("form.ui-os-search-form > input").val("").next().removeClass("ui-os-search-btn-cross").blur(),this.cleanupSearch(),this.find(\'.navbar-search button[data-action="search"]\').removeClass("ff-cross-mono").addClass("ff-search-mono"))},".ui-os-result {click}":function(e,s){var t,a,r=e.model(),i=this;if("app"==r.getType())this.appElement.trigger(r.getAction(),{data:r.getData()});else switch(r.getType()){case"user":i.trigger("os.app.viewuser",{uuid:r.getUuid()});break;case"group":i.trigger("os.app.viewgroup",{uuid:r.getUuid(),group_name:r.getName()});break;case"apps":i.trigger("os.internal.launchapp",$.extend(!0,{name:r.getAppName(),appModel:r},r.attr("extended_data")));break;case"dashboard":i.trigger("dashboard.site.show",r.getData());break;case"site":i.trigger("os.app.siteviewer",{site:r.getLink()});break;case"resource":i.trigger("os.internal.launchapp",{name:"preview",resource:r});break;case"assignment":i.trigger("os.getUser",function(e){a=e}),t=_Roles.has("app.markbookmanager.access")&&a.attr("username")==r.getAuthor()?{name:"markbookmanager",assignment_deeplink_uuid:r.uuid}:_Roles.has("app.mychildswork.access")?{name:"assignmentreports",view:"parent"}:{name:"assignmentreports",view:"student",assignment_uuid:r.uuid,status:r.status},i.trigger("os.internal.launchapp",t);break;case"britannicaadvanced":i.trigger("os.internal.launchapp",{name:"britannicaadvanced",link:r.link});break;case"britannicaintermediate":i.trigger("os.internal.launchapp",{name:"britannicaintermediate",link:r.link});break;case"britannicafoundation":i.trigger("os.internal.launchapp",{name:"britannicafoundation",link:r.link});break;case"calendar":i.trigger("os.app.viewevent",{uuid:r.getUuid()});break;case"quicklink_shortcut":this.trigger("os.quickstart.launch",new Lib.Models.QuickLaunch({format:r.attr("format"),item:r}));break;case"recent":this.element.find(".search-query").val(r.getName()),this.element.find(".search-query").keyup();break;case"quiz":this.trigger("os.app.preview",{type:"quiz",uuid:parseInt(r.getId()),options:{quiz:r}})}this.element.find(".ui-os-search").hide()},".ui-os-result a {click}":function(e,s){s.preventDefault()},".ui-os-more-results {click}":function(e,s){var t=this,a=e.attr("data-attr"),r=this.amountOfResultsRendered[a]+this.maxResultIncrement,i=e.closest(".ui-os-search-cont");t.pendingQuery[a]||(t.cachedResults[a].length<=r?(deferred=Os.Models.Search.textSearch(this.currentTerms,a,{offset:t.cachedResults[a].length,limit:10}),t.pendingQuery[a]=!0,deferred.then(function(e){jQuery.isEmptyObject(e)||(t.cachedResults[a]=t.cachedResults[a].concat(e[a])),t.renderSearchResults(i,t.cachedResults[a],r)}).fail(function(){t.growl(t._("search.retrieve_more.error"),t._("app.globalsearch"),"global-search")}).always(function(){t.pendingQuery[a]=!1})):t.renderSearchResults(i,t.cachedResults[a],r),this.amountOfResultsRendered[a]=r)},"os.app.search":function(e,s,t){var a,r,i=t.data.terms,n=t.data.types,o=[],c=t.data.profile,h=t.data.callback,l={profile:c};if(i.length<this.minSearchLen)"function"==typeof h&&h();else{for(a=0;a<n.length;a++)switch(n[a]){case"groups":o[o.length]="group";break;case"users":o[o.length]="user";break;case"profiles":o[o.length]="profile"}void 0!==t.data.filter_take_assignment_users&&(l.filter_take_assignment_users=t.data.filter_take_assignment_users),void 0!==t.data.include_managers&&(l.include_managers=t.data.include_managers),void 0!==t.data.include_departments&&(l.include_departments=t.data.include_departments),void 0!==t.data.manager_uuid&&(l.manager_uuid=t.data.manager_uuid),void 0!==t.data.user_extended_data&&(l.user_extended_data=t.data.user_extended_data),void 0!==t.data.preserveArrayKeys&&(l.preserveArrayKeys=t.data.preserveArrayKeys),void 0!==t.data.filter_messages_inbox&&(l.filter_messages_inbox=t.data.filter_messages_inbox),l.originId=t.element.attr("data-uuid")||"default_identifier",r=this.model("Search").textSearch(i,o.join(","),l),"function"==typeof h&&h(r),s.stopPropagation()}},"mygroups.find":function(e,s,t){var a=t.data.callback,r=this.model("Search").getMyGroups();"function"==typeof a&&a(r),s.stopPropagation()},doSearch:function(e){var s=this,t=this.find(".ui-os-search"),a=$(window).height()-150,r=this.element.find(".navbar-search").offset().left;clearTimeout(this.search_timeout_id),this.search_timeout_id=setTimeout(function(){s.element.find("input.ui-os-search-input").val().length&&s.trigger("getFocusedApp",function(i){a<100&&(a=100),t.css("max-height",a),Os.Models.Search.hasCachedSearch()?t.html(""):(s.appElement=i,t.html(s.view("search/search_header"))),i&&s.search(t,"app_label","app",Os.Models.Search.searchApp(i,e)),s.search(t,"apps","apps",Os.Models.Search.findApps(e)),s.textSearch(t,Os.Models.Search.findAll(e)),$(window).width()>736&&t.css("left",r),t.show(),Os.Models.Search.addRecent(e)})},500)},textSearch:function(e,s){var t=this;e.append(this.view("search/textsearch_sections")),this.startSearch(),s.then(function(s){for(var a in s){var r=t.maxCounts[a]||t.maxResultIncrement,i=e.find(".ui-os-search-cont."+a);t.cachedResults[a]=s[a],t.amountOfResultsRendered[a]=r,t.pendingQuery[a]=!1,s[a]&&s[a].length>0?t.renderSearchResults(i,s[a],r):t.renderNoResults(i)}t.endSearch()}),"function"==typeof s.error&&s.error(function(e,s,a){t.endSearch()})},search:function(e,s,t,a){var r=this,i=this.view("search/search_section",{title:s,type:t});e.append(i);var n=e.find(".ui-os-search-cont").last();this.startSearch();var o=this.maxCounts[t]?this.maxCounts[t]:this.maxResultIncrement,t=t;this.recentSearches=[],a.then(function(e){e&&e.length>0?(r.cachedResults[t]=e,r.amountOfResultsRendered[t]=r.maxResultIncrement,r.pendingQuery[t]=!1,r.renderSearchResults(n,e,o)):r.renderNoResults(n),r.endSearch()}),"function"==typeof a.error&&a.error(function(){r.renderNoResults(n),r.endSearch()})},renderSearchResults:function(e,s,t){for(var a=e.find(".ui-os-results ul").html(""),r=0;r<s.length;r++){if(!(r<t)){this.renderMoreResultsLink(a,s[r].getType());break}this.renderSearchResult(a,s[r])}e.show()},renderSearchResult:function(e,s){"function"==typeof s.getType&&"quicklink_shortcut"===s.getType()?e.append(this.view("search/search_result_quicklink",{result:s})):e.append(this.view("search/search_result",{result:s}))},renderMoreResultsLink:function(e,s){var t="britannicaadvanced"!==s&&"britannicaintermediate"!==s&&"britannicafoundation"!==s;e.append(this.view("search/more_results",{type:s,showMoreLink:t}))},renderErrorResult:function(e){e.remove()},renderNoResults:function(e){e.remove()},startSearch:function(){this.pendingSearches++},endSearch:function(){var e=this,s=this.element;this.pendingSearches--,this.pendingSearches<1&&setTimeout(function(){if(s.find("input.ui-os-search-input").val().length){s.find(".ui-os-search-head").remove();var t=s.find(".ui-os-search");0===t.children().length?t.html(\'<div class="no_results">\'+e._("core.controller_search.no_results")+"</div>"):(s.find(".ui-os-search").prepend(\'<div class="ui-os-search-head"></div>\').prepend(\'<div class="os-search-arrow"></div>\'),s.find(".ui-os-search-head").html(\'<div class="results_label">\'+e._("core.controller_search.results_label")+"</div>"))}e.pendingSearches=0},500)},scrollIntoView:function(e,s){var t=e.offset().top,a=s.offset().top;if(a<t||a+s.height()>t+e.height()){var r=e.scrollTop()-(t-a);e.scrollTop(r)}},getDeferredSearch:function(e,s){switch(e){case"app":return Os.Models.Search.searchApp(this.appElement,s);case"quicklink_shortcut":return Os.Models.Search.findQuickLinks(s);case"user":return Os.Models.Search.findUsers(s);case"group":return Os.Models.Search.findGroups(s);case"resource":return Os.Models.Search.findResources(s);case"site":return Os.Models.Search.findSites(s);case"assignment":return Os.Models.Search.findAssignments(s);case"calendar":return Os.Models.Search.findAppointments(s);case"apps":return Os.Models.Search.findApps(s);case"contentproviders":return Os.Models.Search.findBritannica(s);default:this.log("Unknown search type: ",e)}return!1},cleanupSearch:function(){var e=this.find("div.ui-os-search");e.hide(),e.html(""),this.pendingSearches=0,this.maxCounts={}}});',address:e.uri}),s.global.require=t,s.global.define=a,s.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/dashboard_controller*/
define("os/controllers/dashboard_controller",["module","@loader","require"],function(o,s,t){s.get("@@global-helpers").prepareGlobal({require:t,name:o.id,deps:[]});var e=s.global.define,t=s.global.require;return s.global.define=void 0,s.global.module=void 0,s.global.exports=void 0,s.__exec({source:'Frog.Controller.extend("Os.Controllers.Dashboard",{listensTo:["dashboard.background.set","dashboard.site.set","dashboard.site.show","os.dashboard.setcontextmenu"]},{resizeTimeout:null,contextmenu_cache:{},dashboards:null,"os.dashboard.setcontextmenu":function(s,o,t){this.setContextMenu()},"{document} keypress":$.debounce(function(s,o){var t=parseInt(String.fromCharCode(o.which),10);Frog.Utilities.isKeyEventValidShortcut(o)&&t>0&&this.model("DashboardDom").slideTo(t-1)},150),"{window} resize":function(s,o){var t;$.support.touch||void 0===s.Os||"DIV"==o.target.nodeName||(t=this.model("DashboardDom"),clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.resize()},200))},".os-desktop-navigation-spot {click}":function(s,o){if(!s.hasClass("os-desktop-navigation-spot-active")){var t=this.model("DashboardDom");t.isCurrentDashInEditMode()||t.slideTo(s.index(".os-desktop-navigation-spot"),this.setContextMenu.bind(this))}},"dashboard.background.set":function(s,o,t){this.trigger("os.setDashboardBackground",t.data),Frog.Utilities.setBackgroundImage(this.element.find(".app-sites:not(.ui-selectmenu)"),t.data.value,t.data.style)},"dashboard.hideDashboards":function(){this.model("DashboardDom").hideDashboards()},"dashboard.showDashboards":function(){this.model("DashboardDom").showDashboards()},"dashboard.site.show":function(s,o,t){this.trigger("os.desktop.hide");var e=0;s:for(var a in this.options.dashboards)switch(t.data.type){case"personal":if("my_dashboard"==this.options.dashboards[a].alias||"parent_noticeboard"==this.options.dashboards[a].alias){e=a;break s}break;case"school":if("school_dashboard"==this.options.dashboards[a].alias){e=a;break s}}this.model("DashboardDom").slideTo(e,this.setContextMenu.bind(this))},"dashboard.site.set":function(s,o,t){var e=t.data.index,a=t.data.link;this.model("DashboardDom").refreshDashboard(e,a)},init:function(){var s=null,o=this.model("DashboardDom");this.element.find("div.ui-os-main-window > div.site");$.support.touch&&this.element.os_dashboard_touch(),this.options.company.background&&(s=this.options.company.background),this.options.user.background&&(s=this.options.user.background),s&&this.element.trigger("dashboard.background.set",{data:{style:this.options.user.background_style,value:s}}),o.initDashboards(this.options),setTimeout(function(){$("#loading-backdrop").fadeOut(750,function(){$(this).remove()}),$(window).resize()},500),this.setContextMenu()},setContextMenu:function(){var s=this,o=this.options.dashboards[this.model("DashboardDom").getCurrent()],t=o.alias.replace(/_dashboard.*$/,"");this.contextmenu_cache[t]?this.trigger("os.contextmenu.set",this.contextmenu_cache[t]):Os.Models.ContextMenu.findOne({help:_Roles.has("app.help.access"),type:t,current:o}).done(function(o){s.contextmenu_cache[t]=o[0],s.trigger("os.contextmenu.set",s.contextmenu_cache[t])}).always(function(){this.element.find(".navbar-inner").trigger("os.setFrogbarTooltips")}.bind(this))}});',address:o.uri}),s.global.require=t,s.global.define=e,s.get("@@global-helpers").retrieveGlobal(o.id,void 0)});
/*os/controllers/dashboard_touch_controller*/
define("os/controllers/dashboard_touch_controller",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var o=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Controller.extend("Os.Controllers.DashboardTouch",{listensTo:[],defaults:{vertical_threshold:30,site_menu_threshold:76}},{init:function(){this.dashDom=this.model("DashboardDom"),this.element[0].style.webkitTransitionDuration=0},".ui-os-main-window swipe":function(t,s,e){var i=$(s.target),o=e.yAmount>this.options.vertical_threshold,h=!(this.element.find(".dashboard-"+this.dashDom.getCurrent()).find(\'[data-site-name="Timeline Dashboard"]\').length>0)&&"left"==e.direction&&e.startEvnt.offset.x>this.element.width()-this.options.site_menu_threshold;this.dashDom.isCurrentDashInEditMode()||i.hasClass("handle")||i.hasClass("sites_menu")||i.parent("li").hasClass("tab")||h||o||("left"==e.direction&&this.dashDom.slideNext(),"right"==e.direction&&this.dashDom.slidePrev())}});',address:e.uri}),t.global.require=i,t.global.define=o,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/breadcrumb_controller*/
define("os/controllers/breadcrumb_controller",["module","@loader","require"],function(i,t,s){t.get("@@global-helpers").prepareGlobal({require:s,name:i.id,deps:[]});var e=t.global.define,s=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Controller.extend("Os.Controllers.Breadcrumb",{listensTo:["crumb.push","crumb.pop","crumb.pushMultiple","crumbs.resize","crumbs.clear"],defaults:{showTooltips:!1,minificationText:"...",minifyFrom:1}},{crumbs:null,init:function(){this.crumbs=[],this.options.backup&&(this.options.backup.crumbs&&(this.crumbs=this.options.backup.crumbs),this.options.backup.options&&(this.options=this.options.backup.options),this.setBreadcrumbMenu()),this.element.addClass("breadcrumb")},"crumbs.backup":function(i,t,s){"function"==typeof s&&s({crumbs:$.extend(!0,[],this.crumbs),options:$.extend(!0,{},this.options)})},"crumbs.resize":function(){this.resizeCrumbs()},"crumb.pushMultiple":function(i,t,s){var e=s.crumbs.length;this.crumbs=[];for(var r=0;r<e;r++)this.pushCrumb(s.crumbs[r],!1);return this.setBreadcrumbMenu()},"crumb.push":function(i,t,s){this.pushCrumb(s)},"crumb.pop":function(i,t,s){this.popCrumb()},"crumbs.clear":function(i,t,s){this.crumbs=[]},setBreadcrumbMenu:function(){this.element.html(this.view("breadcrumbs.ejs",{crumbs:this.crumbs,showTooltips:this.options.showTooltips})),this.resizeCrumbs()},resizeCrumbs:function(){this.element.css("width","auto");var i=this.element.children(),t=this.element.width(),s=this._getChildrenWidth(i);s<t?this.maximiseCrumbs():s>t&&this.minimiseCrumbs(),this.element.trigger("crumbs.resized")},pushCrumb:function(i,t){return i=$.extend(i,{history:this.crumbs.length}),this.crumbs.push(new Os.Models.Breadcrumbmodel(i)),!!(t=t||!0)&&this.setBreadcrumbMenu()},popCrumb:function(){return this.crumbs.pop(),this.setBreadcrumbMenu()},"a click":function(i,t){var s=i.closest("li").model();t.stopPropagation(),this.crumbs=this.crumbs.slice(0,s.getHistory()+1),this.element.trigger(s.getAction(),s.getData()),this.setBreadcrumbMenu()},_getChildrenWidth:function(i){for(var t=0,s=i||this.crumbs,e=s.length,r=0;r<e;r++)t+=s.eq(r).outerWidth();return t},maximiseCrumbs:function(){for(var i,t=this.element.width(),s=this.element.children(".breadcrumbmodel"),e=s.length-1;this._getChildrenWidth(s)<t&&e>=this.options.minifyFrom;){if(i=this._maximiseCrumb(s.eq(e)),this._getChildrenWidth(s)>t){this._minimiseCrumb(i);break}e--}},_maximiseCrumb:function(i){var t=i.model();return i.css({maxWidth:"inherit"}),i.find("a").text(t.name),i},minimiseCrumbs:function(i){for(var t=this.element.width(),s=this.element.children(),e=s.length,r=i||this.options.minifyFrom;this._getChildrenWidth(s)>t&&r<=e;)r>=this.options.minifyFrom&&this._minimiseCrumb(s.eq(r)),r++;s.last().css({maxWidth:t-this._getChildrenWidth(s.slice(0,-1))})},_minimiseCrumb:function(i){return i.find("a").html(this.options.minificationText),i}});',address:i.uri}),t.global.require=s,t.global.define=e,t.get("@@global-helpers").retrieveGlobal(i.id,void 0)});
/*os/controllers/paginate_controller*/
define("os/controllers/paginate_controller",["module","@loader","require"],function(e,t,s){t.get("@@global-helpers").prepareGlobal({require:s,name:e.id,deps:[]});var a=t.global.define,s=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Controller.extend("Os.Controllers.Paginate",{defaults:{total:5,limit:5,offset:0,page:1,numPages:1,showPageNums:!0,next:" &rarr;",prev:"&larr; ",onbeforeInit:!0,onafterInit:!0}},{values:{},init:function(){this.options.next=this._("button.next")+this.options.next,this.options.prev+=this._("button.prev"),this.values=$.extend(this.defaults,this.options),this.element.addClass("pagination"),this.page(1,this.values.onbeforeInit,this.values.onafterInit)},"page.values":function(t,e,s){"function"==typeof s&&s(this.values)},"page.update":function(t,e,s){this.update(s)},update:function(t){return this.values=$.extend(this.values,t),this.values=this.calculate(this.values.page),this.element.html(this.view("paginate/init.ejs",this.values)).hide().fadeIn("fast"),this.values.page},calculate:function(t){var e=$.extend(this.values,{}),s=Math.ceil(e.total/e.limit),a=Math.max(Math.min(t,s),1);return e.page=a,e.offset=(a-1)*e.limit,e.numPages=s,$.extend(e,{min:1})},page:function(t,e,s){var a=this.calculate(t),i=this;return e=void 0===e||e,s=void 0===s||s,e&&"function"==typeof this.values.onbefore&&this.values.onbefore(a.offset,a.limit),this.values=$.extend(this.values,a),s&&"function"==typeof i.values.onafter&&i.values.onafter(i.values.offset,i.values.limit),this.values.page},next:function(){return this.page(this.values.page+1)},prev:function(){return this.page(this.values.page-1)},"li click":function(t,e){if(e.stopPropagation(),t.hasClass("disabled")||t.hasClass("active"))return!1;$(e.target);t.hasClass("prev")?this.prev():t.hasClass("next")?this.next():this.page(parseInt($(e.target).html(),10))}});',address:e.uri}),t.global.require=s,t.global.define=a,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/quick_start_controller*/
define("os/controllers/quick_start_controller",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var n=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Controller.extend("Os.Controllers.QuickStart",{listensTo:[]},{removals:null,selectedItem:null,"menu.close":function(e){this.hide(),this.editModeOff()},"{document} click":function(e,t){(this.element.find(".os-quickstart-menu-holder").is(":visible")&&!$(t.target).closest(\'[data-action="quicklaunch"]\').length||this.element.find(".no-apps").is(":visible"))&&(this.editModeOff(),this.hide())},"quickstart.changeMyIcon":function(e,t,i){if(this.menu){var n=this.menu.grep(function(e){return e.item.instance===i.element[0]});n.length&&(n[0].item.name=i.text,n[0].item.icon=i.iconImage,this.render())}},".os-quickstart-menu-holder {click}":function(e,t){this.edit_mode&&(t.stopPropagation(),t.preventDefault())},".os-quickstart-delete {click}":function(e,t){var i=e.closest("li.os-quickstart-item-holder");i.model().markForRemoval(),i.animate({height:0,opacity:0},"fast",function(){$(this).remove()}),t.stopPropagation()},".os-quickstart-overlay {click}":function(e,t){t.stopPropagation()},".add {click}":function(e,t){var i=this;this.trigger("os.internal.launchapp",{name:"quicklinks",items:this.menu,cancelCallback:function(){i.render()}}),this.hide(),this.editModeOff(),t.stopPropagation()},".os-quickstart-item-holder click":function(e,t){t.stopPropagation(),$.support.touch||this.handleItemHolder(e,t)},".os-quickstart-item-holder tap":function(e,t){t.stopPropagation(),this.handleItemHolder(e,t)},handleItemHolder:function(e,t){var i=e.model(),n=this.element.find(".context-menu");this.selectedItem!==i?this.launch(e,t,i):n.is(":visible")&&(Frog.Utilities.hideMenu(n),this.selectedItem=null)},".os-quickstart-item-holder contextmenu":function(e,t){t.preventDefault(),t.stopPropagation();var i=e.model(),n=this.calculateContextMenuPosition(e);this.showContextMenu(n.x,n.y,i)},".os-quickstart-item-holder taphold":function(e,t){t.preventDefault(),t.stopPropagation();var i=e.model(),n=this.calculateContextMenuPosition(e);this.showContextMenu(n.x,n.y,i)},calculateContextMenuPosition:function(e){return{x:e.parent().width()-(e.position().left+50)<160?e.position().left+e.width()-160-30:e.position().left+50,y:e.position().top+50}},showContextMenu:function(e,t,i){var n=this.element.find(".context-menu"),s=n.find(".new"),a=n.find(".close-app"),o=this.menu.grep(function(e){return(e.item.uuid===i.item.uuid||i.item.link&&e.item.link===i.item.link)&&e.item.running}),r=i.item.maxInstances,u=!r||-1===r||o.length<r,c=Boolean(i.item.running);this.selectedItem=i,s.toggle(u),a.toggle(c),(u||c)&&Frog.Utilities.showMenu(n.css("left",e).css("top",t))},".context-menu li click":function(e,t){e.closest(".context-menu");var i,n=this.selectedItem;t.stopPropagation(),e.hasClass("new")?(i=!0,this.launch(e,t,n,i)):e.hasClass("close-app")&&$(n.item.instance).trigger("app.close"),this.selectedItem=null,this.hide(!0)},"quickstart.launch":function(e,t,i){this.launch(e,t,i)},"quickstart.running.remove":function(e,t,i){var n=this.menu.grep(function(e){return e.item.instance===i.item.instance}),s=n&&n.length?n[0]:null;s&&(s.item.original?s.item.running=!1:this.menu.remove(s.uuid)),this.getMenu()},"quickstart.running.add":function(e,t,i){this.gettingMenu.done(function(e){var t=this.menu.grep(function(e){return e.item.uuid===i.item.uuid||i.item.link&&e.item.link===i.item.link||i.item.url&&e.item.url===i.item.url&&e.item.name===i.item.name}),n=t&&t.length?t[0]:null;n&&!n.item.running?(n.item.original=!0,n.item.running=!0,n.item.instance=i.item.instance,n.item.maxInstances=i.item.maxInstances):$(i.item.instance).hasClass("ui-dialog-content")?this.focusInstance(i.item.instance):(i.item.running=!0,i.item.original=!1,i.uuid=Frog.Utilities.generateSimpleId(),i.sort=1/0,n&&n.is_quicklink&&(i.name=n.item.name,i.url=n.item.url,i.icon=n.item.icon,i.is_quicklink=n.is_quicklink,i.open_in_new_tab=n.item.open_in_new_tab,i.mine=n.item.mine,i.type=n.type),this.menu.push(Lib.Models.QuickLaunch.model(i))),this.getMenu()}.bind(this))},init:function(){this.edit_mode=!1,this.menu=null,this.removals=[],this.el={container:null,overlay:null},this.timer=null,this.el.container=$("<div>").addClass("os-contextmenu-holder hide"),this.el.overlay=$("<div>").addClass("os-quickstart-overlay").hide(),this.element.append(this.el.container),this.element.append(this.el.overlay),this.getMenu()},getMenu:function(){var e=this,t=(this.element,new $.Deferred);this.gettingMenu=t.promise(),clearTimeout(this.timer),this.timer=setTimeout(function(){e.trigger("os.app.getQL",function(i){i.done(function(i){e.menu=i,t.resolve(i),e.render()}).fail(function(i,n,s){t.reject(s),e.alert(e._("apps_retrieval_error"))})})},500)},launch:function(e,t,i,n){var s=this;if(this.edit_mode)return t.stopPropagation(),void("protected"!==i.type&&(_Roles.has("app.quicklinks.global")||"weblink"===i.format&&"personal"===i.type)&&(this.trigger("os.internal.launchapp",{name:"quicklinks",quickLink:e.model(),items:this.menu,cancelCallback:function(){s.discard(),s.render()},successCallback:function(e){}}),this.editModeOff()));if(!i)return t.stopPropagation(),void this.editModeOff();switch(i.format){case"weblink":this.launchLink(i,n);break;case"applink":case"appwrapper":case"package":["schooldashboard","mydashboard","parentnoticeboard"].indexOf(i.item.app_name)>-1?this.launchDashboard(i):this.launchAppLink(i,n);break;case"site":this.launchSite(i,n);break;case"external_site":this.launchExternalSite(i);break;case"dashboard":this.launchDashboard(i);break;case"malaysia_site":this.launchSite(i);break;default:throw new Error("Unknown Quick Launch Item")}this.editModeOff(),this.hide(!0),t.stopPropagation()},launchLink:function(e,t){e.item.open_in_new_tab?(this.element.trigger("os.analytics.app.launch",{name:"weblink",title:e.attr("item").attr("url")}),window.open(e.item.url,"_blank")):this.trigger("os.internal.launchapp",{name:"container",source:e.item.url,app_name:e.item.name,ssoicon:e.item.icon,launch_new:t})},launchAppLink:function(e,t){var i;if(e.item.running&&!t)return this.focusInstance(e.item.instance);i=$.extend({},e.getData(),{name:e.getAppName(),appModel:e.item,extended_data:e.attr("extended_data"),launch_new:t}),e.getData("ssoid")?this.trigger("os.internal.launchapp",{name:"wrapper",source:i.source,ssoname:i.appname,ssoicon:i.appicon,ssoid:i.ssoid,appModel:i.appModel}):this.trigger("os.internal.launchapp",i)},focusInstance:function(e){this.trigger("wm.app.focus",{app:{instance:$(e)}})},launchSite:function(e,t){if(e.item.running&&!t)return this.focusInstance(e.item.instance);this.trigger("os.app.siteviewer",{site:e.item.getLink(),launch_new:t})},launchExternalSite:function(e){this.element.trigger("os.analytics.app.launch",e.attr("item").attr("app_name")),window.open(e.getData("source"))},launchDashboard:function(e){this.trigger("dashboard.site.show",{type:e.getData("type")})},"{Lib.Models.QuickLaunch.Weblink} created":function(){this.getMenu()},"{Lib.Models.QuickLaunch.Weblink} destroyed":function(e,t,i){this.getMenu(),i.instance&&$(i.instance).trigger("app.close")},"{Lib.Models.QuickLaunch.Weblink} updated":function(){this.getMenu()},"{Lib.Models.QuickLaunch} updated":function(e,t,i){void 0!==i.attr("uuid")&&this.menu.remove(i.attr("uuid")),this.filteredMenuPush(i),this.getMenu()},"{Lib.Models.QuickLaunch} created":function(e,t,i){this.filteredMenuPush(i),this.getMenu()},"{Lib.Models.QuickLaunch} destroyed":function(e,t,i){i.item.instance&&$(i.item.instance).trigger("app.close"),this.menu.remove(i.attr("uuid")),this.getMenu()},filteredMenuPush:function(e){for(var t=!1,i=0;i<this.menu.length;i++)this.menu[i].item.uuid===e.item.uuid&&(t=!0);t||this.menu.push(e)},render:function(e){this.el.container.html(this.view("faststart/menu",{apps:this.menu,disableSvg:{frogplaylive:"malaysia"===Os.Models.Environment.Deployment.getLocale()},canEdit:_Roles.has("app.resource.manager.quicklaunch.personal")})),this.element.trigger("os.quicklaunch.toggle",!1),this.renderQuickLinkIcons()},renderQuickLinkIcons:function(){for(var e,t=this.element.find(".os-quickstart-item-icon img"),i=0,n=t.length;i<n;i++){e=t.eq(i);var s;s=/^public\\/icon\\/sites\\/resized\\/.+\\.png/.test(e.attr("src"))?"center-crop":"center-fill",Frog.Utilities.setBackgroundImage(e.parent(),e.attr("src"),s,{noresize:!0})}},".btn-edit {click}":function(e,t){this.edit(),t.stopPropagation(),t.preventDefault()},".btn-cancel {click}":function(e,t){this.editModeOff(),this.discard(),this.render(),t.stopPropagation()},".btn-save {click}":function(e,t){var i=this;this.menu.removeMarked().done(function(){i.editModeOff(),i.discard(),i.menu.length||i.el.container.hide()}),t.stopPropagation()},discard:function(e,t){this.menu.unmarkRemovals(),this.element.removeClass("edit"),this.el.overlay.fadeOut()},edit:function(e,t){this.edit_mode=!0,this.element.addClass("edit"),this.el.overlay.fadeIn()},hide:function(e){this.element.removeClass("edit"),this.el.overlay.fadeOut(),this.element.removeClass("selected"),Frog.Utilities.hideMenu(this.element.find(".os-contextmenu-holder"),e),Frog.Utilities.hideMenu(this.element.find(".context-menu"),e)},editModeOff:function(){this.edit_mode=!1}});',address:e.uri}),t.global.require=i,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/profile_controller*/
define("os/controllers/profile_controller",["module","@loader","require"],function(e,i,t){i.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var n=i.global.define,t=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'Frog.Controller.extend("Os.Controllers.Profile",{listensTo:["menu.close"]},{polling_duration:3e5,notification_count_limit:11,init:function(){this.render(),this.refreshRibbit().then(this.refreshNotifications.bind(this))},render:function(){var e=this;steal.import("frogui/components/profileicon/profileicon!frog-component").then(function(){e.element.find(".profile-icon").frogui_components_profile_icon({name:e.options.user.getDisplayName(),thumbnail:e.options.user.thumbnail,fallback:"initials",variant:"frogos-bar"})}),e.element.append(e.view("profile/main",{roles:e.options.roles,user:e.options.user,isNaht:Frog.Utilities.isBundle("FrogNAHT"),ribbitUrl:Os.Models.Environment.ribbit_url})),1===this.element.find(".os-profile-holder .os-contextmenu-menu > li").length&&(this.element.addClass("os_profile--single").find(".os-profile-holder").removeClass("hide"),"phone"===Frog.Utilities.getDevice()&&"student"===this.options.user.getType()&&(this.element.find(".logout .icon").remove(),this.element.find(".logout .logout-username").remove()))},"menu.close":function(){this.hideMenu()},"{document} {click}":function(e,i,t){t&&"shortcuts"===t.from||$(i.target).closest(\'[data-action="profile"]\').length||this.hideMenu()},"profile.toggle":function(){if(this.element.hasClass("selected"))return this.hideMenu();this.showMenu()},hideMenu:function(e){var i=this.element;i.hasClass("os_profile--single")||(Frog.Utilities.hideMenu(this.element.find(".os-profile-holder"),e),i.removeClass("selected"))},showMenu:function(){var e=this.element;e.hasClass("os_profile--single")||(Frog.Utilities.showMenu(this.element.find(".os-profile-holder")),e.addClass("selected"))},refreshRibbit:function(){return new Promise(function(e){if(!["superuser"!==this.options.user.profile.type,_Roles.has("app.systempreferences.manage.rss.enabled"),Os.Models.Environment.get("rss_enabled"),Os.Models.Environment.get("ribbits_enabled")].every(function(e){return new Boolean(e).valueOf()}))return e(null);Os.Models.Alert.getRibbitId().then(function(i){Os.Models.Alert.findRibbit(i).then(function(i){i.latest_id&&(this.ribbit(i.html),Os.Models.Alert.setRibbitId(i.latest_id)),e(i)}.bind(this))}.bind(this))}.bind(this))},refreshNotifications:function(e){var i;Os.Models.Alert.findAll({unread:!0,limit:this.notification_count_limit}).then(function(t){var n={alerts:t instanceof Os.Models.Alert.List?t.groupByCategory():{},ribbit:e,totalAlerts:t.length};this.element.trigger("notifications.update",n),clearTimeout(i),n.totalAlerts<=10&&(i=setTimeout(function(){this.refreshNotifications()}.bind(this),this.polling_duration))}.bind(this))},"notifications.update":function(e,i,t){var n=this.element.find(".notices-alert"),s=this.element.find(".notifications .counter"),o=this.element.find(".latest_ribbit .ribbit"),r=t.totalAlerts;r>0?(n.fadeIn(),r>10&&(r="10+"),s.text(r).show()):(n.fadeOut(),s.hide()),t.ribbit&&o.html(this.view("profile/ribbit",{text:t.ribbit.html.find("h1").first().text(),image:t.ribbit.html.find("img").first().attr("src"),url:t.ribbit.id}))},"[data-app] click":function(e,i){var t=e.data("app");switch(i.stopPropagation(),t){case"mydocs":this.trigger("os.internal.launchapp",{launch_new:!0,name:"resources",view:"mydocuments",uuid:"5F6C9080200481115C907F56C2414102D2E7E5BCD875000D"});break;case"welcome_info":this.element.trigger("welcome_info",{show_welcome:!0,force:!0});break;case"systempreferences":this.trigger("os.internal.launchapp",{name:"systempreferences",uuid:"2B16012220048F610FEA6FF7E0B07F0BAECBBE6C1B93FACB"});break;case"ribbits":window.open("https://ribbits.frogeducation.com/ribbits");break;case"latest_ribbit":break;case"support":window.open("https://forum.frogcommunity.com/");break;default:this.trigger("os.internal.launchapp",{name:t})}},"{Os.Models.Alert} expired":function(e,i){this.refreshNotifications()},"{Os.Models.Alert} viewed":function(e,i){this.refreshNotifications()},".ribbit click":function(e,i){i.stopPropagation(),this.resetNotifications()},"notifications.reset":function(){this.resetNotifications()},resetNotifications:function(){this.element.find(".notices-alert").removeClass("ribbit").end().find(".notifications .ribbit").empty(),this.hideMenu()}});',address:e.uri}),i.global.require=t,i.global.define=n,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/plus_controller*/
define("os/controllers/plus_controller",["module","@loader","require"],function(e,i,o){i.get("@@global-helpers").prepareGlobal({require:o,name:e.id,deps:[]});var a=i.global.define,o=i.global.require;return i.global.define=void 0,i.global.module=void 0,i.global.exports=void 0,i.__exec({source:'Frog.Controller.extend("Os.Controllers.Plus",{availableActions:[{name:"site",icon:"sites",role:"app.sites.create"},{icon:"markbook",name:"assignment",role:"app.sites.quick.assign"},{icon:"quizzes",name:"quiz",role:"app.quizbuilder"},{icon:"modules",name:"training_module",role:"app.training.module.create"},{icon:"frogplaylive",name:"fpl_session",role:"app.frogplaylive.manage_all"}]},{init:function(){this.options.launch?this.launchCreateMedia(this.options.launch):this.render()},render:function(){this.element.find(".modal-body").html(this.view("main.ejs",{actions:this.Class.availableActions,roles:this.options.roles}));for(var e=0,i=0;i<this.Class.availableActions.length;i++)this.options.roles.has(this.Class.availableActions[i].role)&&e++;e>3&&this.element.addClass("two_columns"),this.element.find(".modal-footer").html(this.view("buttons.ejs"))},"[data-action=launch] click":function(e,i){this.launchCreateMedia(e.data("type"))},"{document} click":function(e,i){$(i.target).hasClass("plus-icon")||this.hideModal(this.element)},launchCreateMedia:function(e){switch(e){case"assignment":steal.import("frogui/modules/assignmentwizard/assignmentwizard!frog-component").then(function(){$("<div>").frogui_modules_assignment_wizard_launcher({bypassLauncher:!0})});break;case"site":var i=$("<div>");steal.import("frogui/modules/sitecreationwizard/sitecreationwizard!frog-component").then(function(){i.frogui_modules_sitecreationwizard({resource:null,done_action:null,done_el:i,duplicate:{}})});break;case"quiz":this.trigger("os.app.launchQuizBuilder",{mode:"builder",options:{}});break;case"training_module":steal.import("frogui/modules/trainingmodulewizard/trainingmodulewizard!frog-component").then(function(){$("<div>").frogui_modules_trainingmodulewizard({})});break;case"fpl_session":this.trigger("os.app.launchFrogPlayLive",{mode:"newSession"})}}});',address:e.uri}),i.global.require=o,i.global.define=a,i.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/push_notifications_controller*/
define("os/controllers/push_notifications_controller",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var n=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Controller.extend("Os.Controllers.PushNotifications",{defaults:{sender_id:"828493668683"}},{init:function(){this.loadFirebase().then(this.initializeApp.bind(this),function(){}.bind(this))},loadFirebase:function(){var e=new $.Deferred,t=e.promise(),i=document.createElement("script");return i.setAttribute("src","https://www.gstatic.com/firebasejs/3.9.0/firebase.js"),i.onload=e.resolve,i.onerror=e.reject,document.head.appendChild(i),t},initializeApp:function(){var e={apiKey:this.options.apiKey,authDomain:this.options.authDomain,projectId:this.options.projectID,messagingSenderId:this.options.senderId};firebase.initializeApp(e),this.messaging=firebase.messaging(),"serviceWorker"in navigator&&navigator.serviceWorker.register("services/push.js?sender_id="+this.options.senderId).then(function(e){this.messaging.useServiceWorker(e),this.setupSession()}.bind(this)),this.element.triggerHandler("addListener",{el:this.element,target:"FrogCore.logout",listener:function(){return this.showLoader(null,this.element,"dark",null,500),this.deleteToken(this.ls.getItem("frogos_push_token")).always(this.hideLoader.bind(this,null,this.element))}.bind(this)})},setupSession:function(){this.requestPermission().then(function(){this.getToken().then(function(){this.onTokenRefresh().onMessage()}.bind(this))}.bind(this))},saveToken:function(e){var t=new $.Deferred,i=t.promise();return this.ls.hasOwnProperty("frogos_push_token")&&(e===this.ls.getItem("frogos_push_token")?t.resolve():this.deleteToken()),"resolved"!==t.state()&&this.getDeviceAlias().then(function(i){Frog.Model.fdp({url:"notification/registerToken",data:{token:e,alias:i},path:"/api/fdp/2/",type:"POST"}).then(function(){t.resolve(),this.ls.setItem("frogos_push_token",e)}.bind(this),function(){this.messaging.deleteToken(e),t.reject()}.bind(this))}.bind(this)),i},requestPermission:function(){return this.messaging.requestPermission()},getToken:function(){var e=new $.Deferred,t=e.promise();return this.messaging.getToken().then(function(t){this.saveToken(t).then(function(){e.resolve()}.bind(this))}.bind(this)),t},onTokenRefresh:function(){return this.messaging.onTokenRefresh(function(){this.deleteLocalToken().then(function(){this.getToken()}.bind(this))}.bind(this)),this},onMessage:function(){var e=this;return this.messaging.onMessage(function(t){var i=Os.Models.Alert.model({uuid:Frog.Utilities.generateSimpleId(),message_params:JSON.parse(t.data.message),app_params:JSON.parse(t.data.app),action_code:t.data.type}),n=t.data.type.split(".").shift();e.growl(e._(i.attr("action_code"),i.attr("message_params"),"notifications"),e._("heading."+n,null,"notifications"),n,{callback:function(){this.trigger.apply(this,Os.Models.Alert.Action.getTriggerAndData(i))}.bind(e)})}),this},deleteToken:function(e){if("serviceWorker"in navigator){var t=new $.Deferred,i=t.promise();return this.messaging.deleteToken(e).then(function(){t.resolve()}).catch(function(){t.reject()}),$.when(i,this.deleteLocalToken(e))}},deleteLocalToken:function(e){if(this.ls.hasOwnProperty("frogos_push_token"))!e&&(e=this.ls.getItem("frogos_push_token")),this.ls.removeItem("frogos_push_token");else if(!e)return(new $.Deferred).reject("no token provided").promise();return FrogOS.fdp({url:"notification/deleteToken",data:{token:e},type:"POST",path:"/api/fdp/2/"})},getDeviceAlias:function(){var e,t=new $.Deferred,i=t.promise();return this.ls.hasOwnProperty("frogos_push_device_alias")?t.resolve("browser_"+this.ls.getItem("frogos_push_device_alias")):$.post("https://api.appear.in/random-room-name").then(function(t){e=t.roomName.slice(1),this.ls.setItem("frogos_push_device_alias",e)}.bind(this),function(){e=Frog.Utilities.generateSimpleId()}).always(function(){t.resolve("browser_"+e)}),i},ls:{getStorage:function(){var e=function(){return!1},t={};return Modernizr.localstorage?window.localStorage:(Object.keys(this).forEach(function(i){t[i]=e}),t)},getItem:function(e){return this.getStorage().getItem(e)},hasOwnProperty:function(e){return this.getStorage().hasOwnProperty(e)},setItem:function(e,t){return this.getStorage().setItem(e,t)},removeItem:function(e){return this.getStorage().removeItem(e)},clear:function(){return this.getStorage().clear()},key:function(e){return this.getStorage().key(e)}}});',address:e.uri}),t.global.require=i,t.global.define=n,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/window_manager_touch_controller*/
define("os/controllers/window_manager_touch_controller",["module","@loader","require"],function(e,t,i){t.get("@@global-helpers").prepareGlobal({require:i,name:e.id,deps:[]});var s=t.global.define,i=t.global.require;return t.global.define=void 0,t.global.module=void 0,t.global.exports=void 0,t.__exec({source:'Frog.Controller.extend("Os.Controllers.WindowManagerTouch",{},{swipe:{},swipe_touch_count:3,swipe_threshold:15,static_body_width:$("body").width(),"div.ui-dialog touchstart":function(t,e){e.originalEvent.touches.length===this.swipe_touch_count&&(e.preventDefault(),t.css("-webkit-transform","translate3d(0,0,0)").removeClass("animate_centre animate_right animate_left"),t.next().css("-webkit-transform","translate3d(100%,0,0)").removeClass("animate_centre animate_right animate_left"),t.prev().css("-webkit-transform","translate3d(-100%,0,0)").removeClass("animate_centre animate_right animate_left"),this.swipe.start_x=e.originalEvent.touches[0].clientX,this.swipe.revert=!1,this.swipe.lock=!1)},"div.ui-dialog touchmove":function(t,e){if(e.originalEvent.touches.length===this.swipe_touch_count&&!this.swipe.lock){e.preventDefault();var i,s=t.next(),a=t.prev();this.swipe.current_x=e.originalEvent.touches[0].clientX,this.swipe.current_x-this.swipe.start_x,(i=this.swipe.current_x-this.swipe.start_x)>this.swipe_threshold&&a.length?(a.css("-webkit-transform","translate3d("+-this.static_body_width+"px,0,0)"),t.addClass("animate_right").one("webkitTransitionEnd",function(){t.removeClass("animate_right").addClass("animate_centre")}),a.addClass("animate_centre").find("div.app_dialog").dialog("moveToTop")):i<-this.swipe_threshold&&s.length?(s.css("-webkit-transform","translate3d("+this.static_body_width+"px,0,0)"),t.addClass("animate_left").one("webkitTransitionEnd",function(){t.removeClass("animate_left").addClass("animate_centre")}),s.addClass("animate_centre").find("div.app_dialog").dialog("moveToTop")):i>this.swipe_threshold&&!a.length?(t.addClass("bounce_right").one("webkitTransitionEnd",function(){t.removeClass("bounce_right")}),this.swipe.lock=!0):i<-this.swipe_threshold&&!s.length&&(t.addClass("bounce_left").one("webkitTransitionEnd",function(){t.removeClass("bounce_left")}),this.swipe.lock=!0)}}});',address:e.uri}),t.global.require=i,t.global.define=s,t.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/inbox_controller*/
define("os/controllers/inbox_controller",["module","@loader","require"],function(e,n,t){n.get("@@global-helpers").prepareGlobal({require:t,name:e.id,deps:[]});var o=n.global.define,t=n.global.require;return n.global.define=void 0,n.global.module=void 0,n.global.exports=void 0,n.__exec({source:'var promisify=Frog.Utilities.promisify;Frog.Controller.extend("Os.Controllers.Inbox",{listensTo:["inbox.refresh","menu.close"],defaults:{}},{init:function(){var e=this;e.element.html(e.view("inbox/main.ejs")),e.$title=this.element.find(".header .title"),e.$content=this.element.find(".content .content--inbox"),e.$menuEl=this.element.siblings(".os-titlebar").find(\'[data-action="inbox"]\'),e.$menuEl.html(e.view("inbox/icon.ejs")),e.$badge=e.$menuEl.find(".inbox-badge"),e._firstRender=Frog.Utilities.insideOutPromise(),e.refresh(),this.checkAtIntervals(function(){return e.refresh()},3e5)},"menu.close":function(){this.element.trigger("inbox.toggle",!1)},"{document} click":function(e,t){var n=$(t.target);0===n.closest(".os_inbox, .os_inbox_modal").length&&0===n.closest(\'[data-action="inbox"]\').length&&this.element.trigger("inbox.toggle",!1)},"inbox.toggle":function(e,t,n){var o=this;if(n=null!=n?!!n:!this.$menuEl.hasClass("selected"),this.$menuEl.toggleClass("selected",n),Frog.Utilities.toggleMenu(this.element,n),n){var i=steal.import("lib/vendor/myfrog/myfrog","lib/vendor/myfrog/init").then(function(){return steal.import("$myfrog/frogui/components/inbox/inbox")});o.refresh();this.showLoaderWhile(i,{$el:o.element,theme:"dark",delay:100}).then(function(){o._firstRender.resolve()})}},"inbox.refresh":function(){this.refresh()},refresh:function(){var e=this;return promisify(Os.Models.Inbox.getList()).then(function(t){e.handleInboxData(t),e.handleUnreadCount(t.getUnreadCount())})},handleUnreadCount:function(e){"number"==typeof e?e<1?this.$badge.removeClass("inbox-badge--visible"):this.$badge.text(e).addClass("inbox-badge--visible"):this.$badge.text("?").addClass("inbox-badge--visible")},handleInboxData:function(e){var t=this,n=Date.now();t._lastUpdatedInboxData=n,t._firstRender.then(function(){var o;if(t._lastUpdatedInboxData===n){var i=$("<ol></ol>"),s=e.getItems();for(o=0;o<s.length;o++){var l=s[o],r=$("<li></li>").frogui_components_inbox_row(l);r.model(l),i.append(r)}var a=$(\'<div class="no-messages">No Messages</div>\');s.length<1&&a.addClass("no-messages--visible"),t.$content.addClass("frogui_components_inbox_core").empty().append(a).append(i)}})},".frogui_components_inbox_row click":function(e,t){var n=e.model();n.markAsRead(),this.refresh(),this.bsmodal(n.getTitle(),"<div></div>").os_inbox_modal({model:n})}}),Frog.Controller.extend("Os.Controllers.Inbox.Modal",{},{init:function(){var e=this;e.$header=e.element.find(".modal-header"),e.$title=e.$header.find("h4"),e.$body=e.element.find(".modal-body"),e.$footer=e.element.find(".modal-footer");var t=e.options.model,n=steal.import("lib/vendor/myfrog/init").then(function(){return steal.import("$myfrog/frogui/components/inboxdetailcontent/inboxdetailcontent")});e.showLoaderWhile(n,{$el:e.$body,theme:"light",timeout:1}).then(function(){var n=$("<div></div>").frogui_components_inbox_detail_content_core(t);e.$body.empty().append(n)}),e.$footer.append($(\'<div class="btn">Close</div><div class="btn btn-danger">Delete Message</div>\'))},".modal-footer .btn click":function(e,t){$(e).hasClass("btn-danger")&&(this.options.model.markAsDeleted(),$(".os_inbox").trigger("inbox.refresh")),this.hideModal(this.element)}});',address:e.uri}),n.global.require=t,n.global.define=o,n.get("@@global-helpers").retrieveGlobal(e.id,void 0)});
/*os/controllers/controllers*/
define("os/controllers/controllers",["lib/polyfills/jquery/debounce","./contextmenu_controller","./frogmenu_controller","./shortcuts_controller","./assignments_controller","./search_controller","./dashboard_controller","./dashboard_touch_controller","./breadcrumb_controller","./paginate_controller","./quick_start_controller","./profile_controller","./plus_controller","./push_notifications_controller","./window_manager_touch_controller","./inbox_controller","./controllers-ex"]);
/*os/tours/naht_quicklaunch_tour*/
define("os/tours/naht_quicklaunch_tour",["module","@loader","require"],function(o,e,t){e.get("@@global-helpers").prepareGlobal({require:t,name:o.id,deps:[]});var i=e.global.define,t=e.global.require;return e.global.define=void 0,e.global.module=void 0,e.global.exports=void 0,e.__exec({source:'window.Tours=window.Tours||{},window.Tours.Os=window.Tours.Os||{},Tours.Os.NahtQuickLaunch={name:"os_naht_quicklaunch",steps:[{wrapper:".os-navbar-icon-frog",popup:{content:"Select the froghead to view the platform Terms and Conditions and to log out of the system",type:"tooltip",position:"right",offsetVertical:30}},{wrapper:".os_quick_start",popup:{content:"Quick Launch is where you will find all of your applications.",type:"tooltip",position:"bottom",offsetHorizontal:-40},onLeave:function(){return $(".os_quick_start").click(),!0}},{wrapper:".lib_models_quick_launch_4E3CF623200557C1B6D2AFE98BCF460A4D10092CD70310EB",popup:{content:"Select the Curriculum Manager icon to launch the app.",type:"tooltip",position:"bottom",offsetHorizontal:-40},onLeave:function(){return $(".os_quick_start").click(),!0}}]};',address:o.uri}),e.global.require=t,e.global.define=i,e.get("@@global-helpers").retrieveGlobal(o.id,void 0)});
/*os/tours/tours*/
define("os/tours/tours",["os/tours/naht_quicklaunch_tour"]);
/*lib/lib*/
define("lib/lib",["jquery/jquery","jquery-migrate/jquery-migrate","./jquery-migrate-setup","jquery/controller/controller","jquery/model/model","jquery/model/list/list","jquery/model/backup/backup","jquery/model/validations/validations","lib/frog","lib/frog_controller","lib/frog_widget_controller","lib/frog_model","lib/controller/reauth_controller","lib/post_messages_controller","lib/ialsso_controller","lib/ial_model","lib/models/models","lib/packaging/packaging","lib/controller/abstract_tour_controller","public/js/libs/fancybox/fancybox","public/css/fancybox/jquery.fancybox-1.3.4.css","./lib-ex","os/public/css/css","os/models/models","os/views/views","os/controllers/controllers","os/tours/tours","os!i18n-plugin"]);